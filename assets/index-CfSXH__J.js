var qD=Object.defineProperty;var WS=n=>{throw TypeError(n)};var GD=(n,e,t)=>e in n?qD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Zt=(n,e,t)=>GD(n,typeof e!="symbol"?e+"":e,t),Gv=(n,e,t)=>e.has(n)||WS("Cannot "+t);var Y=(n,e,t)=>(Gv(n,e,"read from private field"),t?t.call(n):e.get(n)),et=(n,e,t)=>e.has(n)?WS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ne=(n,e,t,r)=>(Gv(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),xt=(n,e,t)=>(Gv(n,e,"access private method"),t);var jp=(n,e,t,r)=>({set _(s){Ne(n,e,s,t)},get _(){return Y(n,e,r)}});function KD(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var UG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function AC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kv={exports:{}},Ud={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function QD(){if(ZS)return Ud;ZS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Ud.Fragment=e,Ud.jsx=t,Ud.jsxs=t,Ud}var XS;function YD(){return XS||(XS=1,Kv.exports=QD()),Kv.exports}var x=YD(),Qv={exports:{}},ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS;function WD(){if(JS)return ct;JS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function C(z,re,fe){this.props=z,this.context=re,this.refs=A,this.updater=fe||w}C.prototype.isReactComponent={},C.prototype.setState=function(z,re){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,re,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=C.prototype;function j(z,re,fe){this.props=z,this.context=re,this.refs=A,this.updater=fe||w}var L=j.prototype=new k;L.constructor=j,S(L,C.prototype),L.isPureReactComponent=!0;var q=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function P(z,re,fe,le,be,Le){return fe=Le.ref,{$$typeof:n,type:z,key:re,ref:fe!==void 0?fe:null,props:Le}}function I(z,re){return P(z.type,re,void 0,void 0,void 0,z.props)}function N(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var re={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(fe){return re[fe]})}var F=/\/+/g;function $(z,re){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):re.toString(36)}function V(){}function _e(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(V,V):(z.status="pending",z.then(function(re){z.status==="pending"&&(z.status="fulfilled",z.value=re)},function(re){z.status==="pending"&&(z.status="rejected",z.reason=re)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Ee(z,re,fe,le,be){var Le=typeof z;(Le==="undefined"||Le==="boolean")&&(z=null);var xe=!1;if(z===null)xe=!0;else switch(Le){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(z.$$typeof){case n:case e:xe=!0;break;case g:return xe=z._init,Ee(xe(z._payload),re,fe,le,be)}}if(xe)return be=be(z),xe=le===""?"."+$(z,0):le,q(be)?(fe="",xe!=null&&(fe=xe.replace(F,"$&/")+"/"),Ee(be,re,fe,"",function(at){return at})):be!=null&&(N(be)&&(be=I(be,fe+(be.key==null||z&&z.key===be.key?"":(""+be.key).replace(F,"$&/")+"/")+xe)),re.push(be)),1;xe=0;var we=le===""?".":le+":";if(q(z))for(var Ve=0;Ve<z.length;Ve++)le=z[Ve],Le=we+$(le,Ve),xe+=Ee(le,re,fe,Le,be);else if(Ve=_(z),typeof Ve=="function")for(z=Ve.call(z),Ve=0;!(le=z.next()).done;)le=le.value,Le=we+$(le,Ve++),xe+=Ee(le,re,fe,Le,be);else if(Le==="object"){if(typeof z.then=="function")return Ee(_e(z),re,fe,le,be);throw re=String(z),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function K(z,re,fe){if(z==null)return z;var le=[],be=0;return Ee(z,le,"","",function(Le){return re.call(fe,Le,be++)}),le}function ae(z){if(z._status===-1){var re=z._result;re=re(),re.then(function(fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=fe)},function(fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=fe)}),z._status===-1&&(z._status=0,z._result=re)}if(z._status===1)return z._result.default;throw z._result}var Z=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ue(){}return ct.Children={map:K,forEach:function(z,re,fe){K(z,function(){re.apply(this,arguments)},fe)},count:function(z){var re=0;return K(z,function(){re++}),re},toArray:function(z){return K(z,function(re){return re})||[]},only:function(z){if(!N(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ct.Component=C,ct.Fragment=t,ct.Profiler=s,ct.PureComponent=j,ct.StrictMode=r,ct.Suspense=f,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ct.__COMPILER_RUNTIME={__proto__:null,c:function(z){return H.H.useMemoCache(z)}},ct.cache=function(z){return function(){return z.apply(null,arguments)}},ct.cloneElement=function(z,re,fe){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=S({},z.props),be=z.key,Le=void 0;if(re!=null)for(xe in re.ref!==void 0&&(Le=void 0),re.key!==void 0&&(be=""+re.key),re)!U.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(le[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)le.children=fe;else if(1<xe){for(var we=Array(xe),Ve=0;Ve<xe;Ve++)we[Ve]=arguments[Ve+2];le.children=we}return P(z.type,be,void 0,void 0,Le,le)},ct.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},ct.createElement=function(z,re,fe){var le,be={},Le=null;if(re!=null)for(le in re.key!==void 0&&(Le=""+re.key),re)U.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=re[le]);var xe=arguments.length-2;if(xe===1)be.children=fe;else if(1<xe){for(var we=Array(xe),Ve=0;Ve<xe;Ve++)we[Ve]=arguments[Ve+2];be.children=we}if(z&&z.defaultProps)for(le in xe=z.defaultProps,xe)be[le]===void 0&&(be[le]=xe[le]);return P(z,Le,void 0,void 0,null,be)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(z){return{$$typeof:c,render:z}},ct.isValidElement=N,ct.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ae}},ct.memo=function(z,re){return{$$typeof:h,type:z,compare:re===void 0?null:re}},ct.startTransition=function(z){var re=H.T,fe={};H.T=fe;try{var le=z(),be=H.S;be!==null&&be(fe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ue,Z)}catch(Le){Z(Le)}finally{H.T=re}},ct.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ct.use=function(z){return H.H.use(z)},ct.useActionState=function(z,re,fe){return H.H.useActionState(z,re,fe)},ct.useCallback=function(z,re){return H.H.useCallback(z,re)},ct.useContext=function(z){return H.H.useContext(z)},ct.useDebugValue=function(){},ct.useDeferredValue=function(z,re){return H.H.useDeferredValue(z,re)},ct.useEffect=function(z,re,fe){var le=H.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(z,re)},ct.useId=function(){return H.H.useId()},ct.useImperativeHandle=function(z,re,fe){return H.H.useImperativeHandle(z,re,fe)},ct.useInsertionEffect=function(z,re){return H.H.useInsertionEffect(z,re)},ct.useLayoutEffect=function(z,re){return H.H.useLayoutEffect(z,re)},ct.useMemo=function(z,re){return H.H.useMemo(z,re)},ct.useOptimistic=function(z,re){return H.H.useOptimistic(z,re)},ct.useReducer=function(z,re,fe){return H.H.useReducer(z,re,fe)},ct.useRef=function(z){return H.H.useRef(z)},ct.useState=function(z){return H.H.useState(z)},ct.useSyncExternalStore=function(z,re,fe){return H.H.useSyncExternalStore(z,re,fe)},ct.useTransition=function(){return H.H.useTransition()},ct.version="19.1.0",ct}var ex;function tb(){return ex||(ex=1,Qv.exports=WD()),Qv.exports}var E=tb();const Wi=AC(E),CC=KD({__proto__:null,default:Wi},[E]);var Yv={exports:{}},zd={},Wv={exports:{}},Zv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function ZD(){return tx||(tx=1,function(n){function e(K,ae){var Z=K.length;K.push(ae);e:for(;0<Z;){var ue=Z-1>>>1,z=K[ue];if(0<s(z,ae))K[ue]=ae,K[Z]=z,Z=ue;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ae=K[0],Z=K.pop();if(Z!==ae){K[0]=Z;e:for(var ue=0,z=K.length,re=z>>>1;ue<re;){var fe=2*(ue+1)-1,le=K[fe],be=fe+1,Le=K[be];if(0>s(le,Z))be<z&&0>s(Le,le)?(K[ue]=Le,K[be]=Z,ue=be):(K[ue]=le,K[fe]=Z,ue=fe);else if(be<z&&0>s(Le,Z))K[ue]=Le,K[be]=Z,ue=be;else break e}}return ae}function s(K,ae){var Z=K.sortIndex-ae.sortIndex;return Z!==0?Z:K.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],h=[],g=1,v=null,_=3,w=!1,S=!1,A=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function q(K){for(var ae=t(h);ae!==null;){if(ae.callback===null)r(h);else if(ae.startTime<=K)r(h),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(h)}}function H(K){if(A=!1,q(K),!S)if(t(f)!==null)S=!0,U||(U=!0,$());else{var ae=t(h);ae!==null&&Ee(H,ae.startTime-K)}}var U=!1,P=-1,I=5,N=-1;function M(){return C?!0:!(n.unstable_now()-N<I)}function F(){if(C=!1,U){var K=n.unstable_now();N=K;var ae=!0;try{e:{S=!1,A&&(A=!1,j(P),P=-1),w=!0;var Z=_;try{t:{for(q(K),v=t(f);v!==null&&!(v.expirationTime>K&&M());){var ue=v.callback;if(typeof ue=="function"){v.callback=null,_=v.priorityLevel;var z=ue(v.expirationTime<=K);if(K=n.unstable_now(),typeof z=="function"){v.callback=z,q(K),ae=!0;break t}v===t(f)&&r(f),q(K)}else r(f);v=t(f)}if(v!==null)ae=!0;else{var re=t(h);re!==null&&Ee(H,re.startTime-K),ae=!1}}break e}finally{v=null,_=Z,w=!1}ae=void 0}}finally{ae?$():U=!1}}}var $;if(typeof L=="function")$=function(){L(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,_e=V.port2;V.port1.onmessage=F,$=function(){_e.postMessage(null)}}else $=function(){k(F,0)};function Ee(K,ae){P=k(function(){K(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(K){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var Z=_;_=ae;try{return K()}finally{_=Z}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Z=_;_=K;try{return ae()}finally{_=Z}},n.unstable_scheduleCallback=function(K,ae,Z){var ue=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ue+Z:ue):Z=ue,K){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Z+z,K={id:g++,callback:ae,priorityLevel:K,startTime:Z,expirationTime:z,sortIndex:-1},Z>ue?(K.sortIndex=Z,e(h,K),t(f)===null&&K===t(h)&&(A?(j(P),P=-1):A=!0,Ee(H,Z-ue))):(K.sortIndex=z,e(f,K),S||w||(S=!0,U||(U=!0,$()))),K},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(K){var ae=_;return function(){var Z=_;_=ae;try{return K.apply(this,arguments)}finally{_=Z}}}}(Zv)),Zv}var nx;function XD(){return nx||(nx=1,Wv.exports=ZD()),Wv.exports}var Xv={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function JD(){if(rx)return Wn;rx=1;var n=tb();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:h,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wn.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},Wn.flushSync=function(f){var h=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=g,r.d.f()}},Wn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Wn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Wn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,v=c(g,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Wn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Wn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=c(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Wn.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Wn.requestFormReset=function(f){r.d.r(f)},Wn.unstable_batchedUpdates=function(f,h){return f(h)},Wn.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},Wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var ix;function IC(){if(ix)return Xv.exports;ix=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xv.exports=JD(),Xv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function eM(){if(sx)return zd;sx=1;var n=XD(),e=tb(),t=IC();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,d=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return c(m),i;if(y===d)return c(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==d.return)l=m,d=y;else{for(var R=!1,O=m.child;O;){if(O===l){R=!0,l=m,d=y;break}if(O===d){R=!0,d=m,l=y;break}O=O.sibling}if(!R){for(O=y.child;O;){if(O===l){R=!0,l=y,d=m;break}if(O===d){R=!0,d=y,l=m;break}O=O.sibling}if(!R)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function h(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=h(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),L=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case U:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case L:return(i.displayName||"Context")+".Provider";case j:return(i._context.displayName||"Context")+".Consumer";case q:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:_e(i.type)||"Memo";case I:a=i._payload,i=i._init;try{return _e(i(a))}catch{}}return null}var Ee=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ue=[],z=-1;function re(i){return{current:i}}function fe(i){0>z||(i.current=ue[z],ue[z]=null,z--)}function le(i,a){z++,ue[z]=i.current,i.current=a}var be=re(null),Le=re(null),xe=re(null),we=re(null);function Ve(i,a){switch(le(xe,a),le(Le,i),le(be,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?SS(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=SS(a),i=xS(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}fe(be),le(be,i)}function at(){fe(be),fe(Le),fe(xe)}function Ue(i){i.memoizedState!==null&&le(we,i);var a=be.current,l=xS(a,i.type);a!==l&&(le(Le,i),le(be,l))}function We(i){Le.current===i&&(fe(be),fe(Le)),we.current===i&&(fe(we),Dd._currentValue=Z)}var ot=Object.prototype.hasOwnProperty,en=n.unstable_scheduleCallback,Yt=n.unstable_cancelCallback,Sr=n.unstable_shouldYield,$r=n.unstable_requestPaint,un=n.unstable_now,Po=n.unstable_getCurrentPriorityLevel,qr=n.unstable_ImmediatePriority,ua=n.unstable_UserBlockingPriority,bs=n.unstable_NormalPriority,pi=n.unstable_LowPriority,Gr=n.unstable_IdlePriority,ca=n.log,da=n.unstable_setDisableYieldValue,Dt=null,ft=null;function Kn(i){if(typeof ca=="function"&&da(i),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Dt,i)}catch{}}var hn=Math.clz32?Math.clz32:Ni,Kl=Math.log,Kr=Math.LN2;function Ni(i){return i>>>=0,i===0?32:31-(Kl(i)/Kr|0)|0}var ki=256,Pi=4194304;function xr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ws(i,a,l){var d=i.pendingLanes;if(d===0)return 0;var m=0,y=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var O=d&134217727;return O!==0?(d=O&~y,d!==0?m=xr(d):(R&=O,R!==0?m=xr(R):l||(l=O&~i,l!==0&&(m=xr(l))))):(O=d&~y,O!==0?m=xr(O):R!==0?m=xr(R):l||(l=d&~i,l!==0&&(m=xr(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function Qr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function fa(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(){var i=ki;return ki<<=1,(ki&4194048)===0&&(ki=256),i}function Do(){var i=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),i}function Yr(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function mi(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ha(i,a,l,d,m,y){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var O=i.entanglements,B=i.expirationTimes,ne=i.hiddenUpdates;for(l=R&~l;0<l;){var ce=31-hn(l),pe=1<<ce;O[ce]=0,B[ce]=-1;var ie=ne[ce];if(ie!==null)for(ne[ce]=null,ce=0;ce<ie.length;ce++){var se=ie[ce];se!==null&&(se.lane&=-536870913)}l&=~pe}d!==0&&or(i,d,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(R&~a))}function or(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var d=31-hn(a);i.entangledLanes|=a,i.entanglements[d]=i.entanglements[d]|1073741824|l&4194090}function Di(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var d=31-hn(l),m=1<<d;m&a|i[d]&a&&(i[d]|=a),l&=~m}}function Mi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function pa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function G(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:$S(i.type))}function X(i,a){var l=ae.p;try{return ae.p=i,a()}finally{ae.p=l}}var te=Math.random().toString(36).slice(2),he="__reactFiber$"+te,ve="__reactProps$"+te,Ae="__reactContainer$"+te,He="__reactEvents$"+te,Ie="__reactListeners$"+te,De="__reactHandles$"+te,ze="__reactResources$"+te,qe="__reactMarker$"+te;function Me(i){delete i[he],delete i[ve],delete i[He],delete i[Ie],delete i[De]}function Qe(i){var a=i[he];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Ae]||l[he]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=IS(i);i!==null;){if(l=i[he])return l;i=IS(i)}return a}i=l,l=i.parentNode}return null}function vt(i){if(i=i[he]||i[Ae]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Lt(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function kt(i){var a=i[ze];return a||(a=i[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function St(i){i[qe]=!0}var gt=new Set,Wr={};function bn(i,a){lr(i,a),lr(i+"Capture",a)}function lr(i,a){for(Wr[i]=a,i=0;i<a.length;i++)gt.add(a[i])}var Vn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Li={},Rr={};function ma(i){return ot.call(Rr,i)?!0:ot.call(Li,i)?!1:Vn.test(i)?Rr[i]=!0:(Li[i]=!0,!1)}function Qn(i,a,l){if(ma(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function ur(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function rt(i,a,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+d)}}var pn,Ar;function gr(i){if(pn===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);pn=a&&a[1]||"",Ar=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pn+i+Ar}var Vi=!1;function Kt(i,a){if(!i||Vi)return"";Vi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(se){var ie=se}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(se){ie=se}i.call(pe.prototype)}}else{try{throw Error()}catch(se){ie=se}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(se){if(se&&ie&&typeof se.stack=="string")return[se.stack,ie.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),R=y[0],O=y[1];if(R&&O){var B=R.split(`
`),ne=O.split(`
`);for(m=d=0;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;for(;m<ne.length&&!ne[m].includes("DetermineComponentFrameRoot");)m++;if(d===B.length||m===ne.length)for(d=B.length-1,m=ne.length-1;1<=d&&0<=m&&B[d]!==ne[m];)m--;for(;1<=d&&0<=m;d--,m--)if(B[d]!==ne[m]){if(d!==1||m!==1)do if(d--,m--,0>m||B[d]!==ne[m]){var ce=`
`+B[d].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=d&&0<=m);break}}}finally{Vi=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?gr(l):""}function Zr(i){switch(i.tag){case 26:case 27:case 5:return gr(i.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return Kt(i.type,!1);case 11:return Kt(i.type.render,!1);case 1:return Kt(i.type,!0);case 31:return gr("Activity");default:return""}}function Ts(i){try{var a="";do a+=Zr(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Bc(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Wg(i){var a=Bc(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),d=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(R){d=""+R,y.call(this,R)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ql(i){i._valueTracker||(i._valueTracker=Wg(i))}function Hc(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return i&&(d=Bc(i)?i.checked?"true":"false":i.value),i=d,i!==l?(a.setValue(i),!0):!1}function Mo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Zg=/[\n"\\]/g;function mn(i){return i.replace(Zg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Cr(i,a,l,d,m,y,R,O){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),a!=null?R==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+jn(a)):i.value!==""+jn(a)&&(i.value=""+jn(a)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),a!=null?ga(i,R,jn(a)):l!=null?ga(i,R,jn(l)):d!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+jn(O):i.removeAttribute("name")}function Lo(i,a,l,d,m,y,R,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+jn(l):"",a=a!=null?""+jn(a):l,O||a===i.value||(i.value=a),i.defaultValue=a}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=O?i.checked:!!d,i.defaultChecked=!!d,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function ga(i,a,l){a==="number"&&Mo(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ss(i,a,l,d){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+jn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function Ht(i,a,l){if(a!=null&&(a=""+jn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+jn(l):""}function Vo(i,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(r(92));if(Ee(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=jn(a),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d)}function Xr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var jo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Th(i,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":d?i.setProperty(a,l):typeof l!="number"||l===0||jo.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function $c(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var m in a)d=a[m],a.hasOwnProperty(m)&&l[m]!==d&&Th(i,m,d)}else for(var y in a)a.hasOwnProperty(y)&&Th(i,y,a[y])}function qc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(i){return Jg.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var xs=null;function Jr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rs=null,As=null;function Gc(i){var a=vt(i);if(a&&(i=a.stateNode)){var l=i[ve]||null;e:switch(i=a.stateNode,a.type){case"input":if(Cr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==i&&d.form===i.form){var m=d[ve]||null;if(!m)throw Error(r(90));Cr(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===i.form&&Hc(d)}break e;case"textarea":Ht(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ss(i,!!l.multiple,a,!1)}}}var ji=!1;function Sh(i,a,l){if(ji)return i(a,l);ji=!0;try{var d=i(a);return d}finally{if(ji=!1,(Rs!==null||As!==null)&&(yp(),Rs&&(a=Rs,i=As,As=Rs=null,Gc(a),i)))for(a=0;a<i.length;a++)Gc(i[a])}}function Uo(i,a){var l=i.stateNode;if(l===null)return null;var d=l[ve]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ei=!1;if(gi)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){ei=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{ei=!1}var Ui=null,ya=null,Cs=null;function Kc(){if(Cs)return Cs;var i,a=ya,l=a.length,d,m="value"in Ui?Ui.value:Ui.textContent,y=m.length;for(i=0;i<l&&a[i]===m[i];i++);var R=l-i;for(d=1;d<=R&&a[l-d]===m[y-d];d++);return Cs=m.slice(i,1<d?1-d:void 0)}function zi(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Fi(){return!0}function Qc(){return!1}function Nn(i){function a(l,d,m,y,R){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Fi:Qc,this.isPropagationStopped=Qc,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),a}var Vt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=Nn(Vt),Fo=g({},Vt,{view:0,detail:0}),xh=Nn(Fo),Zl,Xl,Bi,Bo=g({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Bi&&(Bi&&i.type==="mousemove"?(Zl=i.screenX-Bi.screenX,Xl=i.screenY-Bi.screenY):Xl=Zl=0,Bi=i),Zl)},movementY:function(i){return"movementY"in i?i.movementY:Xl}}),ti=Nn(Bo),Rh=g({},Bo,{dataTransfer:0}),ey=Nn(Rh),Ho=g({},Fo,{relatedTarget:0}),Jl=Nn(Ho),Yc=g({},Vt,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=Nn(Yc),Ah=g({},Vt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tu=Nn(Ah),ty=g({},Vt,{data:0}),Wc=Nn(ty),$o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Ih[i])?!!a[i]:!1}function qo(){return Zc}var Oh=g({},Fo,{key:function(i){if(i.key){var a=$o[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=zi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ch[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qo,charCode:function(i){return i.type==="keypress"?zi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nu=Nn(Oh),Nh=g({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xc=Nn(Nh),Is=g({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qo}),kh=Nn(Is),Ph=g({},Vt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dh=Nn(Ph),Mh=g({},Bo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ru=Nn(Mh),cr=g({},Vt,{newState:0,oldState:0}),Lh=Nn(cr),Vh=[9,13,27,32],Hi=gi&&"CompositionEvent"in window,p=null;gi&&"documentMode"in document&&(p=document.documentMode);var b=gi&&"TextEvent"in window&&!p,T=gi&&(!Hi||p&&8<p&&11>=p),D=" ",J=!1;function oe(i,a){switch(i){case"keyup":return Vh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Te(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var At=!1;function wn(i,a){switch(i){case"compositionend":return Te(a);case"keypress":return a.which!==32?null:(J=!0,D);case"textInput":return i=a.data,i===D&&J?null:i;default:return null}}function Ct(i,a){if(At)return i==="compositionend"||!Hi&&oe(i,a)?(i=Kc(),Cs=ya=Ui=null,At=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function En(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!kn[i.type]:a==="textarea"}function Os(i,a,l,d){Rs?As?As.push(d):As=[d]:Rs=d,a=Tp(a,"onChange"),0<a.length&&(l=new Wl("onChange","change",null,l,d),i.push({event:l,listeners:a}))}var Un=null,$i=null;function Jc(i){_S(i,0)}function jh(i){var a=Lt(i);if(Hc(a))return i}function zw(i,a){if(i==="change")return a}var Fw=!1;if(gi){var ny;if(gi){var ry="oninput"in document;if(!ry){var Bw=document.createElement("div");Bw.setAttribute("oninput","return;"),ry=typeof Bw.oninput=="function"}ny=ry}else ny=!1;Fw=ny&&(!document.documentMode||9<document.documentMode)}function Hw(){Un&&(Un.detachEvent("onpropertychange",$w),$i=Un=null)}function $w(i){if(i.propertyName==="value"&&jh($i)){var a=[];Os(a,$i,i,Jr(i)),Sh(Jc,a)}}function wP(i,a,l){i==="focusin"?(Hw(),Un=a,$i=l,Un.attachEvent("onpropertychange",$w)):i==="focusout"&&Hw()}function EP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jh($i)}function TP(i,a){if(i==="click")return jh(a)}function SP(i,a){if(i==="input"||i==="change")return jh(a)}function xP(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Ir=typeof Object.is=="function"?Object.is:xP;function ed(i,a){if(Ir(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!ot.call(a,m)||!Ir(i[m],a[m]))return!1}return!0}function qw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gw(i,a){var l=qw(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=a&&d>=a)return{node:l,offset:a-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qw(l)}}function Kw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Kw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Qw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Mo(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Mo(i.document)}return a}function iy(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var RP=gi&&"documentMode"in document&&11>=document.documentMode,iu=null,sy=null,td=null,ay=!1;function Yw(i,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ay||iu==null||iu!==Mo(d)||(d=iu,"selectionStart"in d&&iy(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),td&&ed(td,d)||(td=d,d=Tp(sy,"onSelect"),0<d.length&&(a=new Wl("onSelect","select",null,a,l),i.push({event:a,listeners:d}),a.target=iu)))}function Go(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var su={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionrun:Go("Transition","TransitionRun"),transitionstart:Go("Transition","TransitionStart"),transitioncancel:Go("Transition","TransitionCancel"),transitionend:Go("Transition","TransitionEnd")},oy={},Ww={};gi&&(Ww=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function Ko(i){if(oy[i])return oy[i];if(!su[i])return i;var a=su[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Ww)return oy[i]=a[l];return i}var Zw=Ko("animationend"),Xw=Ko("animationiteration"),Jw=Ko("animationstart"),AP=Ko("transitionrun"),CP=Ko("transitionstart"),IP=Ko("transitioncancel"),eE=Ko("transitionend"),tE=new Map,ly="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ly.push("scrollEnd");function yi(i,a){tE.set(i,a),bn(a,[i])}var nE=new WeakMap;function ni(i,a){if(typeof i=="object"&&i!==null){var l=nE.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Ts(a)},nE.set(i,a),a)}return{value:i,source:a,stack:Ts(a)}}var ri=[],au=0,uy=0;function Uh(){for(var i=au,a=uy=au=0;a<i;){var l=ri[a];ri[a++]=null;var d=ri[a];ri[a++]=null;var m=ri[a];ri[a++]=null;var y=ri[a];if(ri[a++]=null,d!==null&&m!==null){var R=d.pending;R===null?m.next=m:(m.next=R.next,R.next=m),d.pending=m}y!==0&&rE(l,m,y)}}function zh(i,a,l,d){ri[au++]=i,ri[au++]=a,ri[au++]=l,ri[au++]=d,uy|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function cy(i,a,l,d){return zh(i,a,l,d),Fh(i)}function ou(i,a){return zh(i,null,null,a),Fh(i)}function rE(i,a,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var m=!1,y=i.return;y!==null;)y.childLanes|=l,d=y.alternate,d!==null&&(d.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&a!==null&&(m=31-hn(l),i=y.hiddenUpdates,d=i[m],d===null?i[m]=[a]:d.push(a),a.lane=l|536870912),y):null}function Fh(i){if(50<Rd)throw Rd=0,gv=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var lu={};function OP(i,a,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(i,a,l,d){return new OP(i,a,l,d)}function dy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ns(i,a){var l=i.alternate;return l===null?(l=Or(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function iE(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Bh(i,a,l,d,m,y){var R=0;if(d=i,typeof i=="function")dy(i)&&(R=1);else if(typeof i=="string")R=kD(i,l,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Or(31,l,a,m),i.elementType=N,i.lanes=y,i;case S:return Qo(l.children,m,y,a);case A:R=8,m|=24;break;case C:return i=Or(12,l,a,m|2),i.elementType=C,i.lanes=y,i;case H:return i=Or(13,l,a,m),i.elementType=H,i.lanes=y,i;case U:return i=Or(19,l,a,m),i.elementType=U,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case L:R=10;break e;case j:R=9;break e;case q:R=11;break e;case P:R=14;break e;case I:R=16,d=null;break e}R=29,l=Error(r(130,i===null?"null":typeof i,"")),d=null}return a=Or(R,l,a,m),a.elementType=i,a.type=d,a.lanes=y,a}function Qo(i,a,l,d){return i=Or(7,i,d,a),i.lanes=l,i}function fy(i,a,l){return i=Or(6,i,null,a),i.lanes=l,i}function hy(i,a,l){return a=Or(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var uu=[],cu=0,Hh=null,$h=0,ii=[],si=0,Yo=null,ks=1,Ps="";function Wo(i,a){uu[cu++]=$h,uu[cu++]=Hh,Hh=i,$h=a}function sE(i,a,l){ii[si++]=ks,ii[si++]=Ps,ii[si++]=Yo,Yo=i;var d=ks;i=Ps;var m=32-hn(d)-1;d&=~(1<<m),l+=1;var y=32-hn(a)+m;if(30<y){var R=m-m%5;y=(d&(1<<R)-1).toString(32),d>>=R,m-=R,ks=1<<32-hn(a)+m|l<<m|d,Ps=y+i}else ks=1<<y|l<<m|d,Ps=i}function py(i){i.return!==null&&(Wo(i,1),sE(i,1,0))}function my(i){for(;i===Hh;)Hh=uu[--cu],uu[cu]=null,$h=uu[--cu],uu[cu]=null;for(;i===Yo;)Yo=ii[--si],ii[si]=null,Ps=ii[--si],ii[si]=null,ks=ii[--si],ii[si]=null}var dr=null,sn=null,Mt=!1,Zo=null,qi=!1,gy=Error(r(519));function Xo(i){var a=Error(r(418,""));throw id(ni(a,i)),gy}function aE(i){var a=i.stateNode,l=i.type,d=i.memoizedProps;switch(a[he]=i,a[ve]=d,l){case"dialog":bt("cancel",a),bt("close",a);break;case"iframe":case"object":case"embed":bt("load",a);break;case"video":case"audio":for(l=0;l<Cd.length;l++)bt(Cd[l],a);break;case"source":bt("error",a);break;case"img":case"image":case"link":bt("error",a),bt("load",a);break;case"details":bt("toggle",a);break;case"input":bt("invalid",a),Lo(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ql(a);break;case"select":bt("invalid",a);break;case"textarea":bt("invalid",a),Vo(a,d.value,d.defaultValue,d.children),Ql(a)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||TS(a.textContent,l)?(d.popover!=null&&(bt("beforetoggle",a),bt("toggle",a)),d.onScroll!=null&&bt("scroll",a),d.onScrollEnd!=null&&bt("scrollend",a),d.onClick!=null&&(a.onclick=Sp),a=!0):a=!1,a||Xo(i)}function oE(i){for(dr=i.return;dr;)switch(dr.tag){case 5:case 13:qi=!1;return;case 27:case 3:qi=!0;return;default:dr=dr.return}}function nd(i){if(i!==dr)return!1;if(!Mt)return oE(i),Mt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||kv(i.type,i.memoizedProps)),l=!l),l&&sn&&Xo(i),oE(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){sn=_i(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}sn=null}}else a===27?(a=sn,Pa(i.type)?(i=Lv,Lv=null,sn=i):sn=a):sn=dr?_i(i.stateNode.nextSibling):null;return!0}function rd(){sn=dr=null,Mt=!1}function lE(){var i=Zo;return i!==null&&(_r===null?_r=i:_r.push.apply(_r,i),Zo=null),i}function id(i){Zo===null?Zo=[i]:Zo.push(i)}var yy=re(null),Jo=null,Ds=null;function va(i,a,l){le(yy,a._currentValue),a._currentValue=l}function Ms(i){i._currentValue=yy.current,fe(yy)}function vy(i,a,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),i===l)break;i=i.return}}function _y(i,a,l,d){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var R=m.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=m;for(var B=0;B<a.length;B++)if(O.context===a[B]){y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),vy(y.return,l,i),d||(R=null);break e}y=O.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(r(341));R.lanes|=l,y=R.alternate,y!==null&&(y.lanes|=l),vy(R,l,i),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===i){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function sd(i,a,l,d){i=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var O=m.type;Ir(m.pendingProps.value,R.value)||(i!==null?i.push(O):i=[O])}}else if(m===we.current){if(R=m.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Dd):i=[Dd])}m=m.return}i!==null&&_y(a,i,l,d),a.flags|=262144}function qh(i){for(i=i.firstContext;i!==null;){if(!Ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function el(i){Jo=i,Ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yn(i){return uE(Jo,i)}function Gh(i,a){return Jo===null&&el(i),uE(i,a)}function uE(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ds===null){if(i===null)throw Error(r(308));Ds=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ds=Ds.next=a;return l}var NP=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},kP=n.unstable_scheduleCallback,PP=n.unstable_NormalPriority,Tn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function by(){return{controller:new NP,data:new Map,refCount:0}}function ad(i){i.refCount--,i.refCount===0&&kP(PP,function(){i.controller.abort()})}var od=null,wy=0,du=0,fu=null;function DP(i,a){if(od===null){var l=od=[];wy=0,du=Tv(),fu={status:"pending",value:void 0,then:function(d){l.push(d)}}}return wy++,a.then(cE,cE),a}function cE(){if(--wy===0&&od!==null){fu!==null&&(fu.status="fulfilled");var i=od;od=null,du=0,fu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function MP(i,a){var l=[],d={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){d.status="fulfilled",d.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(d.status="rejected",d.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),d}var dE=K.S;K.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&DP(i,a),dE!==null&&dE(i,a)};var tl=re(null);function Ey(){var i=tl.current;return i!==null?i:Wt.pooledCache}function Kh(i,a){a===null?le(tl,tl.current):le(tl,a.pool)}function fE(){var i=Ey();return i===null?null:{parent:Tn._currentValue,pool:i}}var ld=Error(r(460)),hE=Error(r(474)),Qh=Error(r(542)),Ty={then:function(){}};function pE(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yh(){}function mE(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Yh,Yh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,yE(i),i;default:if(typeof a.status=="string")a.then(Yh,Yh);else{if(i=Wt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(d){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=d}},function(d){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,yE(i),i}throw ud=a,ld}}var ud=null;function gE(){if(ud===null)throw Error(r(459));var i=ud;return ud=null,i}function yE(i){if(i===ld||i===Qh)throw Error(r(483))}var _a=!1;function Sy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xy(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ba(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function wa(i,a,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ft&2)!==0){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,a=Fh(i),rE(i,null,l),a}return zh(i,d,a,l),Fh(i)}function cd(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=i.pendingLanes,l|=d,a.lanes=l,Di(i,l)}}function Ry(i,a){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=R:y=y.next=R,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Ay=!1;function dd(){if(Ay){var i=fu;if(i!==null)throw i}}function fd(i,a,l,d){Ay=!1;var m=i.updateQueue;_a=!1;var y=m.firstBaseUpdate,R=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var B=O,ne=B.next;B.next=null,R===null?y=ne:R.next=ne,R=B;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,O=ce.lastBaseUpdate,O!==R&&(O===null?ce.firstBaseUpdate=ne:O.next=ne,ce.lastBaseUpdate=B))}if(y!==null){var pe=m.baseState;R=0,ce=ne=B=null,O=y;do{var ie=O.lane&-536870913,se=ie!==O.lane;if(se?(It&ie)===ie:(d&ie)===ie){ie!==0&&ie===du&&(Ay=!0),ce!==null&&(ce=ce.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Je=i,Ge=O;ie=a;var Gt=l;switch(Ge.tag){case 1:if(Je=Ge.payload,typeof Je=="function"){pe=Je.call(Gt,pe,ie);break e}pe=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Ge.payload,ie=typeof Je=="function"?Je.call(Gt,pe,ie):Je,ie==null)break e;pe=g({},pe,ie);break e;case 2:_a=!0}}ie=O.callback,ie!==null&&(i.flags|=64,se&&(i.flags|=8192),se=m.callbacks,se===null?m.callbacks=[ie]:se.push(ie))}else se={lane:ie,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ce===null?(ne=ce=se,B=pe):ce=ce.next=se,R|=ie;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;se=O,O=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);ce===null&&(B=pe),m.baseState=B,m.firstBaseUpdate=ne,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),Ia|=R,i.lanes=R,i.memoizedState=pe}}function vE(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function _E(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)vE(l[i],a)}var hu=re(null),Wh=re(0);function bE(i,a){i=Bs,le(Wh,i),le(hu,a),Bs=i|a.baseLanes}function Cy(){le(Wh,Bs),le(hu,hu.current)}function Iy(){Bs=Wh.current,fe(hu),fe(Wh)}var Ea=0,ht=null,$t=null,gn=null,Zh=!1,pu=!1,nl=!1,Xh=0,hd=0,mu=null,LP=0;function cn(){throw Error(r(321))}function Oy(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Ir(i[l],a[l]))return!1;return!0}function Ny(i,a,l,d,m,y){return Ea=y,ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=i===null||i.memoizedState===null?rT:iT,nl=!1,y=l(d,m),nl=!1,pu&&(y=EE(a,l,d,m)),wE(i),y}function wE(i){K.H=ip;var a=$t!==null&&$t.next!==null;if(Ea=0,gn=$t=ht=null,Zh=!1,hd=0,mu=null,a)throw Error(r(300));i===null||Pn||(i=i.dependencies,i!==null&&qh(i)&&(Pn=!0))}function EE(i,a,l,d){ht=i;var m=0;do{if(pu&&(mu=null),hd=0,pu=!1,25<=m)throw Error(r(301));if(m+=1,gn=$t=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=HP,y=a(l,d)}while(pu);return y}function VP(){var i=K.H,a=i.useState()[0];return a=typeof a.then=="function"?pd(a):a,i=i.useState()[0],($t!==null?$t.memoizedState:null)!==i&&(ht.flags|=1024),a}function ky(){var i=Xh!==0;return Xh=0,i}function Py(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Dy(i){if(Zh){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Zh=!1}Ea=0,gn=$t=ht=null,pu=!1,hd=Xh=0,mu=null}function yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?ht.memoizedState=gn=i:gn=gn.next=i,gn}function yn(){if($t===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var a=gn===null?ht.memoizedState:gn.next;if(a!==null)gn=a,$t=i;else{if(i===null)throw ht.alternate===null?Error(r(467)):Error(r(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},gn===null?ht.memoizedState=gn=i:gn=gn.next=i}return gn}function My(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pd(i){var a=hd;return hd+=1,mu===null&&(mu=[]),i=mE(mu,i,a),a=ht,(gn===null?a.memoizedState:gn.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?rT:iT),i}function Jh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return pd(i);if(i.$$typeof===L)return Yn(i)}throw Error(r(438,String(i)))}function Ly(i){var a=null,l=ht.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=ht.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=My(),ht.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),d=0;d<i;d++)l[d]=M;return a.index++,l}function Ls(i,a){return typeof a=="function"?a(i):a}function ep(i){var a=yn();return Vy(a,$t,i)}function Vy(i,a,l){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var m=i.baseQueue,y=d.pending;if(y!==null){if(m!==null){var R=m.next;m.next=y.next,y.next=R}a.baseQueue=m=y,d.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{a=m.next;var O=R=null,B=null,ne=a,ce=!1;do{var pe=ne.lane&-536870913;if(pe!==ne.lane?(It&pe)===pe:(Ea&pe)===pe){var ie=ne.revertLane;if(ie===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),pe===du&&(ce=!0);else if((Ea&ie)===ie){ne=ne.next,ie===du&&(ce=!0);continue}else pe={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},B===null?(O=B=pe,R=y):B=B.next=pe,ht.lanes|=ie,Ia|=ie;pe=ne.action,nl&&l(y,pe),y=ne.hasEagerState?ne.eagerState:l(y,pe)}else ie={lane:pe,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},B===null?(O=B=ie,R=y):B=B.next=ie,ht.lanes|=pe,Ia|=pe;ne=ne.next}while(ne!==null&&ne!==a);if(B===null?R=y:B.next=O,!Ir(y,i.memoizedState)&&(Pn=!0,ce&&(l=fu,l!==null)))throw l;i.memoizedState=y,i.baseState=R,i.baseQueue=B,d.lastRenderedState=y}return m===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function jy(i){var a=yn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var R=m=m.next;do y=i(y,R.action),R=R.next;while(R!==m);Ir(y,a.memoizedState)||(Pn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,d]}function TE(i,a,l){var d=ht,m=yn(),y=Mt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var R=!Ir(($t||m).memoizedState,l);R&&(m.memoizedState=l,Pn=!0),m=m.queue;var O=RE.bind(null,d,m,i);if(md(2048,8,O,[i]),m.getSnapshot!==a||R||gn!==null&&gn.memoizedState.tag&1){if(d.flags|=2048,gu(9,tp(),xE.bind(null,d,m,l,a),null),Wt===null)throw Error(r(349));y||(Ea&124)!==0||SE(d,a,l)}return l}function SE(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=ht.updateQueue,a===null?(a=My(),ht.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function xE(i,a,l,d){a.value=l,a.getSnapshot=d,AE(a)&&CE(i)}function RE(i,a,l){return l(function(){AE(a)&&CE(i)})}function AE(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Ir(i,l)}catch{return!0}}function CE(i){var a=ou(i,2);a!==null&&Mr(a,i,2)}function Uy(i){var a=yr();if(typeof i=="function"){var l=i;if(i=l(),nl){Kn(!0);try{l()}finally{Kn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:i},a}function IE(i,a,l,d){return i.baseState=l,Vy(i,$t,typeof d=="function"?d:Ls)}function jP(i,a,l,d,m){if(rp(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};K.T!==null?l(!0):y.isTransition=!1,d(y),l=a.pending,l===null?(y.next=a.pending=y,OE(a,y)):(y.next=l.next,a.pending=l.next=y)}}function OE(i,a){var l=a.action,d=a.payload,m=i.state;if(a.isTransition){var y=K.T,R={};K.T=R;try{var O=l(m,d),B=K.S;B!==null&&B(R,O),NE(i,a,O)}catch(ne){zy(i,a,ne)}finally{K.T=y}}else try{y=l(m,d),NE(i,a,y)}catch(ne){zy(i,a,ne)}}function NE(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){kE(i,a,d)},function(d){return zy(i,a,d)}):kE(i,a,l)}function kE(i,a,l){a.status="fulfilled",a.value=l,PE(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,OE(i,l)))}function zy(i,a,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,PE(a),a=a.next;while(a!==d)}i.action=null}function PE(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function DE(i,a){return a}function ME(i,a){if(Mt){var l=Wt.formState;if(l!==null){e:{var d=ht;if(Mt){if(sn){t:{for(var m=sn,y=qi;m.nodeType!==8;){if(!y){m=null;break t}if(m=_i(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){sn=_i(m.nextSibling),d=m.data==="F!";break e}}Xo(d)}d=!1}d&&(a=l[0])}}return l=yr(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DE,lastRenderedState:a},l.queue=d,l=eT.bind(null,ht,d),d.dispatch=l,d=Uy(!1),y=qy.bind(null,ht,!1,d.queue),d=yr(),m={state:a,dispatch:null,action:i,pending:null},d.queue=m,l=jP.bind(null,ht,m,y,l),m.dispatch=l,d.memoizedState=i,[a,l,!1]}function LE(i){var a=yn();return VE(a,$t,i)}function VE(i,a,l){if(a=Vy(i,a,DE)[0],i=ep(Ls)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=pd(a)}catch(R){throw R===ld?Qh:R}else d=a;a=yn();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(ht.flags|=2048,gu(9,tp(),UP.bind(null,m,l),null)),[d,y,i]}function UP(i,a){i.action=a}function jE(i){var a=yn(),l=$t;if(l!==null)return VE(a,l,i);yn(),a=a.memoizedState,l=yn();var d=l.queue.dispatch;return l.memoizedState=i,[a,d,!1]}function gu(i,a,l,d){return i={tag:i,create:l,deps:d,inst:a,next:null},a=ht.updateQueue,a===null&&(a=My(),ht.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,a.lastEffect=i),i}function tp(){return{destroy:void 0,resource:void 0}}function UE(){return yn().memoizedState}function np(i,a,l,d){var m=yr();d=d===void 0?null:d,ht.flags|=i,m.memoizedState=gu(1|a,tp(),l,d)}function md(i,a,l,d){var m=yn();d=d===void 0?null:d;var y=m.memoizedState.inst;$t!==null&&d!==null&&Oy(d,$t.memoizedState.deps)?m.memoizedState=gu(a,y,l,d):(ht.flags|=i,m.memoizedState=gu(1|a,y,l,d))}function zE(i,a){np(8390656,8,i,a)}function FE(i,a){md(2048,8,i,a)}function BE(i,a){return md(4,2,i,a)}function HE(i,a){return md(4,4,i,a)}function $E(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function qE(i,a,l){l=l!=null?l.concat([i]):null,md(4,4,$E.bind(null,a,i),l)}function Fy(){}function GE(i,a){var l=yn();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&Oy(a,d[1])?d[0]:(l.memoizedState=[i,a],i)}function KE(i,a){var l=yn();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&Oy(a,d[1]))return d[0];if(d=i(),nl){Kn(!0);try{i()}finally{Kn(!1)}}return l.memoizedState=[d,a],d}function By(i,a,l){return l===void 0||(Ea&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=WT(),ht.lanes|=i,Ia|=i,l)}function QE(i,a,l,d){return Ir(l,a)?l:hu.current!==null?(i=By(i,l,d),Ir(i,a)||(Pn=!0),i):(Ea&42)===0?(Pn=!0,i.memoizedState=l):(i=WT(),ht.lanes|=i,Ia|=i,a)}function YE(i,a,l,d,m){var y=ae.p;ae.p=y!==0&&8>y?y:8;var R=K.T,O={};K.T=O,qy(i,!1,a,l);try{var B=m(),ne=K.S;if(ne!==null&&ne(O,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ce=MP(B,d);gd(i,a,ce,Dr(i))}else gd(i,a,d,Dr(i))}catch(pe){gd(i,a,{then:function(){},status:"rejected",reason:pe},Dr())}finally{ae.p=y,K.T=R}}function zP(){}function Hy(i,a,l,d){if(i.tag!==5)throw Error(r(476));var m=WE(i).queue;YE(i,m,a,Z,l===null?zP:function(){return ZE(i),l(d)})}function WE(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:Z},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function ZE(i){var a=WE(i).next.queue;gd(i,a,{},Dr())}function $y(){return Yn(Dd)}function XE(){return yn().memoizedState}function JE(){return yn().memoizedState}function FP(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Dr();i=ba(l);var d=wa(a,i,l);d!==null&&(Mr(d,a,l),cd(d,a,l)),a={cache:by()},i.payload=a;return}a=a.return}}function BP(i,a,l){var d=Dr();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},rp(i)?tT(a,l):(l=cy(i,a,l,d),l!==null&&(Mr(l,i,d),nT(l,a,d)))}function eT(i,a,l){var d=Dr();gd(i,a,l,d)}function gd(i,a,l,d){var m={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(rp(i))tT(a,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var R=a.lastRenderedState,O=y(R,l);if(m.hasEagerState=!0,m.eagerState=O,Ir(O,R))return zh(i,a,m,0),Wt===null&&Uh(),!1}catch{}finally{}if(l=cy(i,a,m,d),l!==null)return Mr(l,i,d),nT(l,a,d),!0}return!1}function qy(i,a,l,d){if(d={lane:2,revertLane:Tv(),action:d,hasEagerState:!1,eagerState:null,next:null},rp(i)){if(a)throw Error(r(479))}else a=cy(i,l,d,2),a!==null&&Mr(a,i,2)}function rp(i){var a=i.alternate;return i===ht||a!==null&&a===ht}function tT(i,a){pu=Zh=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function nT(i,a,l){if((l&4194048)!==0){var d=a.lanes;d&=i.pendingLanes,l|=d,a.lanes=l,Di(i,l)}}var ip={readContext:Yn,use:Jh,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn},rT={readContext:Yn,use:Jh,useCallback:function(i,a){return yr().memoizedState=[i,a===void 0?null:a],i},useContext:Yn,useEffect:zE,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,np(4194308,4,$E.bind(null,a,i),l)},useLayoutEffect:function(i,a){return np(4194308,4,i,a)},useInsertionEffect:function(i,a){np(4,2,i,a)},useMemo:function(i,a){var l=yr();a=a===void 0?null:a;var d=i();if(nl){Kn(!0);try{i()}finally{Kn(!1)}}return l.memoizedState=[d,a],d},useReducer:function(i,a,l){var d=yr();if(l!==void 0){var m=l(a);if(nl){Kn(!0);try{l(a)}finally{Kn(!1)}}}else m=a;return d.memoizedState=d.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},d.queue=i,i=i.dispatch=BP.bind(null,ht,i),[d.memoizedState,i]},useRef:function(i){var a=yr();return i={current:i},a.memoizedState=i},useState:function(i){i=Uy(i);var a=i.queue,l=eT.bind(null,ht,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Fy,useDeferredValue:function(i,a){var l=yr();return By(l,i,a)},useTransition:function(){var i=Uy(!1);return i=YE.bind(null,ht,i.queue,!0,!1),yr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var d=ht,m=yr();if(Mt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Wt===null)throw Error(r(349));(It&124)!==0||SE(d,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,zE(RE.bind(null,d,y,i),[i]),d.flags|=2048,gu(9,tp(),xE.bind(null,d,y,l,a),null),l},useId:function(){var i=yr(),a=Wt.identifierPrefix;if(Mt){var l=Ps,d=ks;l=(d&~(1<<32-hn(d)-1)).toString(32)+l,a="«"+a+"R"+l,l=Xh++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=LP++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:$y,useFormState:ME,useActionState:ME,useOptimistic:function(i){var a=yr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=qy.bind(null,ht,!0,l),l.dispatch=a,[i,a]},useMemoCache:Ly,useCacheRefresh:function(){return yr().memoizedState=FP.bind(null,ht)}},iT={readContext:Yn,use:Jh,useCallback:GE,useContext:Yn,useEffect:FE,useImperativeHandle:qE,useInsertionEffect:BE,useLayoutEffect:HE,useMemo:KE,useReducer:ep,useRef:UE,useState:function(){return ep(Ls)},useDebugValue:Fy,useDeferredValue:function(i,a){var l=yn();return QE(l,$t.memoizedState,i,a)},useTransition:function(){var i=ep(Ls)[0],a=yn().memoizedState;return[typeof i=="boolean"?i:pd(i),a]},useSyncExternalStore:TE,useId:XE,useHostTransitionStatus:$y,useFormState:LE,useActionState:LE,useOptimistic:function(i,a){var l=yn();return IE(l,$t,i,a)},useMemoCache:Ly,useCacheRefresh:JE},HP={readContext:Yn,use:Jh,useCallback:GE,useContext:Yn,useEffect:FE,useImperativeHandle:qE,useInsertionEffect:BE,useLayoutEffect:HE,useMemo:KE,useReducer:jy,useRef:UE,useState:function(){return jy(Ls)},useDebugValue:Fy,useDeferredValue:function(i,a){var l=yn();return $t===null?By(l,i,a):QE(l,$t.memoizedState,i,a)},useTransition:function(){var i=jy(Ls)[0],a=yn().memoizedState;return[typeof i=="boolean"?i:pd(i),a]},useSyncExternalStore:TE,useId:XE,useHostTransitionStatus:$y,useFormState:jE,useActionState:jE,useOptimistic:function(i,a){var l=yn();return $t!==null?IE(l,$t,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Ly,useCacheRefresh:JE},yu=null,yd=0;function sp(i){var a=yd;return yd+=1,yu===null&&(yu=[]),mE(yu,i,a)}function vd(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function ap(i,a){throw a.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function sT(i){var a=i._init;return a(i._payload)}function aT(i){function a(W,Q){if(i){var ee=W.deletions;ee===null?(W.deletions=[Q],W.flags|=16):ee.push(Q)}}function l(W,Q){if(!i)return null;for(;Q!==null;)a(W,Q),Q=Q.sibling;return null}function d(W){for(var Q=new Map;W!==null;)W.key!==null?Q.set(W.key,W):Q.set(W.index,W),W=W.sibling;return Q}function m(W,Q){return W=Ns(W,Q),W.index=0,W.sibling=null,W}function y(W,Q,ee){return W.index=ee,i?(ee=W.alternate,ee!==null?(ee=ee.index,ee<Q?(W.flags|=67108866,Q):ee):(W.flags|=67108866,Q)):(W.flags|=1048576,Q)}function R(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function O(W,Q,ee,de){return Q===null||Q.tag!==6?(Q=fy(ee,W.mode,de),Q.return=W,Q):(Q=m(Q,ee),Q.return=W,Q)}function B(W,Q,ee,de){var Oe=ee.type;return Oe===S?ce(W,Q,ee.props.children,de,ee.key):Q!==null&&(Q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&sT(Oe)===Q.type)?(Q=m(Q,ee.props),vd(Q,ee),Q.return=W,Q):(Q=Bh(ee.type,ee.key,ee.props,null,W.mode,de),vd(Q,ee),Q.return=W,Q)}function ne(W,Q,ee,de){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ee.containerInfo||Q.stateNode.implementation!==ee.implementation?(Q=hy(ee,W.mode,de),Q.return=W,Q):(Q=m(Q,ee.children||[]),Q.return=W,Q)}function ce(W,Q,ee,de,Oe){return Q===null||Q.tag!==7?(Q=Qo(ee,W.mode,de,Oe),Q.return=W,Q):(Q=m(Q,ee),Q.return=W,Q)}function pe(W,Q,ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=fy(""+Q,W.mode,ee),Q.return=W,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return ee=Bh(Q.type,Q.key,Q.props,null,W.mode,ee),vd(ee,Q),ee.return=W,ee;case w:return Q=hy(Q,W.mode,ee),Q.return=W,Q;case I:var de=Q._init;return Q=de(Q._payload),pe(W,Q,ee)}if(Ee(Q)||$(Q))return Q=Qo(Q,W.mode,ee,null),Q.return=W,Q;if(typeof Q.then=="function")return pe(W,sp(Q),ee);if(Q.$$typeof===L)return pe(W,Gh(W,Q),ee);ap(W,Q)}return null}function ie(W,Q,ee,de){var Oe=Q!==null?Q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Oe!==null?null:O(W,Q,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:return ee.key===Oe?B(W,Q,ee,de):null;case w:return ee.key===Oe?ne(W,Q,ee,de):null;case I:return Oe=ee._init,ee=Oe(ee._payload),ie(W,Q,ee,de)}if(Ee(ee)||$(ee))return Oe!==null?null:ce(W,Q,ee,de,null);if(typeof ee.then=="function")return ie(W,Q,sp(ee),de);if(ee.$$typeof===L)return ie(W,Q,Gh(W,ee),de);ap(W,ee)}return null}function se(W,Q,ee,de,Oe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return W=W.get(ee)||null,O(Q,W,""+de,Oe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return W=W.get(de.key===null?ee:de.key)||null,B(Q,W,de,Oe);case w:return W=W.get(de.key===null?ee:de.key)||null,ne(Q,W,de,Oe);case I:var yt=de._init;return de=yt(de._payload),se(W,Q,ee,de,Oe)}if(Ee(de)||$(de))return W=W.get(ee)||null,ce(Q,W,de,Oe,null);if(typeof de.then=="function")return se(W,Q,ee,sp(de),Oe);if(de.$$typeof===L)return se(W,Q,ee,Gh(Q,de),Oe);ap(Q,de)}return null}function Je(W,Q,ee,de){for(var Oe=null,yt=null,Fe=Q,Ye=Q=0,Mn=null;Fe!==null&&Ye<ee.length;Ye++){Fe.index>Ye?(Mn=Fe,Fe=null):Mn=Fe.sibling;var Pt=ie(W,Fe,ee[Ye],de);if(Pt===null){Fe===null&&(Fe=Mn);break}i&&Fe&&Pt.alternate===null&&a(W,Fe),Q=y(Pt,Q,Ye),yt===null?Oe=Pt:yt.sibling=Pt,yt=Pt,Fe=Mn}if(Ye===ee.length)return l(W,Fe),Mt&&Wo(W,Ye),Oe;if(Fe===null){for(;Ye<ee.length;Ye++)Fe=pe(W,ee[Ye],de),Fe!==null&&(Q=y(Fe,Q,Ye),yt===null?Oe=Fe:yt.sibling=Fe,yt=Fe);return Mt&&Wo(W,Ye),Oe}for(Fe=d(Fe);Ye<ee.length;Ye++)Mn=se(Fe,W,Ye,ee[Ye],de),Mn!==null&&(i&&Mn.alternate!==null&&Fe.delete(Mn.key===null?Ye:Mn.key),Q=y(Mn,Q,Ye),yt===null?Oe=Mn:yt.sibling=Mn,yt=Mn);return i&&Fe.forEach(function(ja){return a(W,ja)}),Mt&&Wo(W,Ye),Oe}function Ge(W,Q,ee,de){if(ee==null)throw Error(r(151));for(var Oe=null,yt=null,Fe=Q,Ye=Q=0,Mn=null,Pt=ee.next();Fe!==null&&!Pt.done;Ye++,Pt=ee.next()){Fe.index>Ye?(Mn=Fe,Fe=null):Mn=Fe.sibling;var ja=ie(W,Fe,Pt.value,de);if(ja===null){Fe===null&&(Fe=Mn);break}i&&Fe&&ja.alternate===null&&a(W,Fe),Q=y(ja,Q,Ye),yt===null?Oe=ja:yt.sibling=ja,yt=ja,Fe=Mn}if(Pt.done)return l(W,Fe),Mt&&Wo(W,Ye),Oe;if(Fe===null){for(;!Pt.done;Ye++,Pt=ee.next())Pt=pe(W,Pt.value,de),Pt!==null&&(Q=y(Pt,Q,Ye),yt===null?Oe=Pt:yt.sibling=Pt,yt=Pt);return Mt&&Wo(W,Ye),Oe}for(Fe=d(Fe);!Pt.done;Ye++,Pt=ee.next())Pt=se(Fe,W,Ye,Pt.value,de),Pt!==null&&(i&&Pt.alternate!==null&&Fe.delete(Pt.key===null?Ye:Pt.key),Q=y(Pt,Q,Ye),yt===null?Oe=Pt:yt.sibling=Pt,yt=Pt);return i&&Fe.forEach(function($D){return a(W,$D)}),Mt&&Wo(W,Ye),Oe}function Gt(W,Q,ee,de){if(typeof ee=="object"&&ee!==null&&ee.type===S&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:e:{for(var Oe=ee.key;Q!==null;){if(Q.key===Oe){if(Oe=ee.type,Oe===S){if(Q.tag===7){l(W,Q.sibling),de=m(Q,ee.props.children),de.return=W,W=de;break e}}else if(Q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&sT(Oe)===Q.type){l(W,Q.sibling),de=m(Q,ee.props),vd(de,ee),de.return=W,W=de;break e}l(W,Q);break}else a(W,Q);Q=Q.sibling}ee.type===S?(de=Qo(ee.props.children,W.mode,de,ee.key),de.return=W,W=de):(de=Bh(ee.type,ee.key,ee.props,null,W.mode,de),vd(de,ee),de.return=W,W=de)}return R(W);case w:e:{for(Oe=ee.key;Q!==null;){if(Q.key===Oe)if(Q.tag===4&&Q.stateNode.containerInfo===ee.containerInfo&&Q.stateNode.implementation===ee.implementation){l(W,Q.sibling),de=m(Q,ee.children||[]),de.return=W,W=de;break e}else{l(W,Q);break}else a(W,Q);Q=Q.sibling}de=hy(ee,W.mode,de),de.return=W,W=de}return R(W);case I:return Oe=ee._init,ee=Oe(ee._payload),Gt(W,Q,ee,de)}if(Ee(ee))return Je(W,Q,ee,de);if($(ee)){if(Oe=$(ee),typeof Oe!="function")throw Error(r(150));return ee=Oe.call(ee),Ge(W,Q,ee,de)}if(typeof ee.then=="function")return Gt(W,Q,sp(ee),de);if(ee.$$typeof===L)return Gt(W,Q,Gh(W,ee),de);ap(W,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Q!==null&&Q.tag===6?(l(W,Q.sibling),de=m(Q,ee),de.return=W,W=de):(l(W,Q),de=fy(ee,W.mode,de),de.return=W,W=de),R(W)):l(W,Q)}return function(W,Q,ee,de){try{yd=0;var Oe=Gt(W,Q,ee,de);return yu=null,Oe}catch(Fe){if(Fe===ld||Fe===Qh)throw Fe;var yt=Or(29,Fe,null,W.mode);return yt.lanes=de,yt.return=W,yt}finally{}}}var vu=aT(!0),oT=aT(!1),ai=re(null),Gi=null;function Ta(i){var a=i.alternate;le(Sn,Sn.current&1),le(ai,i),Gi===null&&(a===null||hu.current!==null||a.memoizedState!==null)&&(Gi=i)}function lT(i){if(i.tag===22){if(le(Sn,Sn.current),le(ai,i),Gi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Gi=i)}}else Sa()}function Sa(){le(Sn,Sn.current),le(ai,ai.current)}function Vs(i){fe(ai),Gi===i&&(Gi=null),fe(Sn)}var Sn=re(0);function op(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Mv(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Gy(i,a,l,d){a=i.memoizedState,l=l(d,a),l=l==null?a:g({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ky={enqueueSetState:function(i,a,l){i=i._reactInternals;var d=Dr(),m=ba(d);m.payload=a,l!=null&&(m.callback=l),a=wa(i,m,d),a!==null&&(Mr(a,i,d),cd(a,i,d))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var d=Dr(),m=ba(d);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=wa(i,m,d),a!==null&&(Mr(a,i,d),cd(a,i,d))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Dr(),d=ba(l);d.tag=2,a!=null&&(d.callback=a),a=wa(i,d,l),a!==null&&(Mr(a,i,l),cd(a,i,l))}};function uT(i,a,l,d,m,y,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,R):a.prototype&&a.prototype.isPureReactComponent?!ed(l,d)||!ed(m,y):!0}function cT(i,a,l,d){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==i&&Ky.enqueueReplaceState(a,a.state,null)}function rl(i,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(i=i.defaultProps){l===a&&(l=g({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var lp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function dT(i){lp(i)}function fT(i){console.error(i)}function hT(i){lp(i)}function up(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function pT(i,a,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Qy(i,a,l){return l=ba(l),l.tag=3,l.payload={element:null},l.callback=function(){up(i,a)},l}function mT(i){return i=ba(i),i.tag=3,i}function gT(i,a,l,d){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;i.payload=function(){return m(y)},i.callback=function(){pT(a,l,d)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){pT(a,l,d),typeof m!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function $P(i,a,l,d,m){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&sd(a,l,m,!0),l=ai.current,l!==null){switch(l.tag){case 13:return Gi===null?vv():l.alternate===null&&an===0&&(an=3),l.flags&=-257,l.flags|=65536,l.lanes=m,d===Ty?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),bv(i,d,m)),!1;case 22:return l.flags|=65536,d===Ty?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),bv(i,d,m)),!1}throw Error(r(435,l.tag))}return bv(i,d,m),vv(),!1}if(Mt)return a=ai.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,d!==gy&&(i=Error(r(422),{cause:d}),id(ni(i,l)))):(d!==gy&&(a=Error(r(423),{cause:d}),id(ni(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,d=ni(d,l),m=Qy(i.stateNode,d,m),Ry(i,m),an!==4&&(an=2)),!1;var y=Error(r(520),{cause:d});if(y=ni(y,l),xd===null?xd=[y]:xd.push(y),an!==4&&(an=2),a===null)return!0;d=ni(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Qy(l.stateNode,d,i),Ry(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Oa===null||!Oa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=mT(m),gT(m,i,l,d),Ry(l,m),!1}l=l.return}while(l!==null);return!1}var yT=Error(r(461)),Pn=!1;function zn(i,a,l,d){a.child=i===null?oT(a,null,l,d):vu(a,i.child,l,d)}function vT(i,a,l,d,m){l=l.render;var y=a.ref;if("ref"in d){var R={};for(var O in d)O!=="ref"&&(R[O]=d[O])}else R=d;return el(a),d=Ny(i,a,l,R,y,m),O=ky(),i!==null&&!Pn?(Py(i,a,m),js(i,a,m)):(Mt&&O&&py(a),a.flags|=1,zn(i,a,d,m),a.child)}function _T(i,a,l,d,m){if(i===null){var y=l.type;return typeof y=="function"&&!dy(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,bT(i,a,y,d,m)):(i=Bh(l.type,null,d,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!nv(i,m)){var R=y.memoizedProps;if(l=l.compare,l=l!==null?l:ed,l(R,d)&&i.ref===a.ref)return js(i,a,m)}return a.flags|=1,i=Ns(y,d),i.ref=a.ref,i.return=a,a.child=i}function bT(i,a,l,d,m){if(i!==null){var y=i.memoizedProps;if(ed(y,d)&&i.ref===a.ref)if(Pn=!1,a.pendingProps=d=y,nv(i,m))(i.flags&131072)!==0&&(Pn=!0);else return a.lanes=i.lanes,js(i,a,m)}return Yy(i,a,l,d,m)}function wT(i,a,l){var d=a.pendingProps,m=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=y!==null?y.baseLanes|l:l,i!==null){for(m=a.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~d}else a.childLanes=0,a.child=null;return ET(i,a,d,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Kh(a,y!==null?y.cachePool:null),y!==null?bE(a,y):Cy(),lT(a);else return a.lanes=a.childLanes=536870912,ET(i,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Kh(a,y.cachePool),bE(a,y),Sa(),a.memoizedState=null):(i!==null&&Kh(a,null),Cy(),Sa());return zn(i,a,m,l),a.child}function ET(i,a,l,d){var m=Ey();return m=m===null?null:{parent:Tn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},i!==null&&Kh(a,null),Cy(),lT(a),i!==null&&sd(i,a,d,!0),null}function cp(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Yy(i,a,l,d,m){return el(a),l=Ny(i,a,l,d,void 0,m),d=ky(),i!==null&&!Pn?(Py(i,a,m),js(i,a,m)):(Mt&&d&&py(a),a.flags|=1,zn(i,a,l,m),a.child)}function TT(i,a,l,d,m,y){return el(a),a.updateQueue=null,l=EE(a,d,l,m),wE(i),d=ky(),i!==null&&!Pn?(Py(i,a,y),js(i,a,y)):(Mt&&d&&py(a),a.flags|=1,zn(i,a,l,y),a.child)}function ST(i,a,l,d,m){if(el(a),a.stateNode===null){var y=lu,R=l.contextType;typeof R=="object"&&R!==null&&(y=Yn(R)),y=new l(d,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ky,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=d,y.state=a.memoizedState,y.refs={},Sy(a),R=l.contextType,y.context=typeof R=="object"&&R!==null?Yn(R):lu,y.state=a.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Gy(a,l,R,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&Ky.enqueueReplaceState(y,y.state,null),fd(a,d,y,m),dd(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(i===null){y=a.stateNode;var O=a.memoizedProps,B=rl(l,O);y.props=B;var ne=y.context,ce=l.contextType;R=lu,typeof ce=="object"&&ce!==null&&(R=Yn(ce));var pe=l.getDerivedStateFromProps;ce=typeof pe=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||ne!==R)&&cT(a,y,d,R),_a=!1;var ie=a.memoizedState;y.state=ie,fd(a,d,y,m),dd(),ne=a.memoizedState,O||ie!==ne||_a?(typeof pe=="function"&&(Gy(a,l,pe,d),ne=a.memoizedState),(B=_a||uT(a,l,B,d,ie,ne,R))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=ne),y.props=d,y.state=ne,y.context=R,d=B):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{y=a.stateNode,xy(i,a),R=a.memoizedProps,ce=rl(l,R),y.props=ce,pe=a.pendingProps,ie=y.context,ne=l.contextType,B=lu,typeof ne=="object"&&ne!==null&&(B=Yn(ne)),O=l.getDerivedStateFromProps,(ne=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==pe||ie!==B)&&cT(a,y,d,B),_a=!1,ie=a.memoizedState,y.state=ie,fd(a,d,y,m),dd();var se=a.memoizedState;R!==pe||ie!==se||_a||i!==null&&i.dependencies!==null&&qh(i.dependencies)?(typeof O=="function"&&(Gy(a,l,O,d),se=a.memoizedState),(ce=_a||uT(a,l,ce,d,ie,se,B)||i!==null&&i.dependencies!==null&&qh(i.dependencies))?(ne||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,se,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,se,B)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&ie===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ie===i.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=se),y.props=d,y.state=se,y.context=B,d=ce):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&ie===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ie===i.memoizedState||(a.flags|=1024),d=!1)}return y=d,cp(i,a),d=(a.flags&128)!==0,y||d?(y=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&d?(a.child=vu(a,i.child,null,m),a.child=vu(a,null,l,m)):zn(i,a,l,m),a.memoizedState=y.state,i=a.child):i=js(i,a,m),i}function xT(i,a,l,d){return rd(),a.flags|=256,zn(i,a,l,d),a.child}var Wy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zy(i){return{baseLanes:i,cachePool:fE()}}function Xy(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=oi),i}function RT(i,a,l){var d=a.pendingProps,m=!1,y=(a.flags&128)!==0,R;if((R=y)||(R=i!==null&&i.memoizedState===null?!1:(Sn.current&2)!==0),R&&(m=!0,a.flags&=-129),R=(a.flags&32)!==0,a.flags&=-33,i===null){if(Mt){if(m?Ta(a):Sa(),Mt){var O=sn,B;if(B=O){e:{for(B=O,O=qi;B.nodeType!==8;){if(!O){O=null;break e}if(B=_i(B.nextSibling),B===null){O=null;break e}}O=B}O!==null?(a.memoizedState={dehydrated:O,treeContext:Yo!==null?{id:ks,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},B=Or(18,null,null,0),B.stateNode=O,B.return=a,a.child=B,dr=a,sn=null,B=!0):B=!1}B||Xo(a)}if(O=a.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Mv(O)?a.lanes=32:a.lanes=536870912,null;Vs(a)}return O=d.children,d=d.fallback,m?(Sa(),m=a.mode,O=dp({mode:"hidden",children:O},m),d=Qo(d,m,l,null),O.return=a,d.return=a,O.sibling=d,a.child=O,m=a.child,m.memoizedState=Zy(l),m.childLanes=Xy(i,R,l),a.memoizedState=Wy,d):(Ta(a),Jy(a,O))}if(B=i.memoizedState,B!==null&&(O=B.dehydrated,O!==null)){if(y)a.flags&256?(Ta(a),a.flags&=-257,a=ev(i,a,l)):a.memoizedState!==null?(Sa(),a.child=i.child,a.flags|=128,a=null):(Sa(),m=d.fallback,O=a.mode,d=dp({mode:"visible",children:d.children},O),m=Qo(m,O,l,null),m.flags|=2,d.return=a,m.return=a,d.sibling=m,a.child=d,vu(a,i.child,null,l),d=a.child,d.memoizedState=Zy(l),d.childLanes=Xy(i,R,l),a.memoizedState=Wy,a=m);else if(Ta(a),Mv(O)){if(R=O.nextSibling&&O.nextSibling.dataset,R)var ne=R.dgst;R=ne,d=Error(r(419)),d.stack="",d.digest=R,id({value:d,source:null,stack:null}),a=ev(i,a,l)}else if(Pn||sd(i,a,l,!1),R=(l&i.childLanes)!==0,Pn||R){if(R=Wt,R!==null&&(d=l&-l,d=(d&42)!==0?1:Mi(d),d=(d&(R.suspendedLanes|l))!==0?0:d,d!==0&&d!==B.retryLane))throw B.retryLane=d,ou(i,d),Mr(R,i,d),yT;O.data==="$?"||vv(),a=ev(i,a,l)}else O.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=B.treeContext,sn=_i(O.nextSibling),dr=a,Mt=!0,Zo=null,qi=!1,i!==null&&(ii[si++]=ks,ii[si++]=Ps,ii[si++]=Yo,ks=i.id,Ps=i.overflow,Yo=a),a=Jy(a,d.children),a.flags|=4096);return a}return m?(Sa(),m=d.fallback,O=a.mode,B=i.child,ne=B.sibling,d=Ns(B,{mode:"hidden",children:d.children}),d.subtreeFlags=B.subtreeFlags&65011712,ne!==null?m=Ns(ne,m):(m=Qo(m,O,l,null),m.flags|=2),m.return=a,d.return=a,d.sibling=m,a.child=d,d=m,m=a.child,O=i.child.memoizedState,O===null?O=Zy(l):(B=O.cachePool,B!==null?(ne=Tn._currentValue,B=B.parent!==ne?{parent:ne,pool:ne}:B):B=fE(),O={baseLanes:O.baseLanes|l,cachePool:B}),m.memoizedState=O,m.childLanes=Xy(i,R,l),a.memoizedState=Wy,d):(Ta(a),l=i.child,i=l.sibling,l=Ns(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,i!==null&&(R=a.deletions,R===null?(a.deletions=[i],a.flags|=16):R.push(i)),a.child=l,a.memoizedState=null,l)}function Jy(i,a){return a=dp({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function dp(i,a){return i=Or(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ev(i,a,l){return vu(a,i.child,null,l),i=Jy(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function AT(i,a,l){i.lanes|=a;var d=i.alternate;d!==null&&(d.lanes|=a),vy(i.return,a,l)}function tv(i,a,l,d,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function CT(i,a,l){var d=a.pendingProps,m=d.revealOrder,y=d.tail;if(zn(i,a,d.children,l),d=Sn.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&AT(i,l,a);else if(i.tag===19)AT(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(le(Sn,d),m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&op(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),tv(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&op(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}tv(a,!0,l,null,y);break;case"together":tv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function js(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Ia|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(sd(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ns(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ns(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function nv(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&qh(i)))}function qP(i,a,l){switch(a.tag){case 3:Ve(a,a.stateNode.containerInfo),va(a,Tn,i.memoizedState.cache),rd();break;case 27:case 5:Ue(a);break;case 4:Ve(a,a.stateNode.containerInfo);break;case 10:va(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Ta(a),a.flags|=128,null):(l&a.child.childLanes)!==0?RT(i,a,l):(Ta(a),i=js(i,a,l),i!==null?i.sibling:null);Ta(a);break;case 19:var m=(i.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(sd(i,a,l,!1),d=(l&a.childLanes)!==0),m){if(d)return CT(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(Sn,Sn.current),d)break;return null;case 22:case 23:return a.lanes=0,wT(i,a,l);case 24:va(a,Tn,i.memoizedState.cache)}return js(i,a,l)}function IT(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Pn=!0;else{if(!nv(i,l)&&(a.flags&128)===0)return Pn=!1,qP(i,a,l);Pn=(i.flags&131072)!==0}else Pn=!1,Mt&&(a.flags&1048576)!==0&&sE(a,$h,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var d=a.elementType,m=d._init;if(d=m(d._payload),a.type=d,typeof d=="function")dy(d)?(i=rl(d,i),a.tag=1,a=ST(null,a,d,i,l)):(a.tag=0,a=Yy(null,a,d,i,l));else{if(d!=null){if(m=d.$$typeof,m===q){a.tag=11,a=vT(null,a,d,i,l);break e}else if(m===P){a.tag=14,a=_T(null,a,d,i,l);break e}}throw a=_e(d)||d,Error(r(306,a,""))}}return a;case 0:return Yy(i,a,a.type,a.pendingProps,l);case 1:return d=a.type,m=rl(d,a.pendingProps),ST(i,a,d,m,l);case 3:e:{if(Ve(a,a.stateNode.containerInfo),i===null)throw Error(r(387));d=a.pendingProps;var y=a.memoizedState;m=y.element,xy(i,a),fd(a,d,null,l);var R=a.memoizedState;if(d=R.cache,va(a,Tn,d),d!==y.cache&&_y(a,[Tn],l,!0),dd(),d=R.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=xT(i,a,d,l);break e}else if(d!==m){m=ni(Error(r(424)),a),id(m),a=xT(i,a,d,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(sn=_i(i.firstChild),dr=a,Mt=!0,Zo=null,qi=!0,l=oT(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(rd(),d===m){a=js(i,a,l);break e}zn(i,a,d,l)}a=a.child}return a;case 26:return cp(i,a),i===null?(l=PS(a.type,null,a.pendingProps,null))?a.memoizedState=l:Mt||(l=a.type,i=a.pendingProps,d=xp(xe.current).createElement(l),d[he]=a,d[ve]=i,Bn(d,l,i),St(d),a.stateNode=d):a.memoizedState=PS(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ue(a),i===null&&Mt&&(d=a.stateNode=OS(a.type,a.pendingProps,xe.current),dr=a,qi=!0,m=sn,Pa(a.type)?(Lv=m,sn=_i(d.firstChild)):sn=m),zn(i,a,a.pendingProps.children,l),cp(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Mt&&((m=d=sn)&&(d=_D(d,a.type,a.pendingProps,qi),d!==null?(a.stateNode=d,dr=a,sn=_i(d.firstChild),qi=!1,m=!0):m=!1),m||Xo(a)),Ue(a),m=a.type,y=a.pendingProps,R=i!==null?i.memoizedProps:null,d=y.children,kv(m,y)?d=null:R!==null&&kv(m,R)&&(a.flags|=32),a.memoizedState!==null&&(m=Ny(i,a,VP,null,null,l),Dd._currentValue=m),cp(i,a),zn(i,a,d,l),a.child;case 6:return i===null&&Mt&&((i=l=sn)&&(l=bD(l,a.pendingProps,qi),l!==null?(a.stateNode=l,dr=a,sn=null,i=!0):i=!1),i||Xo(a)),null;case 13:return RT(i,a,l);case 4:return Ve(a,a.stateNode.containerInfo),d=a.pendingProps,i===null?a.child=vu(a,null,d,l):zn(i,a,d,l),a.child;case 11:return vT(i,a,a.type,a.pendingProps,l);case 7:return zn(i,a,a.pendingProps,l),a.child;case 8:return zn(i,a,a.pendingProps.children,l),a.child;case 12:return zn(i,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,va(a,a.type,d.value),zn(i,a,d.children,l),a.child;case 9:return m=a.type._context,d=a.pendingProps.children,el(a),m=Yn(m),d=d(m),a.flags|=1,zn(i,a,d,l),a.child;case 14:return _T(i,a,a.type,a.pendingProps,l);case 15:return bT(i,a,a.type,a.pendingProps,l);case 19:return CT(i,a,l);case 31:return d=a.pendingProps,l=a.mode,d={mode:d.mode,children:d.children},i===null?(l=dp(d,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ns(i.child,d),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return wT(i,a,l);case 24:return el(a),d=Yn(Tn),i===null?(m=Ey(),m===null&&(m=Wt,y=by(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:d,cache:m},Sy(a),va(a,Tn,m)):((i.lanes&l)!==0&&(xy(i,a),fd(a,null,null,l),dd()),m=i.memoizedState,y=a.memoizedState,m.parent!==d?(m={parent:d,cache:d},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),va(a,Tn,d)):(d=y.cache,va(a,Tn,d),d!==m.cache&&_y(a,[Tn],l,!0))),zn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Us(i){i.flags|=4}function OT(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!jS(a)){if(a=ai.current,a!==null&&((It&4194048)===It?Gi!==null:(It&62914560)!==It&&(It&536870912)===0||a!==Gi))throw ud=Ty,hE;i.flags|=8192}}function fp(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Do():536870912,i.lanes|=a,Eu|=a)}function _d(i,a){if(!Mt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function tn(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,a}function GP(i,a,l){var d=a.pendingProps;switch(my(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(a),null;case 1:return tn(a),null;case 3:return l=a.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Ms(Tn),at(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(nd(a)?Us(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,lE())),tn(a),null;case 26:return l=a.memoizedState,i===null?(Us(a),l!==null?(tn(a),OT(a,l)):(tn(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Us(a),tn(a),OT(a,l)):(tn(a),a.flags&=-16777217):(i.memoizedProps!==d&&Us(a),tn(a),a.flags&=-16777217),null;case 27:We(a),l=xe.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Us(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return tn(a),null}i=be.current,nd(a)?aE(a):(i=OS(m,d,l),a.stateNode=i,Us(a))}return tn(a),null;case 5:if(We(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Us(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return tn(a),null}if(i=be.current,nd(a))aE(a);else{switch(m=xp(xe.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?m.createElement(l,{is:d.is}):m.createElement(l)}}i[he]=a,i[ve]=d;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(Bn(i,l,d),l){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Us(a)}}return tn(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==d&&Us(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(i=xe.current,nd(a)){if(i=a.stateNode,l=a.memoizedProps,d=null,m=dr,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}i[he]=a,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||TS(i.nodeValue,l)),i||Xo(a)}else i=xp(i).createTextNode(d),i[he]=a,a.stateNode=i}return tn(a),null;case 13:if(d=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=nd(a),d!==null&&d.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[he]=a}else rd(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tn(a),m=!1}else m=lE(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Vs(a),a):(Vs(a),null)}if(Vs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=d!==null,i=i!==null&&i.memoizedState!==null,l){d=a.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),fp(a,a.updateQueue),tn(a),null;case 4:return at(),i===null&&Av(a.stateNode.containerInfo),tn(a),null;case 10:return Ms(a.type),tn(a),null;case 19:if(fe(Sn),m=a.memoizedState,m===null)return tn(a),null;if(d=(a.flags&128)!==0,y=m.rendering,y===null)if(d)_d(m,!1);else{if(an!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=op(i),y!==null){for(a.flags|=128,_d(m,!1),i=y.updateQueue,a.updateQueue=i,fp(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)iE(l,i),l=l.sibling;return le(Sn,Sn.current&1|2),a.child}i=i.sibling}m.tail!==null&&un()>mp&&(a.flags|=128,d=!0,_d(m,!1),a.lanes=4194304)}else{if(!d)if(i=op(y),i!==null){if(a.flags|=128,d=!0,i=i.updateQueue,a.updateQueue=i,fp(a,i),_d(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Mt)return tn(a),null}else 2*un()-m.renderingStartTime>mp&&l!==536870912&&(a.flags|=128,d=!0,_d(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(i=m.last,i!==null?i.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=un(),a.sibling=null,i=Sn.current,le(Sn,d?i&1|2:i&1),a):(tn(a),null);case 22:case 23:return Vs(a),Iy(),d=a.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(tn(a),a.subtreeFlags&6&&(a.flags|=8192)):tn(a),l=a.updateQueue,l!==null&&fp(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),i!==null&&fe(tl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ms(Tn),tn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function KP(i,a){switch(my(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ms(Tn),at(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return We(a),null;case 13:if(Vs(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));rd()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return fe(Sn),null;case 4:return at(),null;case 10:return Ms(a.type),null;case 22:case 23:return Vs(a),Iy(),i!==null&&fe(tl),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ms(Tn),null;case 25:return null;default:return null}}function NT(i,a){switch(my(a),a.tag){case 3:Ms(Tn),at();break;case 26:case 27:case 5:We(a);break;case 4:at();break;case 13:Vs(a);break;case 19:fe(Sn);break;case 10:Ms(a.type);break;case 22:case 23:Vs(a),Iy(),i!==null&&fe(tl);break;case 24:Ms(Tn)}}function bd(i,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&i)===i){d=void 0;var y=l.create,R=l.inst;d=y(),R.destroy=d}l=l.next}while(l!==m)}}catch(O){Qt(a,a.return,O)}}function xa(i,a,l){try{var d=a.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&i)===i){var R=d.inst,O=R.destroy;if(O!==void 0){R.destroy=void 0,m=a;var B=l,ne=O;try{ne()}catch(ce){Qt(m,B,ce)}}}d=d.next}while(d!==y)}}catch(ce){Qt(a,a.return,ce)}}function kT(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{_E(a,l)}catch(d){Qt(i,i.return,d)}}}function PT(i,a,l){l.props=rl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){Qt(i,a,d)}}function wd(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(m){Qt(i,a,m)}}function Ki(i,a){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(m){Qt(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Qt(i,a,m)}else l.current=null}function DT(i){var a=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(m){Qt(i,i.return,m)}}function rv(i,a,l){try{var d=i.stateNode;pD(d,i.type,l,a),d[ve]=a}catch(m){Qt(i,i.return,m)}}function MT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Pa(i.type)||i.tag===4}function iv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||MT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Pa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sv(i,a,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Sp));else if(d!==4&&(d===27&&Pa(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(sv(i,a,l),i=i.sibling;i!==null;)sv(i,a,l),i=i.sibling}function hp(i,a,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(d!==4&&(d===27&&Pa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(hp(i,a,l),i=i.sibling;i!==null;)hp(i,a,l),i=i.sibling}function LT(i){var a=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Bn(a,d,l),a[he]=i,a[ve]=l}catch(y){Qt(i,i.return,y)}}var zs=!1,dn=!1,av=!1,VT=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function QP(i,a){if(i=i.containerInfo,Ov=Np,i=Qw(i),iy(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var R=0,O=-1,B=-1,ne=0,ce=0,pe=i,ie=null;t:for(;;){for(var se;pe!==l||m!==0&&pe.nodeType!==3||(O=R+m),pe!==y||d!==0&&pe.nodeType!==3||(B=R+d),pe.nodeType===3&&(R+=pe.nodeValue.length),(se=pe.firstChild)!==null;)ie=pe,pe=se;for(;;){if(pe===i)break t;if(ie===l&&++ne===m&&(O=R),ie===y&&++ce===d&&(B=R),(se=pe.nextSibling)!==null)break;pe=ie,ie=pe.parentNode}pe=se}l=O===-1||B===-1?null:{start:O,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nv={focusedElem:i,selectionRange:l},Np=!1,Dn=a;Dn!==null;)if(a=Dn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Dn=i;else for(;Dn!==null;){switch(a=Dn,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,d=l.stateNode;try{var Je=rl(l.type,m,l.elementType===l.type);i=d.getSnapshotBeforeUpdate(Je,y),d.__reactInternalSnapshotBeforeUpdate=i}catch(Ge){Qt(l,l.return,Ge)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Dv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Dn=i;break}Dn=a.return}}function jT(i,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Ra(i,l),d&4&&bd(5,l);break;case 1:if(Ra(i,l),d&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(R){Qt(l,l.return,R)}else{var m=rl(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Qt(l,l.return,R)}}d&64&&kT(l),d&512&&wd(l,l.return);break;case 3:if(Ra(i,l),d&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{_E(i,a)}catch(R){Qt(l,l.return,R)}}break;case 27:a===null&&d&4&&LT(l);case 26:case 5:Ra(i,l),a===null&&d&4&&DT(l),d&512&&wd(l,l.return);break;case 12:Ra(i,l);break;case 13:Ra(i,l),d&4&&FT(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=rD.bind(null,l),wD(i,l))));break;case 22:if(d=l.memoizedState!==null||zs,!d){a=a!==null&&a.memoizedState!==null||dn,m=zs;var y=dn;zs=d,(dn=a)&&!y?Aa(i,l,(l.subtreeFlags&8772)!==0):Ra(i,l),zs=m,dn=y}break;case 30:break;default:Ra(i,l)}}function UT(i){var a=i.alternate;a!==null&&(i.alternate=null,UT(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Me(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,vr=!1;function Fs(i,a,l){for(l=l.child;l!==null;)zT(i,a,l),l=l.sibling}function zT(i,a,l){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Dt,l)}catch{}switch(l.tag){case 26:dn||Ki(l,a),Fs(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:dn||Ki(l,a);var d=Jt,m=vr;Pa(l.type)&&(Jt=l.stateNode,vr=!1),Fs(i,a,l),Od(l.stateNode),Jt=d,vr=m;break;case 5:dn||Ki(l,a);case 6:if(d=Jt,m=vr,Jt=null,Fs(i,a,l),Jt=d,vr=m,Jt!==null)if(vr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(l.stateNode)}catch(y){Qt(l,a,y)}else try{Jt.removeChild(l.stateNode)}catch(y){Qt(l,a,y)}break;case 18:Jt!==null&&(vr?(i=Jt,CS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),jd(i)):CS(Jt,l.stateNode));break;case 4:d=Jt,m=vr,Jt=l.stateNode.containerInfo,vr=!0,Fs(i,a,l),Jt=d,vr=m;break;case 0:case 11:case 14:case 15:dn||xa(2,l,a),dn||xa(4,l,a),Fs(i,a,l);break;case 1:dn||(Ki(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&PT(l,a,d)),Fs(i,a,l);break;case 21:Fs(i,a,l);break;case 22:dn=(d=dn)||l.memoizedState!==null,Fs(i,a,l),dn=d;break;default:Fs(i,a,l)}}function FT(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{jd(i)}catch(l){Qt(a,a.return,l)}}function YP(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new VT),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new VT),a;default:throw Error(r(435,i.tag))}}function ov(i,a){var l=YP(i);a.forEach(function(d){var m=iD.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}function Nr(i,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d],y=i,R=a,O=R;e:for(;O!==null;){switch(O.tag){case 27:if(Pa(O.type)){Jt=O.stateNode,vr=!1;break e}break;case 5:Jt=O.stateNode,vr=!1;break e;case 3:case 4:Jt=O.stateNode.containerInfo,vr=!0;break e}O=O.return}if(Jt===null)throw Error(r(160));zT(y,R,m),Jt=null,vr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)BT(a,i),a=a.sibling}var vi=null;function BT(i,a){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Nr(a,i),kr(i),d&4&&(xa(3,i,i.return),bd(3,i),xa(5,i,i.return));break;case 1:Nr(a,i),kr(i),d&512&&(dn||l===null||Ki(l,l.return)),d&64&&zs&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var m=vi;if(Nr(a,i),kr(i),d&512&&(dn||l===null||Ki(l,l.return)),d&4){var y=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[qe]||y[he]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),Bn(y,d,l),y[he]=i,St(y),d=y;break e;case"link":var R=LS("link","href",m).get(d+(l.href||""));if(R){for(var O=0;O<R.length;O++)if(y=R[O],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(O,1);break t}}y=m.createElement(d),Bn(y,d,l),m.head.appendChild(y);break;case"meta":if(R=LS("meta","content",m).get(d+(l.content||""))){for(O=0;O<R.length;O++)if(y=R[O],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(O,1);break t}}y=m.createElement(d),Bn(y,d,l),m.head.appendChild(y);break;default:throw Error(r(468,d))}y[he]=i,St(y),d=y}i.stateNode=d}else VS(m,i.type,i.stateNode);else i.stateNode=MS(m,d,i.memoizedProps);else y!==d?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,d===null?VS(m,i.type,i.stateNode):MS(m,d,i.memoizedProps)):d===null&&i.stateNode!==null&&rv(i,i.memoizedProps,l.memoizedProps)}break;case 27:Nr(a,i),kr(i),d&512&&(dn||l===null||Ki(l,l.return)),l!==null&&d&4&&rv(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Nr(a,i),kr(i),d&512&&(dn||l===null||Ki(l,l.return)),i.flags&32){m=i.stateNode;try{Xr(m,"")}catch(se){Qt(i,i.return,se)}}d&4&&i.stateNode!=null&&(m=i.memoizedProps,rv(i,m,l!==null?l.memoizedProps:m)),d&1024&&(av=!0);break;case 6:if(Nr(a,i),kr(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(se){Qt(i,i.return,se)}}break;case 3:if(Cp=null,m=vi,vi=Rp(a.containerInfo),Nr(a,i),vi=m,kr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{jd(a.containerInfo)}catch(se){Qt(i,i.return,se)}av&&(av=!1,HT(i));break;case 4:d=vi,vi=Rp(i.stateNode.containerInfo),Nr(a,i),kr(i),vi=d;break;case 12:Nr(a,i),kr(i);break;case 13:Nr(a,i),kr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hv=un()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,ov(i,d)));break;case 22:m=i.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,ne=zs,ce=dn;if(zs=ne||m,dn=ce||B,Nr(a,i),dn=ce,zs=ne,kr(i),d&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||B||zs||dn||il(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){B=l=a;try{if(y=B.stateNode,m)R=y.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{O=B.stateNode;var pe=B.memoizedProps.style,ie=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;O.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(se){Qt(B,B.return,se)}}}else if(a.tag===6){if(l===null){B=a;try{B.stateNode.nodeValue=m?"":B.memoizedProps}catch(se){Qt(B,B.return,se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,ov(i,l))));break;case 19:Nr(a,i),kr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,ov(i,d)));break;case 30:break;case 21:break;default:Nr(a,i),kr(i)}}function kr(i){var a=i.flags;if(a&2){try{for(var l,d=i.return;d!==null;){if(MT(d)){l=d;break}d=d.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=iv(i);hp(i,y,m);break;case 5:var R=l.stateNode;l.flags&32&&(Xr(R,""),l.flags&=-33);var O=iv(i);hp(i,O,R);break;case 3:case 4:var B=l.stateNode.containerInfo,ne=iv(i);sv(i,ne,B);break;default:throw Error(r(161))}}catch(ce){Qt(i,i.return,ce)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function HT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;HT(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ra(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)jT(i,a.alternate,a),a=a.sibling}function il(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:xa(4,a,a.return),il(a);break;case 1:Ki(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&PT(a,a.return,l),il(a);break;case 27:Od(a.stateNode);case 26:case 5:Ki(a,a.return),il(a);break;case 22:a.memoizedState===null&&il(a);break;case 30:il(a);break;default:il(a)}i=i.sibling}}function Aa(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,m=i,y=a,R=y.flags;switch(y.tag){case 0:case 11:case 15:Aa(m,y,l),bd(4,y);break;case 1:if(Aa(m,y,l),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ne){Qt(d,d.return,ne)}if(d=y,m=d.updateQueue,m!==null){var O=d.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)vE(B[m],O)}catch(ne){Qt(d,d.return,ne)}}l&&R&64&&kT(y),wd(y,y.return);break;case 27:LT(y);case 26:case 5:Aa(m,y,l),l&&d===null&&R&4&&DT(y),wd(y,y.return);break;case 12:Aa(m,y,l);break;case 13:Aa(m,y,l),l&&R&4&&FT(m,y);break;case 22:y.memoizedState===null&&Aa(m,y,l),wd(y,y.return);break;case 30:break;default:Aa(m,y,l)}a=a.sibling}}function lv(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ad(l))}function uv(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ad(i))}function Qi(i,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$T(i,a,l,d),a=a.sibling}function $T(i,a,l,d){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(i,a,l,d),m&2048&&bd(9,a);break;case 1:Qi(i,a,l,d);break;case 3:Qi(i,a,l,d),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ad(i)));break;case 12:if(m&2048){Qi(i,a,l,d),i=a.stateNode;try{var y=a.memoizedProps,R=y.id,O=y.onPostCommit;typeof O=="function"&&O(R,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){Qt(a,a.return,B)}}else Qi(i,a,l,d);break;case 13:Qi(i,a,l,d);break;case 23:break;case 22:y=a.stateNode,R=a.alternate,a.memoizedState!==null?y._visibility&2?Qi(i,a,l,d):Ed(i,a):y._visibility&2?Qi(i,a,l,d):(y._visibility|=2,_u(i,a,l,d,(a.subtreeFlags&10256)!==0)),m&2048&&lv(R,a);break;case 24:Qi(i,a,l,d),m&2048&&uv(a.alternate,a);break;default:Qi(i,a,l,d)}}function _u(i,a,l,d,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,R=a,O=l,B=d,ne=R.flags;switch(R.tag){case 0:case 11:case 15:_u(y,R,O,B,m),bd(8,R);break;case 23:break;case 22:var ce=R.stateNode;R.memoizedState!==null?ce._visibility&2?_u(y,R,O,B,m):Ed(y,R):(ce._visibility|=2,_u(y,R,O,B,m)),m&&ne&2048&&lv(R.alternate,R);break;case 24:_u(y,R,O,B,m),m&&ne&2048&&uv(R.alternate,R);break;default:_u(y,R,O,B,m)}a=a.sibling}}function Ed(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,d=a,m=d.flags;switch(d.tag){case 22:Ed(l,d),m&2048&&lv(d.alternate,d);break;case 24:Ed(l,d),m&2048&&uv(d.alternate,d);break;default:Ed(l,d)}a=a.sibling}}var Td=8192;function bu(i){if(i.subtreeFlags&Td)for(i=i.child;i!==null;)qT(i),i=i.sibling}function qT(i){switch(i.tag){case 26:bu(i),i.flags&Td&&i.memoizedState!==null&&DD(vi,i.memoizedState,i.memoizedProps);break;case 5:bu(i);break;case 3:case 4:var a=vi;vi=Rp(i.stateNode.containerInfo),bu(i),vi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Td,Td=16777216,bu(i),Td=a):bu(i));break;default:bu(i)}}function GT(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Sd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];Dn=d,QT(d,i)}GT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)KT(i),i=i.sibling}function KT(i){switch(i.tag){case 0:case 11:case 15:Sd(i),i.flags&2048&&xa(9,i,i.return);break;case 3:Sd(i);break;case 12:Sd(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,pp(i)):Sd(i);break;default:Sd(i)}}function pp(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];Dn=d,QT(d,i)}GT(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:xa(8,a,a.return),pp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,pp(a));break;default:pp(a)}i=i.sibling}}function QT(i,a){for(;Dn!==null;){var l=Dn;switch(l.tag){case 0:case 11:case 15:xa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ad(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Dn=d;else e:for(l=i;Dn!==null;){d=Dn;var m=d.sibling,y=d.return;if(UT(d),d===l){Dn=null;break e}if(m!==null){m.return=y,Dn=m;break e}Dn=y}}}var WP={getCacheForType:function(i){var a=Yn(Tn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},ZP=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,_t=null,It=0,Bt=0,Pr=null,Ca=!1,wu=!1,cv=!1,Bs=0,an=0,Ia=0,sl=0,dv=0,oi=0,Eu=0,xd=null,_r=null,fv=!1,hv=0,mp=1/0,gp=null,Oa=null,Fn=0,Na=null,Tu=null,Su=0,pv=0,mv=null,YT=null,Rd=0,gv=null;function Dr(){if((Ft&2)!==0&&It!==0)return It&-It;if(K.T!==null){var i=du;return i!==0?i:Tv()}return G()}function WT(){oi===0&&(oi=(It&536870912)===0||Mt?Es():536870912);var i=ai.current;return i!==null&&(i.flags|=32),oi}function Mr(i,a,l){(i===Wt&&(Bt===2||Bt===9)||i.cancelPendingCommit!==null)&&(xu(i,0),ka(i,It,oi,!1)),mi(i,l),((Ft&2)===0||i!==Wt)&&(i===Wt&&((Ft&2)===0&&(sl|=l),an===4&&ka(i,It,oi,!1)),Yi(i))}function ZT(i,a,l){if((Ft&6)!==0)throw Error(r(327));var d=!l&&(a&124)===0&&(a&i.expiredLanes)===0||Qr(i,a),m=d?eD(i,a):_v(i,a,!0),y=d;do{if(m===0){wu&&!d&&ka(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!XP(l)){m=_v(i,a,!1),y=!1;continue}if(m===2){if(y=a,i.errorRecoveryDisabledLanes&y)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;e:{var O=i;m=xd;var B=O.current.memoizedState.isDehydrated;if(B&&(xu(O,R).flags|=256),R=_v(O,R,!1),R!==2){if(cv&&!B){O.errorRecoveryDisabledLanes|=y,sl|=y,m=4;break e}y=_r,_r=m,y!==null&&(_r===null?_r=y:_r.push.apply(_r,y))}m=R}if(y=!1,m!==2)continue}}if(m===1){xu(i,0),ka(i,a,0,!0);break}e:{switch(d=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ka(d,a,oi,!Ca);break e;case 2:_r=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=hv+300-un(),10<m)){if(ka(d,a,oi,!Ca),ws(d,0,!0)!==0)break e;d.timeoutHandle=RS(XT.bind(null,d,l,_r,gp,fv,a,oi,sl,Eu,Ca,y,2,-0,0),m);break e}XT(d,l,_r,gp,fv,a,oi,sl,Eu,Ca,y,0,-0,0)}}break}while(!0);Yi(i)}function XT(i,a,l,d,m,y,R,O,B,ne,ce,pe,ie,se){if(i.timeoutHandle=-1,pe=a.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(Pd={stylesheets:null,count:0,unsuspend:PD},qT(a),pe=MD(),pe!==null)){i.cancelPendingCommit=pe(sS.bind(null,i,a,y,l,d,m,R,O,B,ce,1,ie,se)),ka(i,y,R,!ne);return}sS(i,a,y,l,d,m,R,O,B)}function XP(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!Ir(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ka(i,a,l,d){a&=~dv,a&=~sl,i.suspendedLanes|=a,i.pingedLanes&=~a,d&&(i.warmLanes|=a),d=i.expirationTimes;for(var m=a;0<m;){var y=31-hn(m),R=1<<y;d[y]=-1,m&=~R}l!==0&&or(i,l,a)}function yp(){return(Ft&6)===0?(Ad(0),!1):!0}function yv(){if(_t!==null){if(Bt===0)var i=_t.return;else i=_t,Ds=Jo=null,Dy(i),yu=null,yd=0,i=_t;for(;i!==null;)NT(i.alternate,i),i=i.return;_t=null}}function xu(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,gD(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),yv(),Wt=i,_t=l=Ns(i.current,null),It=a,Bt=0,Pr=null,Ca=!1,wu=Qr(i,a),cv=!1,Eu=oi=dv=sl=Ia=an=0,_r=xd=null,fv=!1,(a&8)!==0&&(a|=a&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=a;0<d;){var m=31-hn(d),y=1<<m;a|=i[m],d&=~y}return Bs=a,Uh(),l}function JT(i,a){ht=null,K.H=ip,a===ld||a===Qh?(a=gE(),Bt=3):a===hE?(a=gE(),Bt=4):Bt=a===yT?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Pr=a,_t===null&&(an=1,up(i,ni(a,i.current)))}function eS(){var i=K.H;return K.H=ip,i===null?ip:i}function tS(){var i=K.A;return K.A=WP,i}function vv(){an=4,Ca||(It&4194048)!==It&&ai.current!==null||(wu=!0),(Ia&134217727)===0&&(sl&134217727)===0||Wt===null||ka(Wt,It,oi,!1)}function _v(i,a,l){var d=Ft;Ft|=2;var m=eS(),y=tS();(Wt!==i||It!==a)&&(gp=null,xu(i,a)),a=!1;var R=an;e:do try{if(Bt!==0&&_t!==null){var O=_t,B=Pr;switch(Bt){case 8:yv(),R=6;break e;case 3:case 2:case 9:case 6:ai.current===null&&(a=!0);var ne=Bt;if(Bt=0,Pr=null,Ru(i,O,B,ne),l&&wu){R=0;break e}break;default:ne=Bt,Bt=0,Pr=null,Ru(i,O,B,ne)}}JP(),R=an;break}catch(ce){JT(i,ce)}while(!0);return a&&i.shellSuspendCounter++,Ds=Jo=null,Ft=d,K.H=m,K.A=y,_t===null&&(Wt=null,It=0,Uh()),R}function JP(){for(;_t!==null;)nS(_t)}function eD(i,a){var l=Ft;Ft|=2;var d=eS(),m=tS();Wt!==i||It!==a?(gp=null,mp=un()+500,xu(i,a)):wu=Qr(i,a);e:do try{if(Bt!==0&&_t!==null){a=_t;var y=Pr;t:switch(Bt){case 1:Bt=0,Pr=null,Ru(i,a,y,1);break;case 2:case 9:if(pE(y)){Bt=0,Pr=null,rS(a);break}a=function(){Bt!==2&&Bt!==9||Wt!==i||(Bt=7),Yi(i)},y.then(a,a);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:pE(y)?(Bt=0,Pr=null,rS(a)):(Bt=0,Pr=null,Ru(i,a,y,7));break;case 5:var R=null;switch(_t.tag){case 26:R=_t.memoizedState;case 5:case 27:var O=_t;if(!R||jS(R)){Bt=0,Pr=null;var B=O.sibling;if(B!==null)_t=B;else{var ne=O.return;ne!==null?(_t=ne,vp(ne)):_t=null}break t}}Bt=0,Pr=null,Ru(i,a,y,5);break;case 6:Bt=0,Pr=null,Ru(i,a,y,6);break;case 8:yv(),an=6;break e;default:throw Error(r(462))}}tD();break}catch(ce){JT(i,ce)}while(!0);return Ds=Jo=null,K.H=d,K.A=m,Ft=l,_t!==null?0:(Wt=null,It=0,Uh(),an)}function tD(){for(;_t!==null&&!Sr();)nS(_t)}function nS(i){var a=IT(i.alternate,i,Bs);i.memoizedProps=i.pendingProps,a===null?vp(i):_t=a}function rS(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=TT(l,a,a.pendingProps,a.type,void 0,It);break;case 11:a=TT(l,a,a.pendingProps,a.type.render,a.ref,It);break;case 5:Dy(a);default:NT(l,a),a=_t=iE(a,Bs),a=IT(l,a,Bs)}i.memoizedProps=i.pendingProps,a===null?vp(i):_t=a}function Ru(i,a,l,d){Ds=Jo=null,Dy(a),yu=null,yd=0;var m=a.return;try{if($P(i,m,a,l,It)){an=1,up(i,ni(l,i.current)),_t=null;return}}catch(y){if(m!==null)throw _t=m,y;an=1,up(i,ni(l,i.current)),_t=null;return}a.flags&32768?(Mt||d===1?i=!0:wu||(It&536870912)!==0?i=!1:(Ca=i=!0,(d===2||d===9||d===3||d===6)&&(d=ai.current,d!==null&&d.tag===13&&(d.flags|=16384))),iS(a,i)):vp(a)}function vp(i){var a=i;do{if((a.flags&32768)!==0){iS(a,Ca);return}i=a.return;var l=GP(a.alternate,a,Bs);if(l!==null){_t=l;return}if(a=a.sibling,a!==null){_t=a;return}_t=a=i}while(a!==null);an===0&&(an=5)}function iS(i,a){do{var l=KP(i.alternate,i);if(l!==null){l.flags&=32767,_t=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){_t=i;return}_t=i=l}while(i!==null);an=6,_t=null}function sS(i,a,l,d,m,y,R,O,B){i.cancelPendingCommit=null;do _p();while(Fn!==0);if((Ft&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=uy,ha(i,l,y,R,O,B),i===Wt&&(_t=Wt=null,It=0),Tu=a,Na=i,Su=l,pv=y,mv=m,YT=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,sD(bs,function(){return cS(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,m=ae.p,ae.p=2,R=Ft,Ft|=4;try{QP(i,a,l)}finally{Ft=R,ae.p=m,K.T=d}}Fn=1,aS(),oS(),lS()}}function aS(){if(Fn===1){Fn=0;var i=Na,a=Tu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var d=ae.p;ae.p=2;var m=Ft;Ft|=4;try{BT(a,i);var y=Nv,R=Qw(i.containerInfo),O=y.focusedElem,B=y.selectionRange;if(R!==O&&O&&O.ownerDocument&&Kw(O.ownerDocument.documentElement,O)){if(B!==null&&iy(O)){var ne=B.start,ce=B.end;if(ce===void 0&&(ce=ne),"selectionStart"in O)O.selectionStart=ne,O.selectionEnd=Math.min(ce,O.value.length);else{var pe=O.ownerDocument||document,ie=pe&&pe.defaultView||window;if(ie.getSelection){var se=ie.getSelection(),Je=O.textContent.length,Ge=Math.min(B.start,Je),Gt=B.end===void 0?Ge:Math.min(B.end,Je);!se.extend&&Ge>Gt&&(R=Gt,Gt=Ge,Ge=R);var W=Gw(O,Ge),Q=Gw(O,Gt);if(W&&Q&&(se.rangeCount!==1||se.anchorNode!==W.node||se.anchorOffset!==W.offset||se.focusNode!==Q.node||se.focusOffset!==Q.offset)){var ee=pe.createRange();ee.setStart(W.node,W.offset),se.removeAllRanges(),Ge>Gt?(se.addRange(ee),se.extend(Q.node,Q.offset)):(ee.setEnd(Q.node,Q.offset),se.addRange(ee))}}}}for(pe=[],se=O;se=se.parentNode;)se.nodeType===1&&pe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<pe.length;O++){var de=pe[O];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Np=!!Ov,Nv=Ov=null}finally{Ft=m,ae.p=d,K.T=l}}i.current=a,Fn=2}}function oS(){if(Fn===2){Fn=0;var i=Na,a=Tu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var d=ae.p;ae.p=2;var m=Ft;Ft|=4;try{jT(i,a.alternate,a)}finally{Ft=m,ae.p=d,K.T=l}}Fn=3}}function lS(){if(Fn===4||Fn===3){Fn=0,$r();var i=Na,a=Tu,l=Su,d=YT;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Fn=5:(Fn=0,Tu=Na=null,uS(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Oa=null),pa(l),a=a.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Dt,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=K.T,m=ae.p,ae.p=2,K.T=null;try{for(var y=i.onRecoverableError,R=0;R<d.length;R++){var O=d[R];y(O.value,{componentStack:O.stack})}}finally{K.T=a,ae.p=m}}(Su&3)!==0&&_p(),Yi(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===gv?Rd++:(Rd=0,gv=i):Rd=0,Ad(0)}}function uS(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,ad(a)))}function _p(i){return aS(),oS(),lS(),cS()}function cS(){if(Fn!==5)return!1;var i=Na,a=pv;pv=0;var l=pa(Su),d=K.T,m=ae.p;try{ae.p=32>l?32:l,K.T=null,l=mv,mv=null;var y=Na,R=Su;if(Fn=0,Tu=Na=null,Su=0,(Ft&6)!==0)throw Error(r(331));var O=Ft;if(Ft|=4,KT(y.current),$T(y,y.current,R,l),Ft=O,Ad(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Dt,y)}catch{}return!0}finally{ae.p=m,K.T=d,uS(i,a)}}function dS(i,a,l){a=ni(l,a),a=Qy(i.stateNode,a,2),i=wa(i,a,2),i!==null&&(mi(i,2),Yi(i))}function Qt(i,a,l){if(i.tag===3)dS(i,i,l);else for(;a!==null;){if(a.tag===3){dS(a,i,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Oa===null||!Oa.has(d))){i=ni(l,i),l=mT(2),d=wa(a,l,2),d!==null&&(gT(l,d,a,i),mi(d,2),Yi(d));break}}a=a.return}}function bv(i,a,l){var d=i.pingCache;if(d===null){d=i.pingCache=new ZP;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(l)||(cv=!0,m.add(l),i=nD.bind(null,i,a,l),a.then(i,i))}function nD(i,a,l){var d=i.pingCache;d!==null&&d.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Wt===i&&(It&l)===l&&(an===4||an===3&&(It&62914560)===It&&300>un()-hv?(Ft&2)===0&&xu(i,0):dv|=l,Eu===It&&(Eu=0)),Yi(i)}function fS(i,a){a===0&&(a=Do()),i=ou(i,a),i!==null&&(mi(i,a),Yi(i))}function rD(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),fS(i,l)}function iD(i,a){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),fS(i,l)}function sD(i,a){return en(i,a)}var bp=null,Au=null,wv=!1,wp=!1,Ev=!1,al=0;function Yi(i){i!==Au&&i.next===null&&(Au===null?bp=Au=i:Au=Au.next=i),wp=!0,wv||(wv=!0,oD())}function Ad(i,a){if(!Ev&&wp){Ev=!0;do for(var l=!1,d=bp;d!==null;){if(i!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var R=d.suspendedLanes,O=d.pingedLanes;y=(1<<31-hn(42|i)+1)-1,y&=m&~(R&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,gS(d,y))}else y=It,y=ws(d,d===Wt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Qr(d,y)||(l=!0,gS(d,y));d=d.next}while(l);Ev=!1}}function aD(){hS()}function hS(){wp=wv=!1;var i=0;al!==0&&(mD()&&(i=al),al=0);for(var a=un(),l=null,d=bp;d!==null;){var m=d.next,y=pS(d,a);y===0?(d.next=null,l===null?bp=m:l.next=m,m===null&&(Au=l)):(l=d,(i!==0||(y&3)!==0)&&(wp=!0)),d=m}Ad(i)}function pS(i,a){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var R=31-hn(y),O=1<<R,B=m[R];B===-1?((O&l)===0||(O&d)!==0)&&(m[R]=fa(O,a)):B<=a&&(i.expiredLanes|=O),y&=~O}if(a=Wt,l=It,l=ws(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===a&&(Bt===2||Bt===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Yt(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Qr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(d!==null&&Yt(d),pa(l)){case 2:case 8:l=ua;break;case 32:l=bs;break;case 268435456:l=Gr;break;default:l=bs}return d=mS.bind(null,i),l=en(l,d),i.callbackPriority=a,i.callbackNode=l,a}return d!==null&&d!==null&&Yt(d),i.callbackPriority=2,i.callbackNode=null,2}function mS(i,a){if(Fn!==0&&Fn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(_p()&&i.callbackNode!==l)return null;var d=It;return d=ws(i,i===Wt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(ZT(i,d,a),pS(i,un()),i.callbackNode!=null&&i.callbackNode===l?mS.bind(null,i):null)}function gS(i,a){if(_p())return null;ZT(i,a,!0)}function oD(){yD(function(){(Ft&6)!==0?en(qr,aD):hS()})}function Tv(){return al===0&&(al=Es()),al}function yS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Yl(""+i)}function vS(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function lD(i,a,l,d,m){if(a==="submit"&&l&&l.stateNode===m){var y=yS((m[ve]||null).action),R=d.submitter;R&&(a=(a=R[ve]||null)?yS(a.formAction):R.getAttribute("formAction"),a!==null&&(y=a,R=null));var O=new Wl("action","action",null,d,m);i.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(al!==0){var B=R?vS(m,R):new FormData(m);Hy(l,{pending:!0,data:B,method:m.method,action:y},null,B)}}else typeof y=="function"&&(O.preventDefault(),B=R?vS(m,R):new FormData(m),Hy(l,{pending:!0,data:B,method:m.method,action:y},y,B))},currentTarget:m}]})}}for(var Sv=0;Sv<ly.length;Sv++){var xv=ly[Sv],uD=xv.toLowerCase(),cD=xv[0].toUpperCase()+xv.slice(1);yi(uD,"on"+cD)}yi(Zw,"onAnimationEnd"),yi(Xw,"onAnimationIteration"),yi(Jw,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(AP,"onTransitionRun"),yi(CP,"onTransitionStart"),yi(IP,"onTransitionCancel"),yi(eE,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function _S(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var y=void 0;if(a)for(var R=d.length-1;0<=R;R--){var O=d[R],B=O.instance,ne=O.currentTarget;if(O=O.listener,B!==y&&m.isPropagationStopped())break e;y=O,m.currentTarget=ne;try{y(m)}catch(ce){lp(ce)}m.currentTarget=null,y=B}else for(R=0;R<d.length;R++){if(O=d[R],B=O.instance,ne=O.currentTarget,O=O.listener,B!==y&&m.isPropagationStopped())break e;y=O,m.currentTarget=ne;try{y(m)}catch(ce){lp(ce)}m.currentTarget=null,y=B}}}}function bt(i,a){var l=a[He];l===void 0&&(l=a[He]=new Set);var d=i+"__bubble";l.has(d)||(bS(a,i,2,!1),l.add(d))}function Rv(i,a,l){var d=0;a&&(d|=4),bS(l,i,d,a)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function Av(i){if(!i[Ep]){i[Ep]=!0,gt.forEach(function(l){l!=="selectionchange"&&(dD.has(l)||Rv(l,!1,i),Rv(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Ep]||(a[Ep]=!0,Rv("selectionchange",!1,a))}}function bS(i,a,l,d){switch($S(a)){case 2:var m=jD;break;case 8:m=UD;break;default:m=Fv}l=m.bind(null,a,l,i),m=void 0,!ei||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function Cv(i,a,l,d,m){var y=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var R=d.tag;if(R===3||R===4){var O=d.stateNode.containerInfo;if(O===m)break;if(R===4)for(R=d.return;R!==null;){var B=R.tag;if((B===3||B===4)&&R.stateNode.containerInfo===m)return;R=R.return}for(;O!==null;){if(R=Qe(O),R===null)return;if(B=R.tag,B===5||B===6||B===26||B===27){d=y=R;continue e}O=O.parentNode}}d=d.return}Sh(function(){var ne=y,ce=Jr(l),pe=[];e:{var ie=tE.get(i);if(ie!==void 0){var se=Wl,Je=i;switch(i){case"keypress":if(zi(l)===0)break e;case"keydown":case"keyup":se=nu;break;case"focusin":Je="focus",se=Jl;break;case"focusout":Je="blur",se=Jl;break;case"beforeblur":case"afterblur":se=Jl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ti;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=kh;break;case Zw:case Xw:case Jw:se=eu;break;case eE:se=Dh;break;case"scroll":case"scrollend":se=xh;break;case"wheel":se=ru;break;case"copy":case"cut":case"paste":se=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Xc;break;case"toggle":case"beforetoggle":se=Lh}var Ge=(a&4)!==0,Gt=!Ge&&(i==="scroll"||i==="scrollend"),W=Ge?ie!==null?ie+"Capture":null:ie;Ge=[];for(var Q=ne,ee;Q!==null;){var de=Q;if(ee=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||ee===null||W===null||(de=Uo(Q,W),de!=null&&Ge.push(Id(Q,de,ee))),Gt)break;Q=Q.return}0<Ge.length&&(ie=new se(ie,Je,null,l,ce),pe.push({event:ie,listeners:Ge}))}}if((a&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",ie&&l!==xs&&(Je=l.relatedTarget||l.fromElement)&&(Qe(Je)||Je[Ae]))break e;if((se||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,se?(Je=l.relatedTarget||l.toElement,se=ne,Je=Je?Qe(Je):null,Je!==null&&(Gt=o(Je),Ge=Je.tag,Je!==Gt||Ge!==5&&Ge!==27&&Ge!==6)&&(Je=null)):(se=null,Je=ne),se!==Je)){if(Ge=ti,de="onMouseLeave",W="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Ge=Xc,de="onPointerLeave",W="onPointerEnter",Q="pointer"),Gt=se==null?ie:Lt(se),ee=Je==null?ie:Lt(Je),ie=new Ge(de,Q+"leave",se,l,ce),ie.target=Gt,ie.relatedTarget=ee,de=null,Qe(ce)===ne&&(Ge=new Ge(W,Q+"enter",Je,l,ce),Ge.target=ee,Ge.relatedTarget=Gt,de=Ge),Gt=de,se&&Je)t:{for(Ge=se,W=Je,Q=0,ee=Ge;ee;ee=Cu(ee))Q++;for(ee=0,de=W;de;de=Cu(de))ee++;for(;0<Q-ee;)Ge=Cu(Ge),Q--;for(;0<ee-Q;)W=Cu(W),ee--;for(;Q--;){if(Ge===W||W!==null&&Ge===W.alternate)break t;Ge=Cu(Ge),W=Cu(W)}Ge=null}else Ge=null;se!==null&&wS(pe,ie,se,Ge,!1),Je!==null&&Gt!==null&&wS(pe,Gt,Je,Ge,!0)}}e:{if(ie=ne?Lt(ne):window,se=ie.nodeName&&ie.nodeName.toLowerCase(),se==="select"||se==="input"&&ie.type==="file")var Oe=zw;else if(En(ie))if(Fw)Oe=SP;else{Oe=EP;var yt=wP}else se=ie.nodeName,!se||se.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&qc(ne.elementType)&&(Oe=zw):Oe=TP;if(Oe&&(Oe=Oe(i,ne))){Os(pe,Oe,l,ce);break e}yt&&yt(i,ie,ne),i==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&ga(ie,"number",ie.value)}switch(yt=ne?Lt(ne):window,i){case"focusin":(En(yt)||yt.contentEditable==="true")&&(iu=yt,sy=ne,td=null);break;case"focusout":td=sy=iu=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,Yw(pe,l,ce);break;case"selectionchange":if(RP)break;case"keydown":case"keyup":Yw(pe,l,ce)}var Fe;if(Hi)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else At?oe(i,l)&&(Ye="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ye="onCompositionStart");Ye&&(T&&l.locale!=="ko"&&(At||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&At&&(Fe=Kc()):(Ui=ce,ya="value"in Ui?Ui.value:Ui.textContent,At=!0)),yt=Tp(ne,Ye),0<yt.length&&(Ye=new Wc(Ye,i,null,l,ce),pe.push({event:Ye,listeners:yt}),Fe?Ye.data=Fe:(Fe=Te(l),Fe!==null&&(Ye.data=Fe)))),(Fe=b?wn(i,l):Ct(i,l))&&(Ye=Tp(ne,"onBeforeInput"),0<Ye.length&&(yt=new Wc("onBeforeInput","beforeinput",null,l,ce),pe.push({event:yt,listeners:Ye}),yt.data=Fe)),lD(pe,i,ne,l,ce)}_S(pe,a)})}function Id(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Tp(i,a){for(var l=a+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Uo(i,l),m!=null&&d.unshift(Id(i,m,y)),m=Uo(i,a),m!=null&&d.push(Id(i,m,y))),i.tag===3)return d;i=i.return}return[]}function Cu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function wS(i,a,l,d,m){for(var y=a._reactName,R=[];l!==null&&l!==d;){var O=l,B=O.alternate,ne=O.stateNode;if(O=O.tag,B!==null&&B===d)break;O!==5&&O!==26&&O!==27||ne===null||(B=ne,m?(ne=Uo(l,y),ne!=null&&R.unshift(Id(l,ne,B))):m||(ne=Uo(l,y),ne!=null&&R.push(Id(l,ne,B)))),l=l.return}R.length!==0&&i.push({event:a,listeners:R})}var fD=/\r\n?/g,hD=/\u0000|\uFFFD/g;function ES(i){return(typeof i=="string"?i:""+i).replace(fD,`
`).replace(hD,"")}function TS(i,a){return a=ES(a),ES(i)===a}function Sp(){}function qt(i,a,l,d,m,y){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Xr(i,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Xr(i,""+d);break;case"className":ur(i,"class",d);break;case"tabIndex":ur(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(i,l,d);break;case"style":$c(i,d,y);break;case"data":if(a!=="object"){ur(i,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=Yl(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&qt(i,a,"name",m.name,m,null),qt(i,a,"formEncType",m.formEncType,m,null),qt(i,a,"formMethod",m.formMethod,m,null),qt(i,a,"formTarget",m.formTarget,m,null)):(qt(i,a,"encType",m.encType,m,null),qt(i,a,"method",m.method,m,null),qt(i,a,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=Yl(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=Sp);break;case"onScroll":d!=null&&bt("scroll",i);break;case"onScrollEnd":d!=null&&bt("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=Yl(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":bt("beforetoggle",i),bt("toggle",i),Qn(i,"popover",d);break;case"xlinkActuate":rt(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":rt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":rt(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":rt(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":rt(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":rt(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":rt(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":rt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":rt(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Qn(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xg.get(l)||l,Qn(i,l,d))}}function Iv(i,a,l,d,m,y){switch(l){case"style":$c(i,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof d=="string"?Xr(i,d):(typeof d=="number"||typeof d=="bigint")&&Xr(i,""+d);break;case"onScroll":d!=null&&bt("scroll",i);break;case"onScrollEnd":d!=null&&bt("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Sp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=i[ve]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,d,m);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):Qn(i,l,d)}}}function Bn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",i),bt("load",i);var d=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var R=l[y];if(R!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:qt(i,a,y,R,l,null)}}m&&qt(i,a,"srcSet",l.srcSet,l,null),d&&qt(i,a,"src",l.src,l,null);return;case"input":bt("invalid",i);var O=y=R=m=null,B=null,ne=null;for(d in l)if(l.hasOwnProperty(d)){var ce=l[d];if(ce!=null)switch(d){case"name":m=ce;break;case"type":R=ce;break;case"checked":B=ce;break;case"defaultChecked":ne=ce;break;case"value":y=ce;break;case"defaultValue":O=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:qt(i,a,d,ce,l,null)}}Lo(i,y,O,B,ne,R,m,!1),Ql(i);return;case"select":bt("invalid",i),d=R=y=null;for(m in l)if(l.hasOwnProperty(m)&&(O=l[m],O!=null))switch(m){case"value":y=O;break;case"defaultValue":R=O;break;case"multiple":d=O;default:qt(i,a,m,O,l,null)}a=y,l=R,i.multiple=!!d,a!=null?Ss(i,!!d,a,!1):l!=null&&Ss(i,!!d,l,!0);return;case"textarea":bt("invalid",i),y=m=d=null;for(R in l)if(l.hasOwnProperty(R)&&(O=l[R],O!=null))switch(R){case"value":d=O;break;case"defaultValue":m=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:qt(i,a,R,O,l,null)}Vo(i,d,m,y),Ql(i);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(d=l[B],d!=null))switch(B){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:qt(i,a,B,d,l,null)}return;case"dialog":bt("beforetoggle",i),bt("toggle",i),bt("cancel",i),bt("close",i);break;case"iframe":case"object":bt("load",i);break;case"video":case"audio":for(d=0;d<Cd.length;d++)bt(Cd[d],i);break;case"image":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"embed":case"source":case"link":bt("error",i),bt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(d=l[ne],d!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:qt(i,a,ne,d,l,null)}return;default:if(qc(a)){for(ce in l)l.hasOwnProperty(ce)&&(d=l[ce],d!==void 0&&Iv(i,a,ce,d,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(d=l[O],d!=null&&qt(i,a,O,d,l,null))}function pD(i,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,R=null,O=null,B=null,ne=null,ce=null;for(se in l){var pe=l[se];if(l.hasOwnProperty(se)&&pe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":B=pe;default:d.hasOwnProperty(se)||qt(i,a,se,null,d,pe)}}for(var ie in d){var se=d[ie];if(pe=l[ie],d.hasOwnProperty(ie)&&(se!=null||pe!=null))switch(ie){case"type":y=se;break;case"name":m=se;break;case"checked":ne=se;break;case"defaultChecked":ce=se;break;case"value":R=se;break;case"defaultValue":O=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,a));break;default:se!==pe&&qt(i,a,ie,se,d,pe)}}Cr(i,R,O,B,ne,ce,y,m);return;case"select":se=R=O=ie=null;for(y in l)if(B=l[y],l.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":se=B;default:d.hasOwnProperty(y)||qt(i,a,y,null,d,B)}for(m in d)if(y=d[m],B=l[m],d.hasOwnProperty(m)&&(y!=null||B!=null))switch(m){case"value":ie=y;break;case"defaultValue":O=y;break;case"multiple":R=y;default:y!==B&&qt(i,a,m,y,d,B)}a=O,l=R,d=se,ie!=null?Ss(i,!!l,ie,!1):!!d!=!!l&&(a!=null?Ss(i,!!l,a,!0):Ss(i,!!l,l?[]:"",!1));return;case"textarea":se=ie=null;for(O in l)if(m=l[O],l.hasOwnProperty(O)&&m!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:qt(i,a,O,null,d,m)}for(R in d)if(m=d[R],y=l[R],d.hasOwnProperty(R)&&(m!=null||y!=null))switch(R){case"value":ie=m;break;case"defaultValue":se=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&qt(i,a,R,m,d,y)}Ht(i,ie,se);return;case"option":for(var Je in l)if(ie=l[Je],l.hasOwnProperty(Je)&&ie!=null&&!d.hasOwnProperty(Je))switch(Je){case"selected":i.selected=!1;break;default:qt(i,a,Je,null,d,ie)}for(B in d)if(ie=d[B],se=l[B],d.hasOwnProperty(B)&&ie!==se&&(ie!=null||se!=null))switch(B){case"selected":i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:qt(i,a,B,ie,d,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in l)ie=l[Ge],l.hasOwnProperty(Ge)&&ie!=null&&!d.hasOwnProperty(Ge)&&qt(i,a,Ge,null,d,ie);for(ne in d)if(ie=d[ne],se=l[ne],d.hasOwnProperty(ne)&&ie!==se&&(ie!=null||se!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:qt(i,a,ne,ie,d,se)}return;default:if(qc(a)){for(var Gt in l)ie=l[Gt],l.hasOwnProperty(Gt)&&ie!==void 0&&!d.hasOwnProperty(Gt)&&Iv(i,a,Gt,void 0,d,ie);for(ce in d)ie=d[ce],se=l[ce],!d.hasOwnProperty(ce)||ie===se||ie===void 0&&se===void 0||Iv(i,a,ce,ie,d,se);return}}for(var W in l)ie=l[W],l.hasOwnProperty(W)&&ie!=null&&!d.hasOwnProperty(W)&&qt(i,a,W,null,d,ie);for(pe in d)ie=d[pe],se=l[pe],!d.hasOwnProperty(pe)||ie===se||ie==null&&se==null||qt(i,a,pe,ie,d,se)}var Ov=null,Nv=null;function xp(i){return i.nodeType===9?i:i.ownerDocument}function SS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xS(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function kv(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Pv=null;function mD(){var i=window.event;return i&&i.type==="popstate"?i===Pv?!1:(Pv=i,!0):(Pv=null,!1)}var RS=typeof setTimeout=="function"?setTimeout:void 0,gD=typeof clearTimeout=="function"?clearTimeout:void 0,AS=typeof Promise=="function"?Promise:void 0,yD=typeof queueMicrotask=="function"?queueMicrotask:typeof AS<"u"?function(i){return AS.resolve(null).then(i).catch(vD)}:RS;function vD(i){setTimeout(function(){throw i})}function Pa(i){return i==="head"}function CS(i,a){var l=a,d=0,m=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<d&&8>d){l=d;var R=i.ownerDocument;if(l&1&&Od(R.documentElement),l&2&&Od(R.body),l&4)for(l=R.head,Od(l),R=l.firstChild;R;){var O=R.nextSibling,B=R.nodeName;R[qe]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&R.rel.toLowerCase()==="stylesheet"||l.removeChild(R),R=O}}if(m===0){i.removeChild(y),jd(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:d=l.charCodeAt(0)-48;else d=0;l=y}while(l);jd(a)}function Dv(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Dv(l),Me(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function _D(i,a,l,d){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[qe])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=_i(i.nextSibling),i===null)break}return null}function bD(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=_i(i.nextSibling),i===null))return null;return i}function Mv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function wD(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function _i(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Lv=null;function IS(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function OS(i,a,l){switch(a=xp(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Od(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Me(i)}var li=new Map,NS=new Set;function Rp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Hs=ae.d;ae.d={f:ED,r:TD,D:SD,C:xD,L:RD,m:AD,X:ID,S:CD,M:OD};function ED(){var i=Hs.f(),a=yp();return i||a}function TD(i){var a=vt(i);a!==null&&a.tag===5&&a.type==="form"?ZE(a):Hs.r(i)}var Iu=typeof document>"u"?null:document;function kS(i,a,l){var d=Iu;if(d&&typeof a=="string"&&a){var m=mn(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),NS.has(m)||(NS.add(m),i={rel:i,crossOrigin:l,href:a},d.querySelector(m)===null&&(a=d.createElement("link"),Bn(a,"link",i),St(a),d.head.appendChild(a)))}}function SD(i){Hs.D(i),kS("dns-prefetch",i,null)}function xD(i,a){Hs.C(i,a),kS("preconnect",i,a)}function RD(i,a,l){Hs.L(i,a,l);var d=Iu;if(d&&i&&a){var m='link[rel="preload"][as="'+mn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+mn(l.imageSizes)+'"]')):m+='[href="'+mn(i)+'"]';var y=m;switch(a){case"style":y=Ou(i);break;case"script":y=Nu(i)}li.has(y)||(i=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),li.set(y,i),d.querySelector(m)!==null||a==="style"&&d.querySelector(Nd(y))||a==="script"&&d.querySelector(kd(y))||(a=d.createElement("link"),Bn(a,"link",i),St(a),d.head.appendChild(a)))}}function AD(i,a){Hs.m(i,a);var l=Iu;if(l&&i){var d=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+mn(d)+'"][href="'+mn(i)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Nu(i)}if(!li.has(y)&&(i=g({rel:"modulepreload",href:i},a),li.set(y,i),l.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(kd(y)))return}d=l.createElement("link"),Bn(d,"link",i),St(d),l.head.appendChild(d)}}}function CD(i,a,l){Hs.S(i,a,l);var d=Iu;if(d&&i){var m=kt(d).hoistableStyles,y=Ou(i);a=a||"default";var R=m.get(y);if(!R){var O={loading:0,preload:null};if(R=d.querySelector(Nd(y)))O.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},l),(l=li.get(y))&&Vv(i,l);var B=R=d.createElement("link");St(B),Bn(B,"link",i),B._p=new Promise(function(ne,ce){B.onload=ne,B.onerror=ce}),B.addEventListener("load",function(){O.loading|=1}),B.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Ap(R,a,d)}R={type:"stylesheet",instance:R,count:1,state:O},m.set(y,R)}}}function ID(i,a){Hs.X(i,a);var l=Iu;if(l&&i){var d=kt(l).hoistableScripts,m=Nu(i),y=d.get(m);y||(y=l.querySelector(kd(m)),y||(i=g({src:i,async:!0},a),(a=li.get(m))&&jv(i,a),y=l.createElement("script"),St(y),Bn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function OD(i,a){Hs.M(i,a);var l=Iu;if(l&&i){var d=kt(l).hoistableScripts,m=Nu(i),y=d.get(m);y||(y=l.querySelector(kd(m)),y||(i=g({src:i,async:!0,type:"module"},a),(a=li.get(m))&&jv(i,a),y=l.createElement("script"),St(y),Bn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function PS(i,a,l,d){var m=(m=xe.current)?Rp(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ou(l.href),l=kt(m).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ou(l.href);var y=kt(m).hoistableStyles,R=y.get(i);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,R),(y=m.querySelector(Nd(i)))&&!y._p&&(R.instance=y,R.state.loading=5),li.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},li.set(i,l),y||ND(m,i,l,R.state))),a&&d===null)throw Error(r(528,""));return R}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Nu(l),l=kt(m).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ou(i){return'href="'+mn(i)+'"'}function Nd(i){return'link[rel="stylesheet"]['+i+"]"}function DS(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function ND(i,a,l,d){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=i.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Bn(a,"link",l),St(a),i.head.appendChild(a))}function Nu(i){return'[src="'+mn(i)+'"]'}function kd(i){return"script[async]"+i}function MS(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=i.querySelector('style[data-href~="'+mn(l.href)+'"]');if(d)return a.instance=d,St(d),d;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),St(d),Bn(d,"style",m),Ap(d,l.precedence,i),a.instance=d;case"stylesheet":m=Ou(l.href);var y=i.querySelector(Nd(m));if(y)return a.state.loading|=4,a.instance=y,St(y),y;d=DS(l),(m=li.get(m))&&Vv(d,m),y=(i.ownerDocument||i).createElement("link"),St(y);var R=y;return R._p=new Promise(function(O,B){R.onload=O,R.onerror=B}),Bn(y,"link",d),a.state.loading|=4,Ap(y,l.precedence,i),a.instance=y;case"script":return y=Nu(l.src),(m=i.querySelector(kd(y)))?(a.instance=m,St(m),m):(d=l,(m=li.get(y))&&(d=g({},l),jv(d,m)),i=i.ownerDocument||i,m=i.createElement("script"),St(m),Bn(m,"link",d),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Ap(d,l.precedence,i));return a.instance}function Ap(i,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,R=0;R<d.length;R++){var O=d[R];if(O.dataset.precedence===a)y=O;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Vv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function jv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Cp=null;function LS(i,a,l){if(Cp===null){var d=new Map,m=Cp=new Map;m.set(l,d)}else m=Cp,d=m.get(l),d||(d=new Map,m.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var y=l[m];if(!(y[qe]||y[he]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(a)||"";R=i+R;var O=d.get(R);O?O.push(y):d.set(R,[y])}}return d}function VS(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function kD(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function jS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Pd=null;function PD(){}function DD(i,a,l){if(Pd===null)throw Error(r(475));var d=Pd;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Ou(l.href),y=i.querySelector(Nd(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=Ip.bind(d),i.then(d,d)),a.state.loading|=4,a.instance=y,St(y);return}y=i.ownerDocument||i,l=DS(l),(m=li.get(m))&&Vv(l,m),y=y.createElement("link"),St(y);var R=y;R._p=new Promise(function(O,B){R.onload=O,R.onerror=B}),Bn(y,"link",l),a.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=Ip.bind(d),i.addEventListener("load",a),i.addEventListener("error",a))}}function MD(){if(Pd===null)throw Error(r(475));var i=Pd;return i.stylesheets&&i.count===0&&Uv(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&Uv(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Ip(){if(this.count--,this.count===0){if(this.stylesheets)Uv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Op=null;function Uv(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Op=new Map,a.forEach(LD,i),Op=null,Ip.call(i))}function LD(i,a){if(!(a.state.loading&4)){var l=Op.get(i);if(l)var d=l.get(null);else{l=new Map,Op.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var R=m[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),d=R)}d&&l.set(null,d)}m=a.instance,R=m.getAttribute("data-precedence"),y=l.get(R)||d,y===d&&l.set(null,m),l.set(R,m),this.count++,d=Ip.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Dd={$$typeof:L,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function VD(i,a,l,d,m,y,R,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function US(i,a,l,d,m,y,R,O,B,ne,ce,pe){return i=new VD(i,a,l,R,O,B,ne,pe),a=1,y===!0&&(a|=24),y=Or(3,null,null,a),i.current=y,y.stateNode=i,a=by(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:d,isDehydrated:l,cache:a},Sy(y),i}function zS(i){return i?(i=lu,i):lu}function FS(i,a,l,d,m,y){m=zS(m),d.context===null?d.context=m:d.pendingContext=m,d=ba(a),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=wa(i,d,a),l!==null&&(Mr(l,i,a),cd(l,i,a))}function BS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function zv(i,a){BS(i,a),(i=i.alternate)&&BS(i,a)}function HS(i){if(i.tag===13){var a=ou(i,67108864);a!==null&&Mr(a,i,67108864),zv(i,67108864)}}var Np=!0;function jD(i,a,l,d){var m=K.T;K.T=null;var y=ae.p;try{ae.p=2,Fv(i,a,l,d)}finally{ae.p=y,K.T=m}}function UD(i,a,l,d){var m=K.T;K.T=null;var y=ae.p;try{ae.p=8,Fv(i,a,l,d)}finally{ae.p=y,K.T=m}}function Fv(i,a,l,d){if(Np){var m=Bv(d);if(m===null)Cv(i,a,d,kp,l),qS(i,d);else if(FD(m,i,a,l,d))d.stopPropagation();else if(qS(i,d),a&4&&-1<zD.indexOf(i)){for(;m!==null;){var y=vt(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=xr(y.pendingLanes);if(R!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;R;){var B=1<<31-hn(R);O.entanglements[1]|=B,R&=~B}Yi(y),(Ft&6)===0&&(mp=un()+500,Ad(0))}}break;case 13:O=ou(y,2),O!==null&&Mr(O,y,2),yp(),zv(y,2)}if(y=Bv(d),y===null&&Cv(i,a,d,kp,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else Cv(i,a,d,null,l)}}function Bv(i){return i=Jr(i),Hv(i)}var kp=null;function Hv(i){if(kp=null,i=Qe(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return kp=i,null}function $S(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Po()){case qr:return 2;case ua:return 8;case bs:case pi:return 32;case Gr:return 268435456;default:return 32}default:return 32}}var $v=!1,Da=null,Ma=null,La=null,Md=new Map,Ld=new Map,Va=[],zD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qS(i,a){switch(i){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":Md.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ld.delete(a.pointerId)}}function Vd(i,a,l,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},a!==null&&(a=vt(a),a!==null&&HS(a)),i):(i.eventSystemFlags|=d,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function FD(i,a,l,d,m){switch(a){case"focusin":return Da=Vd(Da,i,a,l,d,m),!0;case"dragenter":return Ma=Vd(Ma,i,a,l,d,m),!0;case"mouseover":return La=Vd(La,i,a,l,d,m),!0;case"pointerover":var y=m.pointerId;return Md.set(y,Vd(Md.get(y)||null,i,a,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,Ld.set(y,Vd(Ld.get(y)||null,i,a,l,d,m)),!0}return!1}function GS(i){var a=Qe(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,X(i.priority,function(){if(l.tag===13){var d=Dr();d=Mi(d);var m=ou(l,d);m!==null&&Mr(m,l,d),zv(l,d)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Bv(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);xs=d,l.target.dispatchEvent(d),xs=null}else return a=vt(l),a!==null&&HS(a),i.blockedOn=l,!1;a.shift()}return!0}function KS(i,a,l){Pp(i)&&l.delete(a)}function BD(){$v=!1,Da!==null&&Pp(Da)&&(Da=null),Ma!==null&&Pp(Ma)&&(Ma=null),La!==null&&Pp(La)&&(La=null),Md.forEach(KS),Ld.forEach(KS)}function Dp(i,a){i.blockedOn===a&&(i.blockedOn=null,$v||($v=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BD)))}var Mp=null;function QS(i){Mp!==i&&(Mp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mp===i&&(Mp=null);for(var a=0;a<i.length;a+=3){var l=i[a],d=i[a+1],m=i[a+2];if(typeof d!="function"){if(Hv(d||l)===null)continue;break}var y=vt(l);y!==null&&(i.splice(a,3),a-=3,Hy(y,{pending:!0,data:m,method:l.method,action:d},d,m))}}))}function jd(i){function a(B){return Dp(B,i)}Da!==null&&Dp(Da,i),Ma!==null&&Dp(Ma,i),La!==null&&Dp(La,i),Md.forEach(a),Ld.forEach(a);for(var l=0;l<Va.length;l++){var d=Va[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Va.length&&(l=Va[0],l.blockedOn===null);)GS(l),l.blockedOn===null&&Va.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var m=l[d],y=l[d+1],R=m[ve]||null;if(typeof y=="function")R||QS(l);else if(R){var O=null;if(y&&y.hasAttribute("formAction")){if(m=y,R=y[ve]||null)O=R.formAction;else if(Hv(m)!==null)continue}else O=R.action;typeof O=="function"?l[d+1]=O:(l.splice(d,3),d-=3),QS(l)}}}function qv(i){this._internalRoot=i}Lp.prototype.render=qv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,d=Dr();FS(l,d,i,a,null,null)},Lp.prototype.unmount=qv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;FS(i.current,2,null,i,null,null),yp(),a[Ae]=null}};function Lp(i){this._internalRoot=i}Lp.prototype.unstable_scheduleHydration=function(i){if(i){var a=G();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Va.length&&a!==0&&a<Va[l].priority;l++);Va.splice(l,0,i),l===0&&GS(i)}};var YS=e.version;if(YS!=="19.1.0")throw Error(r(527,YS,"19.1.0"));ae.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var HD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vp.isDisabled&&Vp.supportsFiber)try{Dt=Vp.inject(HD),ft=Vp}catch{}}return zd.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,d="",m=dT,y=fT,R=hT,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks)),a=US(i,1,!1,null,null,l,d,m,y,R,O,null),i[Ae]=a.current,Av(i),new qv(a)},zd.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var d=!1,m="",y=dT,R=fT,O=hT,B=null,ne=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(ne=l.formState)),a=US(i,1,!0,a,l??null,d,m,y,R,O,B,ne),a.context=zS(null),l=a.current,d=Dr(),d=Mi(d),m=ba(d),m.callback=null,wa(l,m,d),l=d,a.current.lanes=l,mi(a,l),Yi(a),i[Ae]=a.current,Av(i),new Lp(a)},zd.version="19.1.0",zd}var ax;function tM(){if(ax)return Yv.exports;ax=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yv.exports=eM(),Yv.exports}var nM=tM(),Fd={},ox;function rM(){if(ox)return Fd;ox=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.parse=u,Fd.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,w){const S=new o,A=_.length;if(A<2)return S;const C=(w==null?void 0:w.decode)||g;let k=0;do{const j=_.indexOf("=",k);if(j===-1)break;const L=_.indexOf(";",k),q=L===-1?A:L;if(j>q){k=_.lastIndexOf(";",j-1)+1;continue}const H=c(_,k,j),U=f(_,j,H),P=_.slice(H,U);if(S[P]===void 0){let I=c(_,j+1,q),N=f(_,q,I);const M=C(_.slice(I,N));S[P]=M}k=q+1}while(k<A);return S}function c(_,w,S){do{const A=_.charCodeAt(w);if(A!==32&&A!==9)return w}while(++w<S);return S}function f(_,w,S){for(;w>S;){const A=_.charCodeAt(--w);if(A!==32&&A!==9)return w+1}return S}function h(_,w,S){const A=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const C=A(w);if(!e.test(C))throw new TypeError(`argument val is invalid: ${w}`);let k=_+"="+C;if(!S)return k;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);k+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);k+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);k+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);k+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(k+="; HttpOnly"),S.secure&&(k+="; Secure"),S.partitioned&&(k+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return k}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return s.call(_)==="[object Date]"}return Fd}rM();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var OC=n=>{throw TypeError(n)},iM=(n,e,t)=>e.has(n)||OC("Cannot "+t),Jv=(n,e,t)=>(iM(n,e,"read from private field"),t?t.call(n):e.get(n)),sM=(n,e,t)=>e.has(n)?OC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),lx="popstate";function aM(n={}){function e(r,s){let{pathname:o,search:u,hash:c}=r.location;return pf("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:uo(s)}return lM(e,t,null,n)}function wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _n(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oM(){return Math.random().toString(36).substring(2,10)}function ux(n,e){return{usr:n.state,key:n.key,idx:e}}function pf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?So(e):e,state:t,key:e&&e.key||r||oM()}}function uo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function So(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function lM(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,c="POP",f=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function v(){c="POP";let C=g(),k=C==null?null:C-h;h=C,f&&f({action:c,location:A.location,delta:k})}function _(C,k){c="PUSH";let j=pf(A.location,C,k);h=g()+1;let L=ux(j,h),q=A.createHref(j);try{u.pushState(L,"",q)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(q)}o&&f&&f({action:c,location:A.location,delta:1})}function w(C,k){c="REPLACE";let j=pf(A.location,C,k);h=g();let L=ux(j,h),q=A.createHref(j);u.replaceState(L,"",q),o&&f&&f({action:c,location:A.location,delta:0})}function S(C){return NC(C)}let A={get action(){return c},get location(){return n(s,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(lx,v),f=C,()=>{s.removeEventListener(lx,v),f=null}},createHref(C){return e(s,C)},createURL:S,encodeLocation(C){let k=S(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:w,go(C){return u.go(C)}};return A}function NC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),wt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:uo(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var Qd,cx=class{constructor(n){if(sM(this,Qd,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Jv(this,Qd).has(n))return Jv(this,Qd).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Jv(this,Qd).set(n,e)}};Qd=new WeakMap;var uM=new Set(["lazy","caseSensitive","path","id","index","children"]);function cM(n){return uM.has(n)}var dM=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function fM(n){return dM.has(n)}function hM(n){return n.index===!0}function _m(n,e,t=[],r={}){return n.map((s,o)=>{let u=[...t,String(o)],c=typeof s.id=="string"?s.id:u.join("-");if(wt(s.index!==!0||!s.children,"Cannot specify children on an index route"),wt(!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),hM(s)){let f={...s,...e(s),id:c};return r[c]=f,f}else{let f={...s,...e(s),id:c,children:void 0};return r[c]=f,s.children&&(f.children=_m(s.children,e,u,r)),f}})}function $a(n,e,t="/"){return rm(n,e,t,!1)}function rm(n,e,t,r){let s=typeof e=="string"?So(e):e,o=fi(s.pathname||"/",t);if(o==null)return null;let u=kC(n);mM(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let h=RM(o);c=SM(u[f],h,r)}return c}function pM(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function kC(n,e=[],t=[],r=""){let s=(o,u,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(wt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=rs([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(wt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),kC(o.children,e,g,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:EM(h,o.index),routesMeta:g})};return n.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,u);else for(let f of PC(o.path))s(o,u,f)}),e}function PC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=PC(r.join("/")),c=[];return c.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&c.push(...u),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function mM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var gM=/^:[\w-]+$/,yM=3,vM=2,_M=1,bM=10,wM=-2,dx=n=>n==="*";function EM(n,e){let t=n.split("/"),r=t.length;return t.some(dx)&&(r+=wM),e&&(r+=vM),t.filter(s=>!dx(s)).reduce((s,o)=>s+(gM.test(o)?yM:o===""?_M:bM),r)}function TM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function SM(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=bm({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),_=f.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=bm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:rs([o,v.pathname]),pathnameBase:IM(rs([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=rs([o,v.pathnameBase]))}return u}function bm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=xM(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:v},_)=>{if(g==="*"){let S=c[_]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=c[_];return v&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:n}}function xM(n,e=!1,t=!0){_n(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function RM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _n(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function AM(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?So(n):n;return{pathname:t?t.startsWith("/")?t:CM(t,e):e,search:OM(r),hash:NM(s)}}function CM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function e_(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nb(n){let e=DC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function rb(n,e,t,r=!1){let s;typeof n=="string"?s=So(n):(s={...n},wt(!s.pathname||!s.pathname.includes("?"),e_("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),e_("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),e_("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}c=v>=0?e[v]:"/"}let f=AM(s,c),h=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var rs=n=>n.join("/").replace(/\/\/+/g,"/"),IM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,wm=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function mf(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var MC=["POST","PUT","PATCH","DELETE"],kM=new Set(MC),PM=["GET",...MC],DM=new Set(PM),MM=new Set([301,302,303,307,308]),LM=new Set([307,308]),t_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},VM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jM=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),LC="remix-router-transitions",VC=Symbol("ResetLoaderData");function UM(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";wt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],s=n.mapRouteProperties||jM,o={},u=_m(n.routes,s,void 0,o),c,f=n.basename||"/",h=n.dataStrategy||$M,g={unstable_middleware:!1,...n.future},v=null,_=new Set,w=null,S=null,A=null,C=n.hydrationData!=null,k=$a(u,n.history.location,f),j=!1,L=null,q;if(k==null&&!n.patchRoutesOnNavigation){let G=ci(404,{pathname:n.history.location.pathname}),{matches:X,route:te}=Tx(u);q=!0,k=X,L={[te.id]:G}}else if(k&&!n.hydrationData&&or(k,u,n.history.location.pathname).active&&(k=null),k)if(k.some(G=>G.route.lazy))q=!1;else if(!k.some(G=>G.route.loader))q=!0;else{let G=n.hydrationData?n.hydrationData.loaderData:null,X=n.hydrationData?n.hydrationData.errors:null;if(X){let te=k.findIndex(he=>X[he.route.id]!==void 0);q=k.slice(0,te+1).every(he=>!j_(he.route,G,X))}else q=k.every(te=>!j_(te.route,G,X))}else{q=!1,k=[];let G=or(null,u,n.history.location.pathname);G.active&&G.matches&&(j=!0,k=G.matches)}let H,U={historyAction:n.history.action,location:n.history.location,matches:k,initialized:q,navigation:t_,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||L,fetchers:new Map,blockers:new Map},P="POP",I=!1,N,M=!1,F=new Map,$=null,V=!1,_e=!1,Ee=new Set,K=new Map,ae=0,Z=-1,ue=new Map,z=new Set,re=new Map,fe=new Map,le=new Set,be=new Map,Le,xe=null;function we(){if(v=n.history.listen(({action:G,location:X,delta:te})=>{if(Le){Le(),Le=void 0;return}_n(be.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=fa({currentLocation:U.location,nextLocation:X,historyAction:G});if(he&&te!=null){let ve=new Promise(Ae=>{Le=Ae});n.history.go(te*-1),Qr(he,{state:"blocked",location:X,proceed(){Qr(he,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ve.then(()=>n.history.go(te))},reset(){let Ae=new Map(U.blockers);Ae.set(he,Bd),Ue({blockers:Ae})}});return}return Yt(G,X)}),t){t2(e,F);let G=()=>n2(e,F);e.addEventListener("pagehide",G),$=()=>e.removeEventListener("pagehide",G)}return U.initialized||Yt("POP",U.location,{initialHydration:!0}),H}function Ve(){v&&v(),$&&$(),_.clear(),N&&N.abort(),U.fetchers.forEach((G,X)=>hn(X)),U.blockers.forEach((G,X)=>ws(X))}function at(G){return _.add(G),()=>_.delete(G)}function Ue(G,X={}){U={...U,...G};let te=[],he=[];U.fetchers.forEach((ve,Ae)=>{ve.state==="idle"&&(le.has(Ae)?te.push(Ae):he.push(Ae))}),le.forEach(ve=>{!U.fetchers.has(ve)&&!K.has(ve)&&te.push(ve)}),[..._].forEach(ve=>ve(U,{deletedFetchers:te,viewTransitionOpts:X.viewTransitionOpts,flushSync:X.flushSync===!0})),te.forEach(ve=>hn(ve)),he.forEach(ve=>U.fetchers.delete(ve))}function We(G,X,{flushSync:te}={}){var ze,qe;let he=U.actionData!=null&&U.navigation.formMethod!=null&&Vr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((ze=G.state)==null?void 0:ze._isRedirect)!==!0,ve;X.actionData?Object.keys(X.actionData).length>0?ve=X.actionData:ve=null:he?ve=U.actionData:ve=null;let Ae=X.loaderData?wx(U.loaderData,X.loaderData,X.matches||[],X.errors):U.loaderData,He=U.blockers;He.size>0&&(He=new Map(He),He.forEach((Me,Qe)=>He.set(Qe,Bd)));let Ie=I===!0||U.navigation.formMethod!=null&&Vr(U.navigation.formMethod)&&((qe=G.state)==null?void 0:qe._isRedirect)!==!0;c&&(u=c,c=void 0),V||P==="POP"||(P==="PUSH"?n.history.push(G,G.state):P==="REPLACE"&&n.history.replace(G,G.state));let De;if(P==="POP"){let Me=F.get(U.location.pathname);Me&&Me.has(G.pathname)?De={currentLocation:U.location,nextLocation:G}:F.has(G.pathname)&&(De={currentLocation:G,nextLocation:U.location})}else if(M){let Me=F.get(U.location.pathname);Me?Me.add(G.pathname):(Me=new Set([G.pathname]),F.set(U.location.pathname,Me)),De={currentLocation:U.location,nextLocation:G}}Ue({...X,actionData:ve,loaderData:Ae,historyAction:P,location:G,initialized:!0,navigation:t_,revalidation:"idle",restoreScrollPosition:ha(G,X.matches||U.matches),preventScrollReset:Ie,blockers:He},{viewTransitionOpts:De,flushSync:te===!0}),P="POP",I=!1,M=!1,V=!1,_e=!1,xe==null||xe.resolve(),xe=null}async function ot(G,X){if(typeof G=="number"){n.history.go(G);return}let te=V_(U.location,U.matches,f,G,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:he,submission:ve,error:Ae}=fx(!1,te,X),He=U.location,Ie=pf(U.location,he,X&&X.state);Ie={...Ie,...n.history.encodeLocation(Ie)};let De=X&&X.replace!=null?X.replace:void 0,ze="PUSH";De===!0?ze="REPLACE":De===!1||ve!=null&&Vr(ve.formMethod)&&ve.formAction===U.location.pathname+U.location.search&&(ze="REPLACE");let qe=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Me=(X&&X.flushSync)===!0,Qe=fa({currentLocation:He,nextLocation:Ie,historyAction:ze});if(Qe){Qr(Qe,{state:"blocked",location:Ie,proceed(){Qr(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),ot(G,X)},reset(){let vt=new Map(U.blockers);vt.set(Qe,Bd),Ue({blockers:vt})}});return}await Yt(ze,Ie,{submission:ve,pendingError:Ae,preventScrollReset:qe,replace:X&&X.replace,enableViewTransition:X&&X.viewTransition,flushSync:Me})}function en(){xe||(xe=r2()),da(),Ue({revalidation:"loading"});let G=xe.promise;return U.navigation.state==="submitting"?G:U.navigation.state==="idle"?(Yt(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),G):(Yt(P||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:M===!0}),G)}async function Yt(G,X,te){N&&N.abort(),N=null,P=G,V=(te&&te.startUninterruptedRevalidation)===!0,mi(U.location,U.matches),I=(te&&te.preventScrollReset)===!0,M=(te&&te.enableViewTransition)===!0;let he=c||u,ve=te&&te.overrideNavigation,Ae=te!=null&&te.initialHydration&&U.matches&&U.matches.length>0&&!j?U.matches:$a(he,X,f),He=(te&&te.flushSync)===!0;if(Ae&&U.initialized&&!_e&&WM(U.location,X)&&!(te&&te.submission&&Vr(te.submission.formMethod))){We(X,{matches:Ae},{flushSync:He});return}let Ie=or(Ae,he,X.pathname);if(Ie.active&&Ie.matches&&(Ae=Ie.matches),!Ae){let{error:kt,notFoundMatches:St,route:gt}=Es(X.pathname);We(X,{matches:St,loaderData:{},errors:{[gt.id]:kt}},{flushSync:He});return}N=new AbortController;let De=Uu(n.history,X,N.signal,te&&te.submission),ze=new cx(n.unstable_getContext?await n.unstable_getContext():void 0),qe;if(te&&te.pendingError)qe=[ul(Ae).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&Vr(te.submission.formMethod)){let kt=await Sr(De,X,te.submission,Ae,ze,Ie.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:He});if(kt.shortCircuited)return;if(kt.pendingActionResult){let[St,gt]=kt.pendingActionResult;if(Lr(gt)&&mf(gt.error)&&gt.error.status===404){N=null,We(X,{matches:kt.matches,loaderData:{},errors:{[St]:gt.error}});return}}Ae=kt.matches||Ae,qe=kt.pendingActionResult,ve=n_(X,te.submission),He=!1,Ie.active=!1,De=Uu(n.history,De.url,De.signal)}let{shortCircuited:Me,matches:Qe,loaderData:vt,errors:Lt}=await $r(De,X,Ae,ze,Ie.active,ve,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,He,qe);Me||(N=null,We(X,{matches:Qe||Ae,...Ex(qe),loaderData:vt,errors:Lt}))}async function Sr(G,X,te,he,ve,Ae,He,Ie={}){da();let De=JM(X,te);if(Ue({navigation:De},{flushSync:Ie.flushSync===!0}),Ae){let Me=await Di(he,X.pathname,G.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){let Qe=ul(Me.partialMatches).route.id;return{matches:Me.partialMatches,pendingActionResult:[Qe,{type:"error",error:Me.error}]}}else if(Me.matches)he=Me.matches;else{let{notFoundMatches:Qe,error:vt,route:Lt}=Es(X.pathname);return{matches:Qe,pendingActionResult:[Lt.id,{type:"error",error:vt}]}}}let ze,qe=Yd(he,X);if(!qe.route.action&&!qe.route.lazy)ze={type:"error",error:ci(405,{method:G.method,pathname:X.pathname,routeId:qe.route.id})};else{let Me=Gu(s,o,G,he,qe,He?[]:r,ve),Qe=await Gr(G,Me,ve,null);if(ze=Qe[qe.route.id],!ze){for(let vt of he)if(Qe[vt.route.id]){ze=Qe[vt.route.id];break}}if(G.signal.aborted)return{shortCircuited:!0}}if(cl(ze)){let Me;return Ie&&Ie.replace!=null?Me=Ie.replace:Me=vx(ze.response.headers.get("Location"),new URL(G.url),f)===U.location.pathname+U.location.search,await pi(G,ze,!0,{submission:te,replace:Me}),{shortCircuited:!0}}if(Lr(ze)){let Me=ul(he,qe.route.id);return(Ie&&Ie.replace)!==!0&&(P="PUSH"),{matches:he,pendingActionResult:[Me.route.id,ze,qe.route.id]}}return{matches:he,pendingActionResult:[qe.route.id,ze]}}async function $r(G,X,te,he,ve,Ae,He,Ie,De,ze,qe,Me){let Qe=Ae||n_(X,He),vt=He||Ie||xx(Qe),Lt=!V&&!ze;if(ve){if(Lt){let pn=un(Me);Ue({navigation:Qe,...pn!==void 0?{actionData:pn}:{}},{flushSync:qe})}let rt=await Di(te,X.pathname,G.signal);if(rt.type==="aborted")return{shortCircuited:!0};if(rt.type==="error"){let pn=ul(rt.partialMatches).route.id;return{matches:rt.partialMatches,loaderData:{},errors:{[pn]:rt.error}}}else if(rt.matches)te=rt.matches;else{let{error:pn,notFoundMatches:Ar,route:gr}=Es(X.pathname);return{matches:Ar,loaderData:{},errors:{[gr.id]:pn}}}}let kt=c||u,{dsMatches:St,revalidatingFetchers:gt}=hx(G,he,s,o,n.history,U,te,vt,X,ze?[]:r,ze===!0,_e,Ee,le,re,z,kt,f,n.patchRoutesOnNavigation!=null,Me);if(Z=++ae,!n.dataStrategy&&!St.some(rt=>rt.shouldLoad)&&gt.length===0){let rt=ki();return We(X,{matches:te,loaderData:{},errors:Me&&Lr(Me[1])?{[Me[0]]:Me[1].error}:null,...Ex(Me),...rt?{fetchers:new Map(U.fetchers)}:{}},{flushSync:qe}),{shortCircuited:!0}}if(Lt){let rt={};if(!ve){rt.navigation=Qe;let pn=un(Me);pn!==void 0&&(rt.actionData=pn)}gt.length>0&&(rt.fetchers=Po(gt)),Ue(rt,{flushSync:qe})}gt.forEach(rt=>{Kr(rt.key),rt.controller&&K.set(rt.key,rt.controller)});let Wr=()=>gt.forEach(rt=>Kr(rt.key));N&&N.signal.addEventListener("abort",Wr);let{loaderResults:bn,fetcherResults:lr}=await ca(St,gt,G,he);if(G.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Wr),gt.forEach(rt=>K.delete(rt.key));let Vn=Up(bn);if(Vn)return await pi(G,Vn.result,!0,{replace:De}),{shortCircuited:!0};if(Vn=Up(lr),Vn)return z.add(Vn.key),await pi(G,Vn.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:Li,errors:Rr}=bx(U,te,bn,Me,gt,lr);ze&&U.errors&&(Rr={...U.errors,...Rr});let ma=ki(),Qn=Pi(Z),ur=ma||Qn||gt.length>0;return{matches:te,loaderData:Li,errors:Rr,...ur?{fetchers:new Map(U.fetchers)}:{}}}function un(G){if(G&&!Lr(G[1]))return{[G[0]]:G[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Po(G){return G.forEach(X=>{let te=U.fetchers.get(X.key),he=Hd(void 0,te?te.data:void 0);U.fetchers.set(X.key,he)}),new Map(U.fetchers)}async function qr(G,X,te,he){Kr(G);let ve=(he&&he.flushSync)===!0,Ae=c||u,He=V_(U.location,U.matches,f,te,X,he==null?void 0:he.relative),Ie=$a(Ae,He,f),De=or(Ie,Ae,He);if(De.active&&De.matches&&(Ie=De.matches),!Ie){ft(G,X,ci(404,{pathname:He}),{flushSync:ve});return}let{path:ze,submission:qe,error:Me}=fx(!0,He,he);if(Me){ft(G,X,Me,{flushSync:ve});return}let Qe=Yd(Ie,ze),vt=new cx(n.unstable_getContext?await n.unstable_getContext():void 0),Lt=(he&&he.preventScrollReset)===!0;if(qe&&Vr(qe.formMethod)){await ua(G,X,ze,Qe,Ie,vt,De.active,ve,Lt,qe);return}re.set(G,{routeId:X,path:ze}),await bs(G,X,ze,Qe,Ie,vt,De.active,ve,Lt,qe)}async function ua(G,X,te,he,ve,Ae,He,Ie,De,ze){da(),re.delete(G);function qe(Kt){if(!Kt.route.action&&!Kt.route.lazy){let Zr=ci(405,{method:ze.formMethod,pathname:te,routeId:X});return ft(G,X,Zr,{flushSync:Ie}),!0}return!1}if(!He&&qe(he))return;let Me=U.fetchers.get(G);Dt(G,e2(ze,Me),{flushSync:Ie});let Qe=new AbortController,vt=Uu(n.history,te,Qe.signal,ze);if(He){let Kt=await Di(ve,te,vt.signal,G);if(Kt.type==="aborted")return;if(Kt.type==="error"){ft(G,X,Kt.error,{flushSync:Ie});return}else if(Kt.matches){if(ve=Kt.matches,he=Yd(ve,te),qe(he))return}else{ft(G,X,ci(404,{pathname:te}),{flushSync:Ie});return}}K.set(G,Qe);let Lt=ae,kt=Gu(s,o,vt,ve,he,r,Ae),gt=(await Gr(vt,kt,Ae,G))[he.route.id];if(vt.signal.aborted){K.get(G)===Qe&&K.delete(G);return}if(le.has(G)){if(cl(gt)||Lr(gt)){Dt(G,Fa(void 0));return}}else{if(cl(gt))if(K.delete(G),Z>Lt){Dt(G,Fa(void 0));return}else return z.add(G),Dt(G,Hd(ze)),pi(vt,gt,!1,{fetcherSubmission:ze,preventScrollReset:De});if(Lr(gt)){ft(G,X,gt.error);return}}let Wr=U.navigation.location||U.location,bn=Uu(n.history,Wr,Qe.signal),lr=c||u,Vn=U.navigation.state!=="idle"?$a(lr,U.navigation.location,f):U.matches;wt(Vn,"Didn't find any matches after fetcher action");let Li=++ae;ue.set(G,Li);let Rr=Hd(ze,gt.data);U.fetchers.set(G,Rr);let{dsMatches:ma,revalidatingFetchers:Qn}=hx(bn,Ae,s,o,n.history,U,Vn,ze,Wr,r,!1,_e,Ee,le,re,z,lr,f,n.patchRoutesOnNavigation!=null,[he.route.id,gt]);Qn.filter(Kt=>Kt.key!==G).forEach(Kt=>{let Zr=Kt.key,Ts=U.fetchers.get(Zr),jn=Hd(void 0,Ts?Ts.data:void 0);U.fetchers.set(Zr,jn),Kr(Zr),Kt.controller&&K.set(Zr,Kt.controller)}),Ue({fetchers:new Map(U.fetchers)});let ur=()=>Qn.forEach(Kt=>Kr(Kt.key));Qe.signal.addEventListener("abort",ur);let{loaderResults:rt,fetcherResults:pn}=await ca(ma,Qn,bn,Ae);if(Qe.signal.aborted)return;if(Qe.signal.removeEventListener("abort",ur),ue.delete(G),K.delete(G),Qn.forEach(Kt=>K.delete(Kt.key)),U.fetchers.has(G)){let Kt=Fa(gt.data);U.fetchers.set(G,Kt)}let Ar=Up(rt);if(Ar)return pi(bn,Ar.result,!1,{preventScrollReset:De});if(Ar=Up(pn),Ar)return z.add(Ar.key),pi(bn,Ar.result,!1,{preventScrollReset:De});let{loaderData:gr,errors:Vi}=bx(U,Vn,rt,void 0,Qn,pn);Pi(Li),U.navigation.state==="loading"&&Li>Z?(wt(P,"Expected pending action"),N&&N.abort(),We(U.navigation.location,{matches:Vn,loaderData:gr,errors:Vi,fetchers:new Map(U.fetchers)})):(Ue({errors:Vi,loaderData:wx(U.loaderData,gr,Vn,Vi),fetchers:new Map(U.fetchers)}),_e=!1)}async function bs(G,X,te,he,ve,Ae,He,Ie,De,ze){let qe=U.fetchers.get(G);Dt(G,Hd(ze,qe?qe.data:void 0),{flushSync:Ie});let Me=new AbortController,Qe=Uu(n.history,te,Me.signal);if(He){let gt=await Di(ve,te,Qe.signal,G);if(gt.type==="aborted")return;if(gt.type==="error"){ft(G,X,gt.error,{flushSync:Ie});return}else if(gt.matches)ve=gt.matches,he=Yd(ve,te);else{ft(G,X,ci(404,{pathname:te}),{flushSync:Ie});return}}K.set(G,Me);let vt=ae,Lt=Gu(s,o,Qe,ve,he,r,Ae),St=(await Gr(Qe,Lt,Ae,G))[he.route.id];if(K.get(G)===Me&&K.delete(G),!Qe.signal.aborted){if(le.has(G)){Dt(G,Fa(void 0));return}if(cl(St))if(Z>vt){Dt(G,Fa(void 0));return}else{z.add(G),await pi(Qe,St,!1,{preventScrollReset:De});return}if(Lr(St)){ft(G,X,St.error);return}Dt(G,Fa(St.data))}}async function pi(G,X,te,{submission:he,fetcherSubmission:ve,preventScrollReset:Ae,replace:He}={}){X.response.headers.has("X-Remix-Revalidate")&&(_e=!0);let Ie=X.response.headers.get("Location");wt(Ie,"Expected a Location header on the redirect Response"),Ie=vx(Ie,new URL(G.url),f);let De=pf(U.location,Ie,{_isRedirect:!0});if(t){let Lt=!1;if(X.response.headers.has("X-Remix-Reload-Document"))Lt=!0;else if(ib.test(Ie)){const kt=NC(Ie,!0);Lt=kt.origin!==e.location.origin||fi(kt.pathname,f)==null}if(Lt){He?e.location.replace(Ie):e.location.assign(Ie);return}}N=null;let ze=He===!0||X.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:qe,formAction:Me,formEncType:Qe}=U.navigation;!he&&!ve&&qe&&Me&&Qe&&(he=xx(U.navigation));let vt=he||ve;if(LM.has(X.response.status)&&vt&&Vr(vt.formMethod))await Yt(ze,De,{submission:{...vt,formAction:Ie},preventScrollReset:Ae||I,enableViewTransition:te?M:void 0});else{let Lt=n_(De,he);await Yt(ze,De,{overrideNavigation:Lt,fetcherSubmission:ve,preventScrollReset:Ae||I,enableViewTransition:te?M:void 0})}}async function Gr(G,X,te,he){let ve,Ae={};try{ve=await qM(h,G,X,he,te,!1)}catch(He){return X.filter(Ie=>Ie.shouldLoad).forEach(Ie=>{Ae[Ie.route.id]={type:"error",error:He}}),Ae}if(G.signal.aborted)return Ae;for(let[He,Ie]of Object.entries(ve))if(ZM(Ie)){let De=Ie.result;Ae[He]={type:"redirect",response:QM(De,G,He,X,f)}}else Ae[He]=await KM(Ie);return Ae}async function ca(G,X,te,he){let ve=Gr(te,G,he,null),Ae=Promise.all(X.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let qe=(await Gr(De.request,De.matches,he,De.key))[De.match.route.id];return{[De.key]:qe}}else return Promise.resolve({[De.key]:{type:"error",error:ci(404,{pathname:De.path})}})})),He=await ve,Ie=(await Ae).reduce((De,ze)=>Object.assign(De,ze),{});return{loaderResults:He,fetcherResults:Ie}}function da(){_e=!0,re.forEach((G,X)=>{K.has(X)&&Ee.add(X),Kr(X)})}function Dt(G,X,te={}){U.fetchers.set(G,X),Ue({fetchers:new Map(U.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function ft(G,X,te,he={}){let ve=ul(U.matches,X);hn(G),Ue({errors:{[ve.route.id]:te},fetchers:new Map(U.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function Kn(G){return fe.set(G,(fe.get(G)||0)+1),le.has(G)&&le.delete(G),U.fetchers.get(G)||VM}function hn(G){let X=U.fetchers.get(G);K.has(G)&&!(X&&X.state==="loading"&&ue.has(G))&&Kr(G),re.delete(G),ue.delete(G),z.delete(G),le.delete(G),Ee.delete(G),U.fetchers.delete(G)}function Kl(G){let X=(fe.get(G)||0)-1;X<=0?(fe.delete(G),le.add(G)):fe.set(G,X),Ue({fetchers:new Map(U.fetchers)})}function Kr(G){let X=K.get(G);X&&(X.abort(),K.delete(G))}function Ni(G){for(let X of G){let te=Kn(X),he=Fa(te.data);U.fetchers.set(X,he)}}function ki(){let G=[],X=!1;for(let te of z){let he=U.fetchers.get(te);wt(he,`Expected fetcher: ${te}`),he.state==="loading"&&(z.delete(te),G.push(te),X=!0)}return Ni(G),X}function Pi(G){let X=[];for(let[te,he]of ue)if(he<G){let ve=U.fetchers.get(te);wt(ve,`Expected fetcher: ${te}`),ve.state==="loading"&&(Kr(te),ue.delete(te),X.push(te))}return Ni(X),X.length>0}function xr(G,X){let te=U.blockers.get(G)||Bd;return be.get(G)!==X&&be.set(G,X),te}function ws(G){U.blockers.delete(G),be.delete(G)}function Qr(G,X){let te=U.blockers.get(G)||Bd;wt(te.state==="unblocked"&&X.state==="blocked"||te.state==="blocked"&&X.state==="blocked"||te.state==="blocked"&&X.state==="proceeding"||te.state==="blocked"&&X.state==="unblocked"||te.state==="proceeding"&&X.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${X.state}`);let he=new Map(U.blockers);he.set(G,X),Ue({blockers:he})}function fa({currentLocation:G,nextLocation:X,historyAction:te}){if(be.size===0)return;be.size>1&&_n(!1,"A router only supports one blocker at a time");let he=Array.from(be.entries()),[ve,Ae]=he[he.length-1],He=U.blockers.get(ve);if(!(He&&He.state==="proceeding")&&Ae({currentLocation:G,nextLocation:X,historyAction:te}))return ve}function Es(G){let X=ci(404,{pathname:G}),te=c||u,{matches:he,route:ve}=Tx(te);return{notFoundMatches:he,route:ve,error:X}}function Do(G,X,te){if(w=G,A=X,S=te||null,!C&&U.navigation===t_){C=!0;let he=ha(U.location,U.matches);he!=null&&Ue({restoreScrollPosition:he})}return()=>{w=null,A=null,S=null}}function Yr(G,X){return S&&S(G,X.map(he=>pM(he,U.loaderData)))||G.key}function mi(G,X){if(w&&A){let te=Yr(G,X);w[te]=A()}}function ha(G,X){if(w){let te=Yr(G,X),he=w[te];if(typeof he=="number")return he}return null}function or(G,X,te){if(n.patchRoutesOnNavigation)if(G){if(Object.keys(G[0].params).length>0)return{active:!0,matches:rm(X,te,f,!0)}}else return{active:!0,matches:rm(X,te,f,!0)||[]};return{active:!1,matches:null}}async function Di(G,X,te,he){if(!n.patchRoutesOnNavigation)return{type:"success",matches:G};let ve=G;for(;;){let Ae=c==null,He=c||u,Ie=o;try{await n.patchRoutesOnNavigation({signal:te,path:X,matches:ve,fetcherKey:he,patch:(qe,Me)=>{te.aborted||px(qe,Me,He,Ie,s)}})}catch(qe){return{type:"error",error:qe,partialMatches:ve}}finally{Ae&&!te.aborted&&(u=[...u])}if(te.aborted)return{type:"aborted"};let De=$a(He,X,f);if(De)return{type:"success",matches:De};let ze=rm(He,X,f,!0);if(!ze||ve.length===ze.length&&ve.every((qe,Me)=>qe.route.id===ze[Me].route.id))return{type:"success",matches:null};ve=ze}}function Mi(G){o={},c=_m(G,s,void 0,o)}function pa(G,X){let te=c==null;px(G,X,c||u,o,s),te&&(u=[...u],Ue({}))}return H={get basename(){return f},get future(){return g},get state(){return U},get routes(){return u},get window(){return e},initialize:we,subscribe:at,enableScrollRestoration:Do,navigate:ot,fetch:qr,revalidate:en,createHref:G=>n.history.createHref(G),encodeLocation:G=>n.history.encodeLocation(G),getFetcher:Kn,deleteFetcher:Kl,dispose:Ve,getBlocker:xr,deleteBlocker:ws,patchRoutes:pa,_internalFetchControllers:K,_internalSetRoutes:Mi},H}function zM(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function V_(n,e,t,r,s,o){let u,c;if(s){u=[];for(let h of e)if(u.push(h),h.route.id===s){c=h;break}}else u=e,c=e[e.length-1];let f=rb(r||".",nb(u),fi(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&c){let h=sb(f.search);if(c.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let g=new URLSearchParams(f.search),v=g.getAll("index");g.delete("index"),v.filter(w=>w).forEach(w=>g.append("index",w));let _=g.toString();f.search=_?`?${_}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:rs([t,f.pathname])),uo(f)}function fx(n,e,t){if(!t||!zM(t))return{path:e};if(t.formMethod&&!XM(t.formMethod))return{path:e,error:ci(405,{method:t.formMethod})};let r=()=>({path:e,error:ci(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=HC(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Vr(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((_,[w,S])=>`${_}${w}=${S}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!Vr(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}wt(typeof FormData=="function","FormData is not available in this environment");let c,f;if(t.formData)c=z_(t.formData),f=t.formData;else if(t.body instanceof FormData)c=z_(t.body),f=t.body;else if(t.body instanceof URLSearchParams)c=t.body,f=_x(c);else if(t.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(t.body),f=_x(c)}catch{return r()}let h={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vr(h.formMethod))return{path:e,submission:h};let g=So(e);return n&&g.search&&sb(g.search)&&c.append("index",""),g.search=`?${c}`,{path:uo(g),submission:h}}function hx(n,e,t,r,s,o,u,c,f,h,g,v,_,w,S,A,C,k,j,L){var V;let q=L?Lr(L[1])?L[1].error:L[1].data:void 0,H=s.createURL(o.location),U=s.createURL(f),P;if(g&&o.errors){let _e=Object.keys(o.errors)[0];P=u.findIndex(Ee=>Ee.route.id===_e)}else if(L&&Lr(L[1])){let _e=L[0];P=u.findIndex(Ee=>Ee.route.id===_e)-1}let I=L?L[1].statusCode:void 0,N=I&&I>=400,M={currentUrl:H,currentParams:((V=o.matches[0])==null?void 0:V.params)||{},nextUrl:U,nextParams:u[0].params,...c,actionResult:q,actionStatus:I},F=u.map((_e,Ee)=>{let{route:K}=_e,ae=null;if(P!=null&&Ee>P?ae=!1:K.lazy?ae=!0:K.loader==null?ae=!1:g?ae=j_(K,o.loaderData,o.errors):FM(o.loaderData,o.matches[Ee],_e)&&(ae=!0),ae!==null)return U_(t,r,n,_e,h,e,ae);let Z=N?!1:v||H.pathname+H.search===U.pathname+U.search||H.search!==U.search||BM(o.matches[Ee],_e),ue={...M,defaultShouldRevalidate:Z},z=Em(_e,ue);return U_(t,r,n,_e,h,e,z,ue)}),$=[];return S.forEach((_e,Ee)=>{if(g||!u.some(le=>le.route.id===_e.routeId)||w.has(Ee))return;let K=o.fetchers.get(Ee),ae=K&&K.state!=="idle"&&K.data===void 0,Z=$a(C,_e.path,k);if(!Z){if(j&&ae)return;$.push({key:Ee,routeId:_e.routeId,path:_e.path,matches:null,match:null,request:null,controller:null});return}if(A.has(Ee))return;let ue=Yd(Z,_e.path),z=new AbortController,re=Uu(s,_e.path,z.signal),fe=null;if(_.has(Ee))_.delete(Ee),fe=Gu(t,r,re,Z,ue,h,e);else if(ae)v&&(fe=Gu(t,r,re,Z,ue,h,e));else{let le={...M,defaultShouldRevalidate:N?!1:v};Em(ue,le)&&(fe=Gu(t,r,re,Z,ue,h,e,le))}fe&&$.push({key:Ee,routeId:_e.routeId,path:_e.path,matches:fe,match:ue,request:re,controller:z})}),{dsMatches:F,revalidatingFetchers:$}}function j_(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function FM(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function BM(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Em(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function px(n,e,t,r,s){let o;if(n){let f=r[n];wt(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let u=e.filter(f=>!o.some(h=>jC(f,h))),c=_m(u,s,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...c)}function jC(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(o=>jC(t,o))}):!1}var mx=new WeakMap,UC=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let s=t[e.id];if(wt(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[n];if(!o)return;let u=mx.get(s);u||(u={},mx.set(s,u));let c=u[n];if(c)return c;let f=(async()=>{let h=cM(n),v=s[n]!==void 0&&n!=="hasErrorBoundary";if(h)_n(!h,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(v)_n(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let _=await o();_!=null&&(Object.assign(s,{[n]:_}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(_=>_===void 0)&&(s.lazy=void 0))})();return u[n]=f,f},gx=new WeakMap;function HM(n,e,t,r,s){let o=t[n.id];if(wt(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let g=gx.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let v=(async()=>{wt(typeof n.lazy=="function","No lazy route function found");let _=await n.lazy(),w={};for(let S in _){let A=_[S];if(A===void 0)continue;let C=fM(S),j=o[S]!==void 0&&S!=="hasErrorBoundary";C?_n(!C,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?_n(!j,`Route "${o.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):w[S]=A}Object.assign(o,w),Object.assign(o,{...r(o),lazy:void 0})})();return gx.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(n.lazy),c=[],f;for(let g of u){if(s&&s.includes(g))continue;let v=UC({key:g,route:n,manifest:t,mapRouteProperties:r});v&&(c.push(v),g===e&&(f=v))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function yx(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{t[e[o].route.id]=s}),t}async function $M(n){return n.matches.some(e=>e.route.unstable_middleware)?zC(n,!1,()=>yx(n),(e,t)=>({[t]:{type:"error",result:e}})):yx(n)}async function zC(n,e,t,r){let{matches:s,request:o,params:u,context:c}=n,f={handlerResult:void 0};try{let h=s.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(_=>[v.route.id,_]):[]),g=await FC({request:o,params:u,context:c},h,e,f,t);return e?g:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let g=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,g):g}}async function FC(n,e,t,r,s,o=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let c=e[o];if(!c)return r.handlerResult=await s(),r.handlerResult;let[f,h]=c,g=!1,v,_=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await FC(n,e,t,r,s,o+1)};try{let w=await h({request:n.request,params:n.params,context:n.context},_);return g?w===void 0?v:w:_()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:f,error:w}):r.middlewareError={routeId:f,error:w},w}}function BC(n,e,t,r,s){let o=UC({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=HM(r.route,Vr(t.method)?"action":"loader",e,n,s);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function U_(n,e,t,r,s,o,u,c=null){let f=!1,h=BC(n,e,t,r,s);return{...r,_lazyPromises:h,shouldLoad:u,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(g){return f=!0,c?typeof g=="boolean"?Em(r,{...c,defaultShouldRevalidate:g}):Em(r,c):u},resolve(g){return f||u||g&&t.method==="GET"&&(r.route.lazy||r.route.loader)?GM({request:t,match:r,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Gu(n,e,t,r,s,o,u,c=null){return r.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:BC(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:U_(n,e,t,f,o,u,!0,c))}async function qM(n,e,t,r,s,o){t.some(h=>{var g;return(g=h._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(t.map(h=>{var g;return(g=h._lazyPromises)==null?void 0:g.middleware}));let u={request:e,params:t[0].params,context:s,matches:t},f=await n({...u,fetcherKey:r,unstable_runClientMiddleware:h=>{let g=u;return zC(g,!1,()=>h({...g,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,_)=>({[_]:{type:"error",result:v}}))}});try{await Promise.all(t.flatMap(h=>{var g,v;return[(g=h._lazyPromises)==null?void 0:g.handler,(v=h._lazyPromises)==null?void 0:v.route]}))}catch{}return f}async function GM({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:s,scopedContext:o}){let u,c,f=Vr(n.method),h=f?"action":"loader",g=v=>{let _,w=new Promise((C,k)=>_=k);c=()=>_(),n.signal.addEventListener("abort",c);let S=C=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):v({request:n,params:e.params,context:o},...C!==void 0?[C]:[]),A=(async()=>{try{return{type:"data",result:await(s?s(k=>S(k)):S())}}catch(C){return{type:"error",result:C}}})();return Promise.race([A,w])};try{let v=f?e.route.action:e.route.loader;if(t||r)if(v){let _,[w]=await Promise.all([g(v).catch(S=>{_=S}),t,r]);if(_!==void 0)throw _;u=w}else{await t;let _=f?e.route.action:e.route.loader;if(_)[u]=await Promise.all([g(_),r]);else if(h==="action"){let w=new URL(n.url),S=w.pathname+w.search;throw ci(405,{method:n.method,pathname:S,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)u=await g(v);else{let _=new URL(n.url),w=_.pathname+_.search;throw ci(404,{pathname:w})}}catch(v){return{type:"error",result:v}}finally{c&&n.signal.removeEventListener("abort",c)}return u}async function KM(n){var r,s,o,u,c,f;let{result:e,type:t}=n;if($C(e)){let h;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new wm(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return t==="error"?Sx(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new wm(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:mf(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:mf(e)?e.status:void 0}:Sx(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function QM(n,e,t,r,s){let o=n.headers.get("Location");if(wt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ib.test(o)){let u=r.slice(0,r.findIndex(c=>c.route.id===t)+1);o=V_(new URL(e.url),u,s,o),n.headers.set("Location",o)}return n}function vx(n,e,t){if(ib.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=fi(s.pathname,t)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return n}function Uu(n,e,t,r){let s=n.createURL(HC(e)).toString(),o={signal:t};if(r&&Vr(r.formMethod)){let{formMethod:u,formEncType:c}=r;o.method=u.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=z_(r.formData):o.body=r.formData}return new Request(s,o)}function z_(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function _x(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function YM(n,e,t,r=!1,s=!1){let o={},u=null,c,f=!1,h={},g=t&&Lr(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let _=v.route.id,w=e[_];if(wt(!cl(w),"Cannot handle redirect results in processLoaderData"),Lr(w)){let S=w.error;if(g!==void 0&&(S=g,g=void 0),u=u||{},s)u[_]=S;else{let A=ul(n,_);u[A.route.id]==null&&(u[A.route.id]=S)}r||(o[_]=VC),f||(f=!0,c=mf(w.error)?w.error.status:500),w.headers&&(h[_]=w.headers)}else o[_]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(c=w.statusCode),w.headers&&(h[_]=w.headers)}),g!==void 0&&t&&(u={[t[0]]:g},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:c||200,loaderHeaders:h}}function bx(n,e,t,r,s,o){let{loaderData:u,errors:c}=YM(e,t,r);return s.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:g,controller:v}=f,_=o[h];if(wt(_,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Lr(_)){let w=ul(n.matches,g==null?void 0:g.route.id);c&&c[w.route.id]||(c={...c,[w.route.id]:_.error}),n.fetchers.delete(h)}else if(cl(_))wt(!1,"Unhandled fetcher revalidation redirect");else{let w=Fa(_.data);n.fetchers.set(h,w)}}),{loaderData:u,errors:c}}function wx(n,e,t,r){let s=Object.entries(e).filter(([,o])=>o!==VC).reduce((o,[u,c])=>(o[u]=c,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function Ex(n){return n?Lr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ul(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Tx(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ci(n,{pathname:e,routeId:t,method:r,type:s,message:o}={}){let u="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):n===403?(u="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",c=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new wm(n||500,u,new Error(c),!0)}function Up(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(cl(s))return{key:r,result:s}}}function HC(n){let e=typeof n=="string"?So(n):n;return uo({...e,hash:""})}function WM(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function ZM(n){return $C(n.result)&&MM.has(n.result.status)}function Lr(n){return n.type==="error"}function cl(n){return(n&&n.type)==="redirect"}function Sx(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function $C(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function XM(n){return DM.has(n.toUpperCase())}function Vr(n){return kM.has(n.toUpperCase())}function sb(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Yd(n,e){let t=typeof e=="string"?So(e).search:e.search;if(n[n.length-1].route.index&&sb(t||""))return n[n.length-1];let r=DC(n);return r[r.length-1]}function xx(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:o,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function n_(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function JM(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Hd(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function e2(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Fa(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function t2(n,e){try{let t=n.sessionStorage.getItem(LC);if(t){let r=JSON.parse(t);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function n2(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(LC,JSON.stringify(t))}catch(r){_n(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function r2(){let n,e,t=new Promise((r,s)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{s(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Ul=E.createContext(null);Ul.displayName="DataRouter";var th=E.createContext(null);th.displayName="DataRouterState";var ab=E.createContext({isTransitioning:!1});ab.displayName="ViewTransition";var qC=E.createContext(new Map);qC.displayName="Fetchers";var i2=E.createContext(null);i2.displayName="Await";var ys=E.createContext(null);ys.displayName="Navigation";var lg=E.createContext(null);lg.displayName="Location";var vs=E.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var ob=E.createContext(null);ob.displayName="RouteError";function s2(n,{relative:e}={}){wt(nh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=E.useContext(ys),{hash:s,pathname:o,search:u}=rh(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:rs([t,o])),r.createHref({pathname:c,search:u,hash:s})}function nh(){return E.useContext(lg)!=null}function oa(){return wt(nh(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(lg).location}var GC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KC(n){E.useContext(ys).static||E.useLayoutEffect(n)}function lb(){let{isDataRoute:n}=E.useContext(vs);return n?b2():a2()}function a2(){wt(nh(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(Ul),{basename:e,navigator:t}=E.useContext(ys),{matches:r}=E.useContext(vs),{pathname:s}=oa(),o=JSON.stringify(nb(r)),u=E.useRef(!1);return KC(()=>{u.current=!0}),E.useCallback((f,h={})=>{if(_n(u.current,GC),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=rb(f,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:rs([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,o,s,n])}var o2=E.createContext(null);function l2(n){let e=E.useContext(vs).outlet;return e&&E.createElement(o2.Provider,{value:n},e)}function rh(n,{relative:e}={}){let{matches:t}=E.useContext(vs),{pathname:r}=oa(),s=JSON.stringify(nb(t));return E.useMemo(()=>rb(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function u2(n,e,t,r){wt(nh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(ys),{matches:o}=E.useContext(vs),u=o[o.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",g=u&&u.route;{let k=g&&g.path||"";QC(f,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=oa(),_;_=v;let w=_.pathname||"/",S=w;if(h!=="/"){let k=h.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let A=$a(n,{pathname:S});return _n(g||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),_n(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),p2(A&&A.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:rs([h,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:rs([h,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,t,r)}function c2(){let n=_2(),e=mf(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:s},t):null,u)}var d2=E.createElement(c2,null),f2=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?E.createElement(vs.Provider,{value:this.props.routeContext},E.createElement(ob.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h2({routeContext:n,match:e,children:t}){let r=E.useContext(Ul);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(vs.Provider,{value:n},t)}function p2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let f=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);wt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(t)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:g,errors:v}=t,_=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||_){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,h,g)=>{let v,_=!1,w=null,S=null;t&&(v=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||d2,u&&(c<0&&g===0?(QC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):c===g&&(_=!0,S=h.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,g+1)),C=()=>{let k;return v?k=w:_?k=S:h.route.Component?k=E.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=f,E.createElement(h2,{match:h,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:k})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?E.createElement(f2,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):C()},null)}function ub(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m2(n){let e=E.useContext(Ul);return wt(e,ub(n)),e}function g2(n){let e=E.useContext(th);return wt(e,ub(n)),e}function y2(n){let e=E.useContext(vs);return wt(e,ub(n)),e}function cb(n){let e=y2(n),t=e.matches[e.matches.length-1];return wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function v2(){return cb("useRouteId")}function _2(){var r;let n=E.useContext(ob),e=g2("useRouteError"),t=cb("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function b2(){let{router:n}=m2("useNavigate"),e=cb("useNavigate"),t=E.useRef(!1);return KC(()=>{t.current=!0}),E.useCallback(async(s,o={})=>{_n(t.current,GC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Rx={};function QC(n,e,t){!e&&!Rx[n]&&(Rx[n]=!0,_n(!1,t))}var Ax={};function Cx(n,e){!n&&!Ax[e]&&(Ax[e]=!0,console.warn(e))}function w2(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&_n(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:E.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&_n(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:E.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&_n(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:E.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var E2=["HydrateFallback","hydrateFallbackElement"],T2=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function S2({router:n,flushSync:e}){let[t,r]=E.useState(n.state),[s,o]=E.useState(),[u,c]=E.useState({isTransitioning:!1}),[f,h]=E.useState(),[g,v]=E.useState(),[_,w]=E.useState(),S=E.useRef(new Map),A=E.useCallback((L,{deletedFetchers:q,flushSync:H,viewTransitionOpts:U})=>{L.fetchers.forEach((I,N)=>{I.data!==void 0&&S.current.set(N,I.data)}),q.forEach(I=>S.current.delete(I)),Cx(H===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Cx(U==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!P){e&&H?e(()=>r(L)):E.startTransition(()=>r(L));return}if(e&&H){e(()=>{g&&(f&&f.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>r(L))});I.finished.finally(()=>{e(()=>{h(void 0),v(void 0),o(void 0),c({isTransitioning:!1})})}),e(()=>v(I));return}g?(f&&f.resolve(),g.skipTransition(),w({state:L,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(o(L),c({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,e,g,f]);E.useLayoutEffect(()=>n.subscribe(A),[n,A]),E.useEffect(()=>{u.isTransitioning&&!u.flushSync&&h(new T2)},[u]),E.useEffect(()=>{if(f&&s&&n.window){let L=s,q=f.promise,H=n.window.document.startViewTransition(async()=>{E.startTransition(()=>r(L)),await q});H.finished.finally(()=>{h(void 0),v(void 0),o(void 0),c({isTransitioning:!1})}),v(H)}},[s,f,n.window]),E.useEffect(()=>{f&&s&&t.location.key===s.location.key&&f.resolve()},[f,g,t.location,s]),E.useEffect(()=>{!u.isTransitioning&&_&&(o(_.state),c({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),w(void 0))},[u.isTransitioning,_]);let C=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:L=>n.navigate(L),push:(L,q,H)=>n.navigate(L,{state:q,preventScrollReset:H==null?void 0:H.preventScrollReset}),replace:(L,q,H)=>n.navigate(L,{replace:!0,state:q,preventScrollReset:H==null?void 0:H.preventScrollReset})}),[n]),k=n.basename||"/",j=E.useMemo(()=>({router:n,navigator:C,static:!1,basename:k}),[n,C,k]);return E.createElement(E.Fragment,null,E.createElement(Ul.Provider,{value:j},E.createElement(th.Provider,{value:t},E.createElement(qC.Provider,{value:S.current},E.createElement(ab.Provider,{value:u},E.createElement(C2,{basename:k,location:t.location,navigationType:t.historyAction,navigator:C},E.createElement(x2,{routes:n.routes,future:n.future,state:t})))))),null)}var x2=E.memo(R2);function R2({routes:n,future:e,state:t}){return u2(n,void 0,t,e)}function A2(n){return l2(n.context)}function C2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){wt(!nh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=So(t));let{pathname:f="/",search:h="",hash:g="",state:v=null,key:_="default"}=t,w=E.useMemo(()=>{let S=fi(f,u);return S==null?null:{location:{pathname:S,search:h,hash:g,state:v,key:_},navigationType:r}},[u,f,h,g,v,_,r]);return _n(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(ys.Provider,{value:c},E.createElement(lg.Provider,{children:e,value:w}))}var im="get",sm="application/x-www-form-urlencoded";function ug(n){return n!=null&&typeof n.tagName=="string"}function I2(n){return ug(n)&&n.tagName.toLowerCase()==="button"}function O2(n){return ug(n)&&n.tagName.toLowerCase()==="form"}function N2(n){return ug(n)&&n.tagName.toLowerCase()==="input"}function k2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function P2(n,e){return n.button===0&&(!e||e==="_self")&&!k2(n)}var zp=null;function D2(){if(zp===null)try{new FormData(document.createElement("form"),0),zp=!1}catch{zp=!0}return zp}var M2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function r_(n){return n!=null&&!M2.has(n)?(_n(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sm}"`),null):n}function L2(n,e){let t,r,s,o,u;if(O2(n)){let c=n.getAttribute("action");r=c?fi(c,e):null,t=n.getAttribute("method")||im,s=r_(n.getAttribute("enctype"))||sm,o=new FormData(n)}else if(I2(n)||N2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?fi(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||im,s=r_(n.getAttribute("formenctype"))||r_(c.getAttribute("enctype"))||sm,o=new FormData(c,n),!D2()){let{name:h,type:g,value:v}=n;if(g==="image"){let _=h?`${h}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else h&&o.append(h,v)}}else{if(ug(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=im,r=null,s=sm,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function db(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function V2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function U2(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await V2(o,t);return u.links?u.links():[]}return[]}));return H2(r.flat(1).filter(j2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ix(n,e,t,r,s,o){let u=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,c=(f,h)=>{var g;return t[h].pathname!==f.pathname||((g=t[h].route.path)==null?void 0:g.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>u(f,h)||c(f,h)):o==="data"?e.filter((f,h)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function z2(n,e,{includeHydrateFallback:t}={}){return F2(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function F2(n){return[...new Set(n)]}function B2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function H2(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(B2(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $2=new Set([100,101,204,205]);function q2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&fi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function YC(){let n=E.useContext(Ul);return db(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function G2(){let n=E.useContext(th);return db(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fb=E.createContext(void 0);fb.displayName="FrameworkContext";function WC(){let n=E.useContext(fb);return db(n,"You must render this element inside a <HydratedRouter> element"),n}function K2(n,e){let t=E.useContext(fb),[r,s]=E.useState(!1),[o,u]=E.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:v}=e,_=E.useRef(null);E.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=k=>{k.forEach(j=>{u(j.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[n]),E.useEffect(()=>{if(r){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[r]);let w=()=>{s(!0)},S=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:$d(c,w),onBlur:$d(f,S),onMouseEnter:$d(h,w),onMouseLeave:$d(g,S),onTouchStart:$d(v,w)}]:[!1,_,{}]}function $d(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Q2({page:n,...e}){let{router:t}=YC(),r=E.useMemo(()=>$a(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?E.createElement(W2,{page:n,matches:r,...e}):null}function Y2(n){let{manifest:e,routeModules:t}=WC(),[r,s]=E.useState([]);return E.useEffect(()=>{let o=!1;return U2(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function W2({page:n,matches:e,...t}){let r=oa(),{manifest:s,routeModules:o}=WC(),{basename:u}=YC(),{loaderData:c,matches:f}=G2(),h=E.useMemo(()=>Ix(n,e,f,s,r,"data"),[n,e,f,s,r]),g=E.useMemo(()=>Ix(n,e,f,s,r,"assets"),[n,e,f,s,r]),v=E.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,A=!1;if(e.forEach(k=>{var L;let j=s.routes[k.route.id];!j||!j.hasLoader||(!h.some(q=>q.route.id===k.route.id)&&k.route.id in c&&((L=o[k.route.id])!=null&&L.shouldRevalidate)||j.hasClientLoader?A=!0:S.add(k.route.id))}),S.size===0)return[];let C=q2(n,u);return A&&S.size>0&&C.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[u,c,r,s,h,e,n,o]),_=E.useMemo(()=>z2(g,s),[g,s]),w=Y2(g);return E.createElement(E.Fragment,null,v.map(S=>E.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),_.map(S=>E.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),w.map(({key:S,link:A})=>E.createElement("link",{key:S,...A})))}function Z2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZC&&(window.__reactRouterVersion="7.6.1")}catch{}function X2(n,e){return UM({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:aM({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||J2(),routes:n,mapRouteProperties:w2,hydrationRouteProperties:E2,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function J2(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:eL(n.errors)}),n}function eL(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new wm(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let u=new o(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(s.message);o.stack="",t[r]=o}}else t[r]=s;return t}var XC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,is=E.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:c,target:f,to:h,preventScrollReset:g,viewTransition:v,..._},w){let{basename:S}=E.useContext(ys),A=typeof h=="string"&&XC.test(h),C,k=!1;if(typeof h=="string"&&A&&(C=h,ZC))try{let N=new URL(window.location.href),M=h.startsWith("//")?new URL(N.protocol+h):new URL(h),F=fi(M.pathname,S);M.origin===N.origin&&F!=null?h=F+M.search+M.hash:k=!0}catch{_n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=s2(h,{relative:s}),[L,q,H]=K2(r,_),U=iL(h,{replace:u,state:c,target:f,preventScrollReset:g,relative:s,viewTransition:v});function P(N){e&&e(N),N.defaultPrevented||U(N)}let I=E.createElement("a",{..._,...H,href:C||j,onClick:k||o?e:P,ref:Z2(w,q),target:f,"data-discover":!A&&t==="render"?"true":void 0});return L&&!A?E.createElement(E.Fragment,null,I,E.createElement(Q2,{page:j})):I});is.displayName="Link";var tL=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:c,children:f,...h},g){let v=rh(u,{relative:h.relative}),_=oa(),w=E.useContext(th),{navigator:S,basename:A}=E.useContext(ys),C=w!=null&&uL(v)&&c===!0,k=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,j=_.pathname,L=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(j=j.toLowerCase(),L=L?L.toLowerCase():null,k=k.toLowerCase()),L&&A&&(L=fi(L,A)||L);const q=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let H=j===k||!s&&j.startsWith(k)&&j.charAt(q)==="/",U=L!=null&&(L===k||!s&&L.startsWith(k)&&L.charAt(k.length)==="/"),P={isActive:H,isPending:U,isTransitioning:C},I=H?e:void 0,N;typeof r=="function"?N=r(P):N=[r,H?"active":null,U?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(P):o;return E.createElement(is,{...h,"aria-current":I,className:N,ref:g,style:M,to:u,viewTransition:c},typeof f=="function"?f(P):f)});tL.displayName="NavLink";var nL=E.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=im,action:c,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:v,..._},w)=>{let S=oL(),A=lL(c,{relative:h}),C=u.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&XC.test(c),j=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let q=L.nativeEvent.submitter,H=(q==null?void 0:q.getAttribute("formmethod"))||u;S(q||L.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:s,state:o,relative:h,preventScrollReset:g,viewTransition:v})};return E.createElement("form",{ref:w,method:C,action:A,onSubmit:r?f:j,..._,"data-discover":!k&&n==="render"?"true":void 0})});nL.displayName="Form";function rL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JC(n){let e=E.useContext(Ul);return wt(e,rL(n)),e}function iL(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let c=lb(),f=oa(),h=rh(n,{relative:o});return E.useCallback(g=>{if(P2(g,e)){g.preventDefault();let v=t!==void 0?t:uo(f)===uo(h);c(n,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,c,h,t,r,e,n,s,o,u])}var sL=0,aL=()=>`__${String(++sL)}__`;function oL(){let{router:n}=JC("useSubmit"),{basename:e}=E.useContext(ys),t=v2();return E.useCallback(async(r,s={})=>{let{action:o,method:u,encType:c,formData:f,body:h}=L2(r,e);if(s.navigate===!1){let g=s.fetcherKey||aL();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function lL(n,{relative:e}={}){let{basename:t}=E.useContext(ys),r=E.useContext(vs);wt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...rh(n||".",{relative:e})},u=oa();if(n==null){o.search=u.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:rs([t,o.pathname])),uo(o)}function uL(n,e={}){let t=E.useContext(ab);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=JC("useViewTransitionState"),s=rh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=fi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=fi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return bm(s.pathname,u)!=null||bm(s.pathname,o)!=null}[...$2];var Cc=IC();const cL=AC(Cc);/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dL(n){return E.createElement(S2,{flushSync:Cc.flushSync,...n})}var ih=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tl=typeof window>"u"||"Deno"in globalThis;function wr(){}function fL(n,e){return typeof n=="function"?n(e):n}function F_(n){return typeof n=="number"&&n>=0&&n!==1/0}function e1(n,e){return Math.max(n+(e||0)-Date.now(),0)}function ro(n,e){return typeof n=="function"?n(e):n}function Ti(n,e){return typeof n=="function"?n(e):n}function Ox(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:o,queryKey:u,stale:c}=n;if(u){if(r){if(e.queryHash!==hb(u,e.options))return!1}else if(!yf(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||o&&!o(e))}function Nx(n,e){const{exact:t,status:r,predicate:s,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(gf(e.options.mutationKey)!==gf(o))return!1}else if(!yf(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function hb(n,e){return((e==null?void 0:e.queryKeyHashFn)||gf)(n)}function gf(n){return JSON.stringify(n,(e,t)=>H_(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function yf(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>yf(n[t],e[t])):!1}function t1(n,e){if(n===e)return n;const t=kx(n)&&kx(e);if(t||H_(n)&&H_(e)){const r=t?n:Object.keys(n),s=r.length,o=t?e:Object.keys(e),u=o.length,c=t?[]:{};let f=0;for(let h=0;h<u;h++){const g=t?h:o[h];(!t&&r.includes(g)||t)&&n[g]===void 0&&e[g]===void 0?(c[g]=void 0,f++):(c[g]=t1(n[g],e[g]),c[g]===n[g]&&n[g]!==void 0&&f++)}return s===u&&f===s?n:c}return e}function B_(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function kx(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function H_(n){if(!Px(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Px(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Px(n){return Object.prototype.toString.call(n)==="[object Object]"}function hL(n){return new Promise(e=>{setTimeout(e,n)})}function $_(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?t1(n,e):e}function pL(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function mL(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var pb=Symbol();function n1(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===pb?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function gL(n,e){return typeof n=="function"?n(...e):!!n}var hl,Qa,ec,vC,yL=(vC=class extends ih{constructor(){super();et(this,hl);et(this,Qa);et(this,ec);Ne(this,ec,e=>{if(!Tl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,Qa)||this.setEventListener(Y(this,ec))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Qa))==null||e.call(this),Ne(this,Qa,void 0))}setEventListener(e){var t;Ne(this,ec,e),(t=Y(this,Qa))==null||t.call(this),Ne(this,Qa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,hl)!==e&&(Ne(this,hl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,hl)=="boolean"?Y(this,hl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hl=new WeakMap,Qa=new WeakMap,ec=new WeakMap,vC),mb=new yL,tc,Ya,nc,_C,vL=(_C=class extends ih{constructor(){super();et(this,tc,!0);et(this,Ya);et(this,nc);Ne(this,nc,e=>{if(!Tl&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,Ya)||this.setEventListener(Y(this,nc))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Ya))==null||e.call(this),Ne(this,Ya,void 0))}setEventListener(e){var t;Ne(this,nc,e),(t=Y(this,Ya))==null||t.call(this),Ne(this,Ya,e(this.setOnline.bind(this)))}setOnline(e){Y(this,tc)!==e&&(Ne(this,tc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,tc)}},tc=new WeakMap,Ya=new WeakMap,nc=new WeakMap,_C),Tm=new vL;function q_(){let n,e;const t=new Promise((s,o)=>{n=s,e=o});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function _L(n){return Math.min(1e3*2**n,3e4)}function r1(n){return(n??"online")==="online"?Tm.isOnline():!0}var i1=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function i_(n){return n instanceof i1}function s1(n){let e=!1,t=0,r=!1,s;const o=q_(),u=A=>{var C;r||(_(new i1(A)),(C=n.abort)==null||C.call(n))},c=()=>{e=!0},f=()=>{e=!1},h=()=>mb.isFocused()&&(n.networkMode==="always"||Tm.isOnline())&&n.canRun(),g=()=>r1(n.networkMode)&&n.canRun(),v=A=>{var C;r||(r=!0,(C=n.onSuccess)==null||C.call(n,A),s==null||s(),o.resolve(A))},_=A=>{var C;r||(r=!0,(C=n.onError)==null||C.call(n,A),s==null||s(),o.reject(A))},w=()=>new Promise(A=>{var C;s=k=>{(r||h())&&A(k)},(C=n.onPause)==null||C.call(n)}).then(()=>{var A;s=void 0,r||(A=n.onContinue)==null||A.call(n)}),S=()=>{if(r)return;let A;const C=t===0?n.initialPromise:void 0;try{A=C??n.fn()}catch(k){A=Promise.reject(k)}Promise.resolve(A).then(v).catch(k=>{var U;if(r)return;const j=n.retry??(Tl?0:3),L=n.retryDelay??_L,q=typeof L=="function"?L(t,k):L,H=j===!0||typeof j=="number"&&t<j||typeof j=="function"&&j(t,k);if(e||!H){_(k);return}t++,(U=n.onFail)==null||U.call(n,t,k),hL(q).then(()=>h()?void 0:w()).then(()=>{e?_(k):S()})})};return{promise:o,cancel:u,continue:()=>(s==null||s(),o),cancelRetry:c,continueRetry:f,canStart:g,start:()=>(g()?S():w().then(S),o)}}var bL=n=>setTimeout(n,0);function wL(){let n=[],e=0,t=c=>{c()},r=c=>{c()},s=bL;const o=c=>{e?n.push(c):s(()=>{t(c)})},u=()=>{const c=n;n=[],c.length&&s(()=>{r(()=>{c.forEach(f=>{t(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||u()}return f},batchCalls:c=>(...f)=>{o(()=>{c(...f)})},schedule:o,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var $n=wL(),pl,bC,a1=(bC=class{constructor(){et(this,pl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),F_(this.gcTime)&&Ne(this,pl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Tl?1/0:5*60*1e3))}clearGcTimeout(){Y(this,pl)&&(clearTimeout(Y(this,pl)),Ne(this,pl,void 0))}},pl=new WeakMap,bC),rc,ic,ui,ml,Jn,Zf,gl,wi,qs,wC,EL=(wC=class extends a1{constructor(t){super();et(this,wi);et(this,rc);et(this,ic);et(this,ui);et(this,ml);et(this,Jn);et(this,Zf);et(this,gl);Ne(this,gl,!1),Ne(this,Zf,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ne(this,ml,t.client),Ne(this,ui,Y(this,ml).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ne(this,rc,TL(this.options)),this.state=t.state??Y(this,rc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,Jn))==null?void 0:t.promise}setOptions(t){this.options={...Y(this,Zf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,ui).remove(this)}setData(t,r){const s=$_(this.state.data,t,this.options);return xt(this,wi,qs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){xt(this,wi,qs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,o;const r=(s=Y(this,Jn))==null?void 0:s.promise;return(o=Y(this,Jn))==null||o.cancel(t),r?r.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,rc))}isActive(){return this.observers.some(t=>Ti(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ro(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!e1(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,Jn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,Jn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,ui).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Y(this,Jn)&&(Y(this,gl)?Y(this,Jn).cancel({revert:!0}):Y(this,Jn).cancelRetry()),this.scheduleGc()),Y(this,ui).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xt(this,wi,qs).call(this,{type:"invalidate"})}fetch(t,r){var h,g,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Jn))return Y(this,Jn).continueRetry(),Y(this,Jn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(w=>w.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,o=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ne(this,gl,!0),s.signal)})},u=()=>{const _=n1(this.options,r),w={client:Y(this,ml),queryKey:this.queryKey,meta:this.meta};return o(w),Ne(this,gl,!1),this.options.persister?this.options.persister(_,w,this):_(w)},c={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,ml),state:this.state,fetchFn:u};o(c),(h=this.options.behavior)==null||h.onFetch(c,this),Ne(this,ic,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=c.fetchOptions)==null?void 0:g.meta))&&xt(this,wi,qs).call(this,{type:"fetch",meta:(v=c.fetchOptions)==null?void 0:v.meta});const f=_=>{var w,S,A,C;i_(_)&&_.silent||xt(this,wi,qs).call(this,{type:"error",error:_}),i_(_)||((S=(w=Y(this,ui).config).onError)==null||S.call(w,_,this),(C=(A=Y(this,ui).config).onSettled)==null||C.call(A,this.state.data,_,this)),this.scheduleGc()};return Ne(this,Jn,s1({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:_=>{var w,S,A,C;if(_===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(_)}catch(k){f(k);return}(S=(w=Y(this,ui).config).onSuccess)==null||S.call(w,_,this),(C=(A=Y(this,ui).config).onSettled)==null||C.call(A,_,this.state.error,this),this.scheduleGc()},onError:f,onFail:(_,w)=>{xt(this,wi,qs).call(this,{type:"failed",failureCount:_,error:w})},onPause:()=>{xt(this,wi,qs).call(this,{type:"pause"})},onContinue:()=>{xt(this,wi,qs).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Y(this,Jn).start()}},rc=new WeakMap,ic=new WeakMap,ui=new WeakMap,ml=new WeakMap,Jn=new WeakMap,Zf=new WeakMap,gl=new WeakMap,wi=new WeakSet,qs=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...o1(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return i_(o)&&o.revert&&Y(this,ic)?{...Y(this,ic),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),$n.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Y(this,ui).notify({query:this,type:"updated",action:t})})},wC);function o1(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:r1(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function TL(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Xi,EC,SL=(EC=class extends ih{constructor(e={}){super();et(this,Xi);this.config=e,Ne(this,Xi,new Map)}build(e,t,r){const s=t.queryKey,o=t.queryHash??hb(s,t);let u=this.get(o);return u||(u=new EL({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(u)),u}add(e){Y(this,Xi).has(e.queryHash)||(Y(this,Xi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,Xi).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,Xi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Xi).get(e)}getAll(){return[...Y(this,Xi).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Ox(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Ox(e,r)):t}notify(e){$n.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){$n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xi=new WeakMap,EC),Ji,fr,yl,es,Ba,TC,xL=(TC=class extends a1{constructor(t){super();et(this,es);et(this,Ji);et(this,fr);et(this,yl);this.mutationId=t.mutationId,Ne(this,fr,t.mutationCache),Ne(this,Ji,[]),this.state=t.state||RL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,Ji).includes(t)||(Y(this,Ji).push(t),this.clearGcTimeout(),Y(this,fr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ne(this,Ji,Y(this,Ji).filter(r=>r!==t)),this.scheduleGc(),Y(this,fr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,Ji).length||(this.state.status==="pending"?this.scheduleGc():Y(this,fr).remove(this))}continue(){var t;return((t=Y(this,yl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,c,f,h,g,v,_,w,S,A,C,k,j,L,q,H,U,P,I,N;const r=()=>{xt(this,es,Ba).call(this,{type:"continue"})};Ne(this,yl,s1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,F)=>{xt(this,es,Ba).call(this,{type:"failed",failureCount:M,error:F})},onPause:()=>{xt(this,es,Ba).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,fr).canRun(this)}));const s=this.state.status==="pending",o=!Y(this,yl).canStart();try{if(s)r();else{xt(this,es,Ba).call(this,{type:"pending",variables:t,isPaused:o}),await((c=(u=Y(this,fr).config).onMutate)==null?void 0:c.call(u,t,this));const F=await((h=(f=this.options).onMutate)==null?void 0:h.call(f,t));F!==this.state.context&&xt(this,es,Ba).call(this,{type:"pending",context:F,variables:t,isPaused:o})}const M=await Y(this,yl).start();return await((v=(g=Y(this,fr).config).onSuccess)==null?void 0:v.call(g,M,t,this.state.context,this)),await((w=(_=this.options).onSuccess)==null?void 0:w.call(_,M,t,this.state.context)),await((A=(S=Y(this,fr).config).onSettled)==null?void 0:A.call(S,M,null,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,M,null,t,this.state.context)),xt(this,es,Ba).call(this,{type:"success",data:M}),M}catch(M){try{throw await((L=(j=Y(this,fr).config).onError)==null?void 0:L.call(j,M,t,this.state.context,this)),await((H=(q=this.options).onError)==null?void 0:H.call(q,M,t,this.state.context)),await((P=(U=Y(this,fr).config).onSettled)==null?void 0:P.call(U,void 0,M,this.state.variables,this.state.context,this)),await((N=(I=this.options).onSettled)==null?void 0:N.call(I,void 0,M,t,this.state.context)),M}finally{xt(this,es,Ba).call(this,{type:"error",error:M})}}finally{Y(this,fr).runNext(this)}}},Ji=new WeakMap,fr=new WeakMap,yl=new WeakMap,es=new WeakSet,Ba=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$n.batch(()=>{Y(this,Ji).forEach(s=>{s.onMutationUpdate(t)}),Y(this,fr).notify({mutation:this,type:"updated",action:t})})},TC);function RL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qs,Ei,Xf,SC,AL=(SC=class extends ih{constructor(e={}){super();et(this,Qs);et(this,Ei);et(this,Xf);this.config=e,Ne(this,Qs,new Set),Ne(this,Ei,new Map),Ne(this,Xf,0)}build(e,t,r){const s=new xL({mutationCache:this,mutationId:++jp(this,Xf)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){Y(this,Qs).add(e);const t=Fp(e);if(typeof t=="string"){const r=Y(this,Ei).get(t);r?r.push(e):Y(this,Ei).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Qs).delete(e)){const t=Fp(e);if(typeof t=="string"){const r=Y(this,Ei).get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Y(this,Ei).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Fp(e);if(typeof t=="string"){const r=Y(this,Ei).get(t),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const t=Fp(e);if(typeof t=="string"){const s=(r=Y(this,Ei).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$n.batch(()=>{Y(this,Qs).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Qs).clear(),Y(this,Ei).clear()})}getAll(){return Array.from(Y(this,Qs))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Nx(t,r))}findAll(e={}){return this.getAll().filter(t=>Nx(e,t))}notify(e){$n.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return $n.batch(()=>Promise.all(e.map(t=>t.continue().catch(wr))))}},Qs=new WeakMap,Ei=new WeakMap,Xf=new WeakMap,SC);function Fp(n){var e;return(e=n.options.scope)==null?void 0:e.id}function Dx(n){return{onFetch:(e,t)=>{var g,v,_,w,S;const r=e.options,s=(_=(v=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:v.fetchMore)==null?void 0:_.direction,o=((w=e.state.data)==null?void 0:w.pages)||[],u=((S=e.state.data)==null?void 0:S.pageParams)||[];let c={pages:[],pageParams:[]},f=0;const h=async()=>{let A=!1;const C=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(e.signal.aborted?A=!0:e.signal.addEventListener("abort",()=>{A=!0}),e.signal)})},k=n1(e.options,e.fetchOptions),j=async(L,q,H)=>{if(A)return Promise.reject();if(q==null&&L.pages.length)return Promise.resolve(L);const U={client:e.client,queryKey:e.queryKey,pageParam:q,direction:H?"backward":"forward",meta:e.options.meta};C(U);const P=await k(U),{maxPages:I}=e.options,N=H?mL:pL;return{pages:N(L.pages,P,I),pageParams:N(L.pageParams,q,I)}};if(s&&o.length){const L=s==="backward",q=L?CL:Mx,H={pages:o,pageParams:u},U=q(r,H);c=await j(H,U,L)}else{const L=n??o.length;do{const q=f===0?u[0]??r.initialPageParam:Mx(r,c);if(f>0&&q==null)break;c=await j(c,q),f++}while(f<L)}return c};e.options.persister?e.fetchFn=()=>{var A,C;return(C=(A=e.options).persister)==null?void 0:C.call(A,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=h}}}function Mx(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function CL(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var on,Wa,Za,sc,ac,Xa,oc,lc,xC,IL=(xC=class{constructor(n={}){et(this,on);et(this,Wa);et(this,Za);et(this,sc);et(this,ac);et(this,Xa);et(this,oc);et(this,lc);Ne(this,on,n.queryCache||new SL),Ne(this,Wa,n.mutationCache||new AL),Ne(this,Za,n.defaultOptions||{}),Ne(this,sc,new Map),Ne(this,ac,new Map),Ne(this,Xa,0)}mount(){jp(this,Xa)._++,Y(this,Xa)===1&&(Ne(this,oc,mb.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,on).onFocus())})),Ne(this,lc,Tm.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,on).onOnline())})))}unmount(){var n,e;jp(this,Xa)._--,Y(this,Xa)===0&&((n=Y(this,oc))==null||n.call(this),Ne(this,oc,void 0),(e=Y(this,lc))==null||e.call(this),Ne(this,lc,void 0))}isFetching(n){return Y(this,on).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,Wa).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,on).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,on).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(ro(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,on).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=Y(this,on).get(r.queryHash),o=s==null?void 0:s.state.data,u=fL(e,o);if(u!==void 0)return Y(this,on).build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return $n.batch(()=>Y(this,on).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,on).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,on);$n.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,on);return $n.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=$n.batch(()=>Y(this,on).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(wr).catch(wr)}invalidateQueries(n,e={}){return $n.batch(()=>(Y(this,on).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=$n.batch(()=>Y(this,on).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,t);return t.throwOnError||(o=o.catch(wr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(wr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,on).build(this,e);return t.isStaleByTime(ro(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(wr).catch(wr)}fetchInfiniteQuery(n){return n.behavior=Dx(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(wr).catch(wr)}ensureInfiniteQueryData(n){return n.behavior=Dx(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Tm.isOnline()?Y(this,Wa).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,on)}getMutationCache(){return Y(this,Wa)}getDefaultOptions(){return Y(this,Za)}setDefaultOptions(n){Ne(this,Za,n)}setQueryDefaults(n,e){Y(this,sc).set(gf(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,sc).values()],t={};return e.forEach(r=>{yf(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,ac).set(gf(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,ac).values()],t={};return e.forEach(r=>{yf(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,Za).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=hb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pb&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,Za).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,on).clear(),Y(this,Wa).clear()}},on=new WeakMap,Wa=new WeakMap,Za=new WeakMap,sc=new WeakMap,ac=new WeakMap,Xa=new WeakMap,oc=new WeakMap,lc=new WeakMap,xC),br,Rt,Jf,hr,vl,uc,Ja,eo,eh,cc,dc,_l,bl,to,fc,jt,Wd,G_,K_,Q_,Y_,W_,Z_,X_,l1,RC,OL=(RC=class extends ih{constructor(e,t){super();et(this,jt);et(this,br);et(this,Rt);et(this,Jf);et(this,hr);et(this,vl);et(this,uc);et(this,Ja);et(this,eo);et(this,eh);et(this,cc);et(this,dc);et(this,_l);et(this,bl);et(this,to);et(this,fc,new Set);this.options=t,Ne(this,br,e),Ne(this,eo,null),Ne(this,Ja,q_()),this.options.experimental_prefetchInRender||Y(this,Ja).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Rt).addObserver(this),Lx(Y(this,Rt),this.options)?xt(this,jt,Wd).call(this):this.updateResult(),xt(this,jt,Y_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return J_(Y(this,Rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return J_(Y(this,Rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xt(this,jt,W_).call(this),xt(this,jt,Z_).call(this),Y(this,Rt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,Rt);if(this.options=Y(this,br).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ti(this.options.enabled,Y(this,Rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xt(this,jt,X_).call(this),Y(this,Rt).setOptions(this.options),t._defaulted&&!B_(this.options,t)&&Y(this,br).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Rt),observer:this});const s=this.hasListeners();s&&Vx(Y(this,Rt),r,this.options,t)&&xt(this,jt,Wd).call(this),this.updateResult(),s&&(Y(this,Rt)!==r||Ti(this.options.enabled,Y(this,Rt))!==Ti(t.enabled,Y(this,Rt))||ro(this.options.staleTime,Y(this,Rt))!==ro(t.staleTime,Y(this,Rt)))&&xt(this,jt,G_).call(this);const o=xt(this,jt,K_).call(this);s&&(Y(this,Rt)!==r||Ti(this.options.enabled,Y(this,Rt))!==Ti(t.enabled,Y(this,Rt))||o!==Y(this,to))&&xt(this,jt,Q_).call(this,o)}getOptimisticResult(e){const t=Y(this,br).getQueryCache().build(Y(this,br),e),r=this.createResult(t,e);return kL(this,r)&&(Ne(this,hr,r),Ne(this,uc,this.options),Ne(this,vl,Y(this,Rt).state)),r}getCurrentResult(){return Y(this,hr)}trackResult(e,t){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),t==null||t(s),Reflect.get(r,s))})}trackProp(e){Y(this,fc).add(e)}getCurrentQuery(){return Y(this,Rt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,br).defaultQueryOptions(e),r=Y(this,br).getQueryCache().build(Y(this,br),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return xt(this,jt,Wd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,hr)))}createResult(e,t){var N;const r=Y(this,Rt),s=this.options,o=Y(this,hr),u=Y(this,vl),c=Y(this,uc),h=e!==r?e.state:Y(this,Jf),{state:g}=e;let v={...g},_=!1,w;if(t._optimisticResults){const M=this.hasListeners(),F=!M&&Lx(e,t),$=M&&Vx(e,r,t,s);(F||$)&&(v={...v,...o1(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:S,errorUpdatedAt:A,status:C}=v;w=v.data;let k=!1;if(t.placeholderData!==void 0&&w===void 0&&C==="pending"){let M;o!=null&&o.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData)?(M=o.data,k=!0):M=typeof t.placeholderData=="function"?t.placeholderData((N=Y(this,dc))==null?void 0:N.state.data,Y(this,dc)):t.placeholderData,M!==void 0&&(C="success",w=$_(o==null?void 0:o.data,M,t),_=!0)}if(t.select&&w!==void 0&&!k)if(o&&w===(u==null?void 0:u.data)&&t.select===Y(this,eh))w=Y(this,cc);else try{Ne(this,eh,t.select),w=t.select(w),w=$_(o==null?void 0:o.data,w,t),Ne(this,cc,w),Ne(this,eo,null)}catch(M){Ne(this,eo,M)}Y(this,eo)&&(S=Y(this,eo),w=Y(this,cc),A=Date.now(),C="error");const j=v.fetchStatus==="fetching",L=C==="pending",q=C==="error",H=L&&j,U=w!==void 0,I={status:C,fetchStatus:v.fetchStatus,isPending:L,isSuccess:C==="success",isError:q,isInitialLoading:H,isLoading:H,data:w,dataUpdatedAt:v.dataUpdatedAt,error:S,errorUpdatedAt:A,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:j,isRefetching:j&&!L,isLoadingError:q&&!U,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:q&&U,isStale:gb(e,t),refetch:this.refetch,promise:Y(this,Ja)};if(this.options.experimental_prefetchInRender){const M=V=>{I.status==="error"?V.reject(I.error):I.data!==void 0&&V.resolve(I.data)},F=()=>{const V=Ne(this,Ja,I.promise=q_());M(V)},$=Y(this,Ja);switch($.status){case"pending":e.queryHash===r.queryHash&&M($);break;case"fulfilled":(I.status==="error"||I.data!==$.value)&&F();break;case"rejected":(I.status!=="error"||I.error!==$.reason)&&F();break}}return I}updateResult(){const e=Y(this,hr),t=this.createResult(Y(this,Rt),this.options);if(Ne(this,vl,Y(this,Rt).state),Ne(this,uc,this.options),Y(this,vl).data!==void 0&&Ne(this,dc,Y(this,Rt)),B_(t,e))return;Ne(this,hr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!Y(this,fc).size)return!0;const u=new Set(o??Y(this,fc));return this.options.throwOnError&&u.add("error"),Object.keys(Y(this,hr)).some(c=>{const f=c;return Y(this,hr)[f]!==e[f]&&u.has(f)})};xt(this,jt,l1).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xt(this,jt,Y_).call(this)}},br=new WeakMap,Rt=new WeakMap,Jf=new WeakMap,hr=new WeakMap,vl=new WeakMap,uc=new WeakMap,Ja=new WeakMap,eo=new WeakMap,eh=new WeakMap,cc=new WeakMap,dc=new WeakMap,_l=new WeakMap,bl=new WeakMap,to=new WeakMap,fc=new WeakMap,jt=new WeakSet,Wd=function(e){xt(this,jt,X_).call(this);let t=Y(this,Rt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(wr)),t},G_=function(){xt(this,jt,W_).call(this);const e=ro(this.options.staleTime,Y(this,Rt));if(Tl||Y(this,hr).isStale||!F_(e))return;const r=e1(Y(this,hr).dataUpdatedAt,e)+1;Ne(this,_l,setTimeout(()=>{Y(this,hr).isStale||this.updateResult()},r))},K_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Rt)):this.options.refetchInterval)??!1},Q_=function(e){xt(this,jt,Z_).call(this),Ne(this,to,e),!(Tl||Ti(this.options.enabled,Y(this,Rt))===!1||!F_(Y(this,to))||Y(this,to)===0)&&Ne(this,bl,setInterval(()=>{(this.options.refetchIntervalInBackground||mb.isFocused())&&xt(this,jt,Wd).call(this)},Y(this,to)))},Y_=function(){xt(this,jt,G_).call(this),xt(this,jt,Q_).call(this,xt(this,jt,K_).call(this))},W_=function(){Y(this,_l)&&(clearTimeout(Y(this,_l)),Ne(this,_l,void 0))},Z_=function(){Y(this,bl)&&(clearInterval(Y(this,bl)),Ne(this,bl,void 0))},X_=function(){const e=Y(this,br).getQueryCache().build(Y(this,br),this.options);if(e===Y(this,Rt))return;const t=Y(this,Rt);Ne(this,Rt,e),Ne(this,Jf,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},l1=function(e){$n.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,hr))}),Y(this,br).getQueryCache().notify({query:Y(this,Rt),type:"observerResultsUpdated"})})},RC);function NL(n,e){return Ti(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Lx(n,e){return NL(n,e)||n.state.data!==void 0&&J_(n,e,e.refetchOnMount)}function J_(n,e,t){if(Ti(e.enabled,n)!==!1&&ro(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&gb(n,e)}return!1}function Vx(n,e,t,r){return(n!==e||Ti(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&gb(n,t)}function gb(n,e){return Ti(e.enabled,n)!==!1&&n.isStaleByTime(ro(e.staleTime,n))}function kL(n,e){return!B_(n.getCurrentResult(),e)}var u1=E.createContext(void 0),PL=n=>{const e=E.useContext(u1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},DL=({client:n,children:e})=>(E.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),x.jsx(u1.Provider,{value:n,children:e})),c1=E.createContext(!1),ML=()=>E.useContext(c1);c1.Provider;function LL(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var VL=E.createContext(LL()),jL=()=>E.useContext(VL),UL=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},zL=n=>{E.useEffect(()=>{n.clearReset()},[n])},FL=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(s&&n.data===void 0||gL(t,[n.error,r])),BL=n=>{if(n.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...r)=>e(t(...r)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},HL=(n,e)=>n.isLoading&&n.isFetching&&!e,$L=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,jx=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function qL(n,e,t){var v,_,w,S,A;const r=PL(),s=ML(),o=jL(),u=r.defaultQueryOptions(n);(_=(v=r.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||_.call(v,u),u._optimisticResults=s?"isRestoring":"optimistic",BL(u),UL(u,o),zL(o);const c=!r.getQueryCache().get(u.queryHash),[f]=E.useState(()=>new e(r,u)),h=f.getOptimisticResult(u),g=!s&&n.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(C=>{const k=g?f.subscribe($n.batchCalls(C)):wr;return f.updateResult(),k},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),E.useEffect(()=>{f.setOptions(u)},[u,f]),$L(u,h))throw jx(u,f,o);if(FL({result:h,errorResetBoundary:o,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw h.error;if((S=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||S.call(w,u,h),u.experimental_prefetchInRender&&!Tl&&HL(h,s)){const C=c?jx(u,f,o):(A=r.getQueryCache().get(u.queryHash))==null?void 0:A.promise;C==null||C.catch(wr).finally(()=>{f.updateResult()})}return u.notifyOnChangeProps?h:f.trackResult(h)}function GL(n,e){return qL(n,OL)}const it=n=>typeof n=="string",qd=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},Ux=n=>n==null?"":""+n,KL=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},QL=/###/g,zx=n=>n&&n.indexOf("###")>-1?n.replace(QL,"."):n,Fx=n=>!n||it(n),of=(n,e,t)=>{const r=it(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(Fx(n))return{};const o=zx(r[s]);!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={},++s}return Fx(n)?{}:{obj:n,k:zx(r[s])}},Bx=(n,e,t)=>{const{obj:r,k:s}=of(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let o=e[e.length-1],u=e.slice(0,e.length-1),c=of(n,u,Object);for(;c.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),c=of(n,u,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${o}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=t},YL=(n,e,t,r)=>{const{obj:s,k:o}=of(n,e,Object);s[o]=s[o]||[],s[o].push(t)},Sm=(n,e)=>{const{obj:t,k:r}=of(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},WL=(n,e,t)=>{const r=Sm(n,t);return r!==void 0?r:Sm(e,t)},d1=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?it(n[r])||n[r]instanceof String||it(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):d1(n[r],e[r],t):n[r]=e[r]);return n},ku=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ZL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const XL=n=>it(n)?n.replace(/[&<>"'\/]/g,e=>ZL[e]):n;class JL{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const eV=[" ",",","?","!",";"],tV=new JL(20),nV=(n,e,t)=>{e=e||"",t=t||"";const r=eV.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const s=tV.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!s.test(n);if(!o){const u=n.indexOf(t);u>0&&!s.test(n.substring(0,u))&&(o=!0)}return o},e0=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let s=n;for(let o=0;o<r.length;){if(!s||typeof s!="object")return;let u,c="";for(let f=o;f<r.length;++f)if(f!==o&&(c+=t),c+=r[f],u=s[c],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;o+=f-o+1;break}s=u}return s},vf=n=>n==null?void 0:n.replace("_","-"),rV={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};let iV=class t0{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||rV,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(it(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new t0(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t0(this.logger,e)}};var ns=new iV;class cg{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s.apply(s,[e,...t])})}}class Hx extends cg{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,s={}){var h,g;const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],r&&(Array.isArray(r)?c.push(...r):it(r)&&o?c.push(...r.split(o)):c.push(r)));const f=Sm(this.data,c);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=c[0],t=c[1],r=c.slice(2).join(".")),f||!u||!it(r)?f:e0((g=(h=this.data)==null?void 0:h[e])==null?void 0:g[t],r,o)}addResource(e,t,r,s,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[e,t];r&&(c=c.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(c=e.split("."),s=t,t=c[1]),this.addNamespaces(t),Bx(this.data,c,s),o.silent||this.emit("added",e,t,r,s)}addResources(e,t,r,s={silent:!1}){for(const o in r)(it(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,o,u={silent:!1,skipCopy:!1}){let c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),s=r,r=t,t=c[1]),this.addNamespaces(t);let f=Sm(this.data,c)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?d1(f,r,o):f={...f,...r},Bx(this.data,c,f),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var f1={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,t,r,s))??e}),e}};const $x={},qx=n=>!it(n)&&typeof n!="boolean"&&typeof n!="number";class xm extends cg{constructor(e,t={}){super(),KL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ns.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const s=this.resolve(e,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!nV(e,r,s);if(u&&!c){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:it(o)?[o]:o};const h=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),e=h.join(s)}return{key:e,namespaces:it(o)?[o]:o}}translate(e,t,r){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:f}=this.extractFromKey(e[e.length-1],s),h=f[f.length-1];let g=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const v=s.lng||this.language,_=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((v==null?void 0:v.toLowerCase())==="cimode")return _?o?{res:`${h}${g}${c}`,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${g}${c}`:o?{res:c,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;const w=this.resolve(e,s);let S=w==null?void 0:w.res;const A=(w==null?void 0:w.usedKey)||c,C=(w==null?void 0:w.exactUsedKey)||c,k=["[object Number]","[object Function]","[object RegExp]"],j=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject,q=s.count!==void 0&&!it(s.count),H=xm.hasDefaultValue(s),U=q?this.pluralResolver.getSuffix(v,s.count,s):"",P=s.ordinal&&q?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",I=q&&!s.ordinal&&s.count===0,N=I&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${U}`]||s[`defaultValue${P}`]||s.defaultValue;let M=S;L&&!S&&H&&(M=N);const F=qx(M),$=Object.prototype.toString.apply(M);if(L&&M&&F&&k.indexOf($)<0&&!(it(j)&&Array.isArray(M))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(A,M,{...s,ns:f}):`key '${c} (${this.language})' returned an object instead of string.`;return o?(w.res=V,w.usedParams=this.getUsedParamsDetails(s),w):V}if(u){const V=Array.isArray(M),_e=V?[]:{},Ee=V?C:A;for(const K in M)if(Object.prototype.hasOwnProperty.call(M,K)){const ae=`${Ee}${u}${K}`;H&&!S?_e[K]=this.translate(ae,{...s,defaultValue:qx(N)?N[K]:void 0,joinArrays:!1,ns:f}):_e[K]=this.translate(ae,{...s,joinArrays:!1,ns:f}),_e[K]===ae&&(_e[K]=M[K])}S=_e}}else if(L&&it(j)&&Array.isArray(S))S=S.join(j),S&&(S=this.extendTranslation(S,e,s,r));else{let V=!1,_e=!1;!this.isValidLookup(S)&&H&&(V=!0,S=N),this.isValidLookup(S)||(_e=!0,S=c);const K=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_e?void 0:S,ae=H&&N!==S&&this.options.updateMissing;if(_e||V||ae){if(this.logger.log(ae?"updateKey":"missingKey",v,h,c,ae?N:S),u){const re=this.resolve(c,{...s,keySeparator:!1});re&&re.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Z=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let re=0;re<ue.length;re++)Z.push(ue[re]);else this.options.saveMissingTo==="all"?Z=this.languageUtils.toResolveHierarchy(s.lng||this.language):Z.push(s.lng||this.language);const z=(re,fe,le)=>{var Le;const be=H&&le!==S?le:K;this.options.missingKeyHandler?this.options.missingKeyHandler(re,h,fe,be,ae,s):(Le=this.backendConnector)!=null&&Le.saveMissing&&this.backendConnector.saveMissing(re,h,fe,be,ae,s),this.emit("missingKey",re,h,fe,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?Z.forEach(re=>{const fe=this.pluralResolver.getSuffixes(re,s);I&&s[`defaultValue${this.options.pluralSeparator}zero`]&&fe.indexOf(`${this.options.pluralSeparator}zero`)<0&&fe.push(`${this.options.pluralSeparator}zero`),fe.forEach(le=>{z([re],c+le,s[`defaultValue${le}`]||N)})}):z(Z,c,N))}S=this.extendTranslation(S,e,s,w,r),_e&&S===c&&this.options.appendNamespaceToMissingKey&&(S=`${h}${g}${c}`),(_e||V)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${g}${c}`:c,V?S:void 0,s))}return o?(w.res=S,w.usedParams=this.getUsedParamsDetails(s),w):S}extendTranslation(e,t,r,s,o){var f,h;if((f=this.i18nFormat)!=null&&f.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const g=it(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(g){const w=e.match(this.interpolator.nestingRegexp);v=w&&w.length}let _=r.replace&&!it(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),e=this.interpolator.interpolate(e,_,r.lng||this.language||s.usedLng,r),g){const w=e.match(this.interpolator.nestingRegexp),S=w&&w.length;v<S&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...w)=>(o==null?void 0:o[0])===w[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${t[0]}`),null):this.translate(...w,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,c=it(u)?[u]:u;return e!=null&&(c!=null&&c.length)&&r.applyPostProcessor!==!1&&(e=f1.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,s,o,u,c;return it(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(f,t),g=h.key;s=g;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const _=t.count!==void 0&&!it(t.count),w=_&&!t.ordinal&&t.count===0,S=t.context!==void 0&&(it(t.context)||typeof t.context=="number")&&t.context!=="",A=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(C=>{var k,j;this.isValidLookup(r)||(c=C,!$x[`${A[0]}-${C}`]&&((k=this.utils)!=null&&k.hasLoadedNamespace)&&!((j=this.utils)!=null&&j.hasLoadedNamespace(c))&&($x[`${A[0]}-${C}`]=!0,this.logger.warn(`key "${s}" for languages "${A.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),A.forEach(L=>{var U;if(this.isValidLookup(r))return;u=L;const q=[g];if((U=this.i18nFormat)!=null&&U.addLookupKeys)this.i18nFormat.addLookupKeys(q,g,L,C,t);else{let P;_&&(P=this.pluralResolver.getSuffix(L,t.count,t));const I=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&(q.push(g+P),t.ordinal&&P.indexOf(N)===0&&q.push(g+P.replace(N,this.options.pluralSeparator)),w&&q.push(g+I)),S){const M=`${g}${this.options.contextSeparator}${t.context}`;q.push(M),_&&(q.push(M+P),t.ordinal&&P.indexOf(N)===0&&q.push(M+P.replace(N,this.options.pluralSeparator)),w&&q.push(M+I))}}let H;for(;H=q.pop();)this.isValidLookup(r)||(o=H,r=this.getResource(L,C,H,t))}))})}),{res:r,usedKey:s,exactUsedKey:o,usedLng:u,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,s={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!it(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const o of t)delete s[o]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class Gx{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ns.create("languageUtils")}getScriptPartFromCode(e){if(e=vf(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=vf(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(it(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return t=s;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),it(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],o=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return it(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):it(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&o(this.formatLanguageCode(u))}),s}}const Kx={zero:0,one:1,two:2,few:3,many:4,other:5},Qx={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class sV{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=ns.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=vf(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Qx;if(!e.match(/-|_/))return Qx;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[o]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,o)=>Kx[s]-Kx[o]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const Yx=(n,e,t,r=".",s=!0)=>{let o=WL(n,e,t);return!o&&s&&it(t)&&(o=e0(n,t,r),o===void 0&&(o=e0(e,t,r))),o},s_=n=>n.replace(/\$/g,"$$$$");class aV{constructor(e={}){var t;this.logger=ns.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:o,prefixEscaped:u,suffix:c,suffixEscaped:f,formatSeparator:h,unescapeSuffix:g,unescapePrefix:v,nestingPrefix:_,nestingPrefixEscaped:w,nestingSuffix:S,nestingSuffixEscaped:A,nestingOptionsSeparator:C,maxReplaces:k,alwaysFormat:j}=e.interpolation;this.escape=t!==void 0?t:XL,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?ku(o):u||"{{",this.suffix=c?ku(c):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=g?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=_?ku(_):w||ku("$t("),this.nestingSuffix=S?ku(S):A||ku(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=k||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){var w;let o,u,c;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=S=>{if(S.indexOf(this.formatSeparator)<0){const j=Yx(t,f,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,r,{...s,...t,interpolationkey:S}):j}const A=S.split(this.formatSeparator),C=A.shift().trim(),k=A.join(this.formatSeparator).trim();return this.format(Yx(t,f,C,this.options.keySeparator,this.options.ignoreJSONStructure),k,r,{...s,...t,interpolationkey:C})};this.resetRegExp();const g=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((w=s==null?void 0:s.interpolation)==null?void 0:w.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>s_(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?s_(this.escape(S)):s_(S)}].forEach(S=>{for(c=0;o=S.regex.exec(e);){const A=o[1].trim();if(u=h(A),u===void 0)if(typeof g=="function"){const k=g(e,o,s);u=it(k)?k:""}else if(s&&Object.prototype.hasOwnProperty.call(s,A))u="";else if(v){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${e}`),u="";else!it(u)&&!this.useRawValueToEscape&&(u=Ux(u));const C=S.safeValue(u);if(e=e.replace(o[0],C),v?(S.regex.lastIndex+=u.length,S.regex.lastIndex-=o[0].length):S.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t,r={}){let s,o,u;const c=(f,h)=>{const g=this.nestingOptionsSeparator;if(f.indexOf(g)<0)return f;const v=f.split(new RegExp(`${g}[ ]*{`));let _=`{${v[1]}`;f=v[0],_=this.interpolate(_,u);const w=_.match(/'/g),S=_.match(/"/g);(((w==null?void 0:w.length)??0)%2===0&&!S||S.length%2!==0)&&(_=_.replace(/'/g,'"'));try{u=JSON.parse(_),h&&(u={...h,...u})}catch(A){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,A),`${f}${g}${_}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;s=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!it(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let h=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const g=s[1].split(this.formatSeparator).map(v=>v.trim());s[1]=g.shift(),f=g,h=!0}if(o=t(c.call(this,s[1].trim(),u),u),o&&s[0]===e&&!it(o))return o;it(o)||(o=Ux(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),o=""),h&&(o=f.reduce((g,v)=>this.format(g,v,r.lng,{...r,interpolationkey:s[1].trim()}),o.trim())),e=e.replace(s[0],o),this.regexp.lastIndex=0}return e}}const oV=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[c,...f]=u.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),g=c.trim();t[g]||(t[g]=h),h==="false"&&(t[g]=!1),h==="true"&&(t[g]=!0),isNaN(h)||(t[g]=parseInt(h,10))}})}return{formatName:e,formatOptions:t}},Wx=n=>{const e={};return(t,r,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const u=r+JSON.stringify(o);let c=e[u];return c||(c=n(vf(r),s),e[u]=c),c(t)}},lV=n=>(e,t,r)=>n(vf(t),r)(e);class uV{constructor(e={}){this.logger=ns.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Wx:lV;this.formats={number:r((s,o)=>{const u=new Intl.NumberFormat(s,{...o});return c=>u.format(c)}),currency:r((s,o)=>{const u=new Intl.NumberFormat(s,{...o,style:"currency"});return c=>u.format(c)}),datetime:r((s,o)=>{const u=new Intl.DateTimeFormat(s,{...o});return c=>u.format(c)}),relativetime:r((s,o)=>{const u=new Intl.RelativeTimeFormat(s,{...o});return c=>u.format(c,o.range||"day")}),list:r((s,o)=>{const u=new Intl.ListFormat(s,{...o});return c=>u.format(c)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Wx(t)}format(e,t,r,s={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(c=>c.indexOf(")")>-1)){const c=o.findIndex(f=>f.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,c)].join(this.formatSeparator)}return o.reduce((c,f)=>{var v;const{formatName:h,formatOptions:g}=oV(f);if(this.formats[h]){let _=c;try{const w=((v=s==null?void 0:s.formatParams)==null?void 0:v[s.interpolationkey])||{},S=w.locale||w.lng||s.locale||s.lng||r;_=this.formats[h](c,S,{...g,...s,...w})}catch(w){this.logger.warn(w)}return _}else this.logger.warn(`there was no format function for ${h}`);return c},e)}}const cV=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class dV extends cg{constructor(e,t,r,s={}){var o,u;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=ns.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,r,s.backend,s)}queueLoad(e,t,r,s){const o={},u={},c={},f={};return e.forEach(h=>{let g=!0;t.forEach(v=>{const _=`${h}|${v}`;!r.reload&&this.store.hasResourceBundle(h,v)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?u[_]===void 0&&(u[_]=!0):(this.state[_]=1,g=!1,u[_]===void 0&&(u[_]=!0),o[_]===void 0&&(o[_]=!0),f[v]===void 0&&(f[v]=!0)))}),g||(c[h]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const s=e.split("|"),o=s[0],u=s[1];t&&this.emit("failedLoading",o,u,t),!t&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const c={};this.queue.forEach(f=>{YL(f.loaded,[o],u),cV(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{c[h]||(c[h]={});const g=f.loaded[h];g.length&&g.forEach(v=>{c[h][v]===void 0&&(c[h][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r,s=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:o,callback:u});return}this.readingCalls++;const c=(h,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&g&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,o*2,u)},o);return}u(h,g)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const h=f(e,t);h&&typeof h.then=="function"?h.then(g=>c(null,g)).catch(c):c(null,h)}catch(h){c(h)}return}return f(e,t,c)}prepareLoading(e,t,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();it(e)&&(e=this.languageUtils.toResolveHierarchy(e)),it(t)&&(t=[t]);const o=this.queueLoad(e,t,r,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),s=r[0],o=r[1];this.read(s,o,"read",void 0,void 0,(u,c)=>{u&&this.logger.warn(`${t}loading namespace ${o} for language ${s} failed`,u),!u&&c&&this.logger.log(`${t}loaded namespace ${o} for language ${s}`,c),this.loaded(e,u,c)})}saveMissing(e,t,r,s,o,u={},c=()=>{}){var f,h,g,v,_;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((v=(g=this.services)==null?void 0:g.utils)!=null&&v.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((_=this.backend)!=null&&_.create){const w={...u,isUpdate:o},S=this.backend.create.bind(this.backend);if(S.length<6)try{let A;S.length===5?A=S(e,t,r,s,w):A=S(e,t,r,s),A&&typeof A.then=="function"?A.then(C=>c(null,C)).catch(c):c(null,A)}catch(A){c(A)}else S(e,t,r,s,c,w)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const Zx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),it(n[1])&&(e.defaultValue=n[1]),it(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Xx=n=>{var e,t;return it(n.ns)&&(n.ns=[n.ns]),it(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),it(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Bp=()=>{},fV=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class _f extends cg{constructor(e={},t){if(super(),this.options=Xx(e),this.services={},this.logger=ns,this.modules={external:[]},fV(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(it(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Zx();this.options={...r,...this.options,...Xx(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?ns.init(s(this.modules.logger),this.options):ns.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=uV;const g=new Gx(this.options);this.store=new Hx(this.options.resources,this.options);const v=this.services;v.logger=ns,v.resourceStore=this.store,v.languageUtils=g,v.pluralResolver=new sV(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=s(h),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new aV(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new dV(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...w)=>{this.emit(_,...w)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new xm(this.services,this.options),this.translator.on("*",(_,...w)=>{this.emit(_,...w)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Bp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...g)=>this.store[h](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...g)=>(this.store[h](...g),this)});const c=qd(),f=()=>{const h=(g,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),t(g,v)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),c}loadResources(e,t=Bp){var o,u;let r=t;const s=it(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const c=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(v=>{v!=="cimode"&&c.indexOf(v)<0&&c.push(v)})};s?f(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(g=>f(g)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,h=>f(h)),this.services.backendConnector.load(c,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,t,r){const s=qd();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Bp),this.services.backendConnector.reload(e,t,o=>{s.resolve(),r(o)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&f1.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=qd();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,f)=>{f?this.isLanguageChangingTo===e&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),t&&t(c,(...h)=>this.t(...h))},u=c=>{var g,v;!e&&!c&&this.services.languageDetector&&(c=[]);const f=it(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(it(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),(v=(g=this.services.languageDetector)==null?void 0:g.cacheUserLanguage)==null||v.call(g,h)),this.loadResources(h,_=>{o(_,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const s=(o,u,...c)=>{let f;typeof u!="object"?f=this.options.overloadTranslationOptionHandler([o,u].concat(c)):f={...u},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||s.keyPrefix);const h=this.options.keySeparator||".";let g;return f.keyPrefix&&Array.isArray(o)?g=o.map(v=>`${f.keyPrefix}${h}${v}`):g=f.keyPrefix?`${f.keyPrefix}${h}${o}`:o,this.t(g,f)};return it(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(c,f)=>{const h=this.services.backendConnector.state[`${c}|${f}`];return h===-1||h===0||h===2};if(t.precheck){const c=t.precheck(this,u);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(o,e)))}loadNamespaces(e,t){const r=qd();return this.options.ns?(it(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=qd();it(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=s.concat(o),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var s,o;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new Gx(Zx());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new _f(e,t)}cloneInstance(e={},t=Bp){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new _f(s);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const c=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((g,v)=>(g[v]={...f[h][v]},g),f[h]),f),{});o.store=new Hx(c,s),o.services.resourceStore=o.store}return o.translator=new xm(o.services,s),o.translator.on("*",(c,...f)=>{o.emit(c,...f)}),o.init(s,t),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ar=_f.createInstance();ar.createInstance=_f.createInstance;ar.createInstance;ar.dir;ar.init;ar.loadResources;ar.reloadResources;ar.use;ar.changeLanguage;ar.getFixedT;ar.t;ar.exists;ar.setDefaultNamespace;ar.hasLoadedNamespace;ar.loadNamespaces;ar.loadLanguages;const hV=(n,e,t,r)=>{var o,u,c,f;const s=[t,{code:e,...r||{}}];if((u=(o=n==null?void 0:n.services)==null?void 0:o.logger)!=null&&u.forward)return n.services.logger.forward(s,"warn","react-i18next::",!0);wl(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(f=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&f.warn?n.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Jx={},n0=(n,e,t,r)=>{wl(t)&&Jx[t]||(wl(t)&&(Jx[t]=new Date),hV(n,e,t,r))},h1=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},r0=(n,e,t)=>{n.loadNamespaces(e,h1(n,t))},eR=(n,e,t,r)=>{if(wl(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return r0(n,t,r);t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,h1(n,r))},pV=(n,e,t={})=>!e.languages||!e.languages.length?(n0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,s)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,n))return!1}}),wl=n=>typeof n=="string",mV=n=>typeof n=="object"&&n!==null,gV=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yV={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},vV=n=>yV[n],_V=n=>n.replace(gV,vV);let i0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_V};const bV=(n={})=>{i0={...i0,...n}},wV=()=>i0;let p1;const EV=n=>{p1=n},TV=()=>p1,SV={type:"3rdParty",init(n){bV(n.options.react),EV(n)}},xV=E.createContext();class RV{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const AV=(n,e)=>{const t=E.useRef();return E.useEffect(()=>{t.current=n},[n,e]),t.current},m1=(n,e,t,r)=>n.getFixedT(e,t,r),CV=(n,e,t,r)=>E.useCallback(m1(n,e,t,r),[n,e,t,r]),Ic=(n,e={})=>{var q,H,U,P;const{i18n:t}=e,{i18n:r,defaultNS:s}=E.useContext(xV)||{},o=t||r||TV();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new RV),!o){n0(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const I=(M,F)=>wl(F)?F:mV(F)&&wl(F.defaultValue)?F.defaultValue:Array.isArray(M)?M[M.length-1]:M,N=[I,{},!1];return N.t=I,N.i18n={},N.ready=!1,N}(q=o.options.react)!=null&&q.wait&&n0(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...wV(),...o.options.react,...e},{useSuspense:c,keyPrefix:f}=u;let h=s||((H=o.options)==null?void 0:H.defaultNS);h=wl(h)?[h]:h||["translation"],(P=(U=o.reportNamespaces).addUsedNamespaces)==null||P.call(U,h);const g=(o.isInitialized||o.initializedStoreOnce)&&h.every(I=>pV(I,o,u)),v=CV(o,e.lng||null,u.nsMode==="fallback"?h:h[0],f),_=()=>v,w=()=>m1(o,e.lng||null,u.nsMode==="fallback"?h:h[0],f),[S,A]=E.useState(_);let C=h.join();e.lng&&(C=`${e.lng}${C}`);const k=AV(C),j=E.useRef(!0);E.useEffect(()=>{const{bindI18n:I,bindI18nStore:N}=u;j.current=!0,!g&&!c&&(e.lng?eR(o,e.lng,h,()=>{j.current&&A(w)}):r0(o,h,()=>{j.current&&A(w)})),g&&k&&k!==C&&j.current&&A(w);const M=()=>{j.current&&A(w)};return I&&(o==null||o.on(I,M)),N&&(o==null||o.store.on(N,M)),()=>{j.current=!1,o&&(I==null||I.split(" ").forEach(F=>o.off(F,M))),N&&o&&N.split(" ").forEach(F=>o.store.off(F,M))}},[o,C]),E.useEffect(()=>{j.current&&g&&A(_)},[o,f,g]);const L=[S,o,g];if(L.t=S,L.i18n=o,L.ready=g,g||!g&&!c)return L;throw new Promise(I=>{e.lng?eR(o,e.lng,h,()=>I()):r0(o,h,()=>I())})};function s0(n){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(n)}function g1(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":s0(XMLHttpRequest))==="object"}function IV(n){return!!n&&typeof n.then=="function"}function OV(n){return IV(n)?n:Promise.resolve(n)}const NV="modulepreload",kV=function(n){return"/pokemon_battle_arena/"+n},tR={},PV=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let u=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=u(t.map(h=>{if(h=kV(h),h in tR)return;tR[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":NV,g||(_.as="script"),_.crossOrigin="",_.href=h,f&&_.setAttribute("nonce",f),document.head.appendChild(_),g)return new Promise((w,S)=>{_.addEventListener("load",w),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function nR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function rR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(t),!0).forEach(function(r){DV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function DV(n,e,t){return(e=MV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MV(n){var e=LV(n,"string");return Sl(e)=="symbol"?e:e+""}function LV(n,e){if(Sl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Sl(n){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(n)}var co=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?co=global.fetch:typeof window<"u"&&window.fetch&&(co=window.fetch);var bf;g1()&&(typeof global<"u"&&global.XMLHttpRequest?bf=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(bf=window.XMLHttpRequest));var Rm;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Rm=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Rm=window.ActiveXObject));typeof co!="function"&&(co=void 0);if(!co&&!bf&&!Rm)try{PV(()=>import("./browser-ponyfill-BrgvzCEJ.js").then(n=>n.b),[]).then(function(n){co=n.default}).catch(function(){})}catch{}var a0=function(e,t){if(t&&Sl(t)==="object"){var r="";for(var s in t)r+="&"+encodeURIComponent(s)+"="+encodeURIComponent(t[s]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},iR=function(e,t,r,s){var o=function(f){if(!f.ok)return r(f.statusText||"Error",{status:f.status});f.text().then(function(h){r(null,{status:f.status,data:h})}).catch(r)};if(s){var u=s(e,t);if(u instanceof Promise){u.then(o).catch(r);return}}typeof fetch=="function"?fetch(e,t).then(o).catch(r):co(e,t).then(o).catch(r)},sR=!1,VV=function(e,t,r,s){e.queryStringParams&&(t=a0(t,e.queryStringParams));var o=rR({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var u=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,c=rR({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:o},sR?{}:u),f=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{iR(t,c,s,f)}catch(h){if(!u||Object.keys(u).length===0||!h.message||h.message.indexOf("not implemented")<0)return s(h);try{Object.keys(u).forEach(function(g){delete c[g]}),iR(t,c,s,f),sR=!0}catch(g){s(g)}}},jV=function(e,t,r,s){r&&Sl(r)==="object"&&(r=a0("",r).slice(1)),e.queryStringParams&&(t=a0(t,e.queryStringParams));try{var o=bf?new bf:new Rm("MSXML2.XMLHTTP.3.0");o.open(r?"POST":"GET",t,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var u=e.customHeaders;if(u=typeof u=="function"?u():u,u)for(var c in u)o.setRequestHeader(c,u[c]);o.onreadystatechange=function(){o.readyState>3&&s(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(f){console&&console.log(f)}},UV=function(e,t,r,s){if(typeof r=="function"&&(s=r,r=void 0),s=s||function(){},co&&t.indexOf("file:")!==0)return VV(e,t,r,s);if(g1()||typeof ActiveXObject=="function")return jV(e,t,r,s);s(new Error("No fetch and no xhr implementation found!"))};function hc(n){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(n)}function aR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function a_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(t),!0).forEach(function(r){y1(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zV(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function FV(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,v1(r.key),r)}}function BV(n,e,t){return e&&FV(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function y1(n,e,t){return(e=v1(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v1(n){var e=HV(n,"string");return hc(e)=="symbol"?e:e+""}function HV(n,e){if(hc(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var $V=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,r,s){return y1({},r,s||"")},parseLoadPayload:function(t,r){},request:UV,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},_1=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};zV(this,n),this.services=e,this.options=t,this.allOptions=r,this.type="backend",this.init(e,t,r)}return BV(n,[{key:"init",value:function(t){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=a_(a_(a_({},$V()),this.options||{}),s),this.allOptions=o,this.services&&this.options.reloadInterval){var u=setInterval(function(){return r.reload()},this.options.reloadInterval);hc(u)==="object"&&typeof u.unref=="function"&&u.unref()}}},{key:"readMulti",value:function(t,r,s){this._readAny(t,t,r,r,s)}},{key:"read",value:function(t,r,s){this._readAny([t],t,[r],r,s)}},{key:"_readAny",value:function(t,r,s,o,u){var c=this,f=this.options.loadPath;typeof this.options.loadPath=="function"&&(f=this.options.loadPath(t,s)),f=OV(f),f.then(function(h){if(!h)return u(null,{});var g=c.services.interpolator.interpolate(h,{lng:t.join("+"),ns:s.join("+")});c.loadUrl(g,u,r,o)})}},{key:"loadUrl",value:function(t,r,s,o){var u=this,c=typeof s=="string"?[s]:s,f=typeof o=="string"?[o]:o,h=this.options.parseLoadPayload(c,f);this.options.request(this.options,t,h,function(g,v){if(v&&(v.status>=500&&v.status<600||!v.status))return r("failed loading "+t+"; status code: "+v.status,!0);if(v&&v.status>=400&&v.status<500)return r("failed loading "+t+"; status code: "+v.status,!1);if(!v&&g&&g.message){var _=g.message.toLowerCase(),w=["failed","fetch","network","load"].find(function(C){return _.indexOf(C)>-1});if(w)return r("failed loading "+t+": "+g.message,!0)}if(g)return r(g,!1);var S,A;try{typeof v.data=="string"?S=u.options.parse(v.data,s,o):S=v.data}catch{A="failed parsing "+t+" to json"}if(A)return r(A,!1);r(null,S)})}},{key:"create",value:function(t,r,s,o,u){var c=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var f=this.options.parsePayload(r,s,o),h=0,g=[],v=[];t.forEach(function(_){var w=c.options.addPath;typeof c.options.addPath=="function"&&(w=c.options.addPath(_,r));var S=c.services.interpolator.interpolate(w,{lng:_,ns:r});c.options.request(c.options,S,f,function(A,C){h+=1,g.push(A),v.push(C),h===t.length&&typeof u=="function"&&u(g,v)})})}}},{key:"reload",value:function(){var t=this,r=this.services,s=r.backendConnector,o=r.languageUtils,u=r.logger,c=s.language;if(!(c&&c.toLowerCase()==="cimode")){var f=[],h=function(v){var _=o.toResolveHierarchy(v);_.forEach(function(w){f.indexOf(w)<0&&f.push(w)})};h(c),this.allOptions.preload&&this.allOptions.preload.forEach(function(g){return h(g)}),f.forEach(function(g){t.allOptions.ns.forEach(function(v){s.read(g,v,"read",null,null,function(_,w){_&&u.warn("loading namespace ".concat(v," for language ").concat(g," failed"),_),!_&&w&&u.log("loaded namespace ".concat(v," for language ").concat(g),w),s.loaded("".concat(g,"|").concat(v),_,w)})})})}}}])}();_1.type="backend";const{slice:qV,forEach:GV}=[];function KV(n){return GV.call(qV.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function QV(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const oR=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,YV=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let o=`${n}=${s}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!oR.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!oR.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},lR={create(n,e,t,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+t*60*1e3)),r&&(s.domain=r),document.cookie=YV(n,encodeURIComponent(e),s)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let s=t[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(n){this.create(n,"",-1)}};var WV={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return lR.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:s,cookieOptions:o}=e;t&&typeof document<"u"&&lR.create(t,n,r,s,o)}},ZV={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const u=s.substring(1).split("&");for(let c=0;c<u.length;c++){const f=u[c].indexOf("=");f>0&&u[c].substring(0,f)===e&&(t=u[c].substring(f+1))}}return t}};let Pu=null;const uR=()=>{if(Pu!==null)return Pu;try{if(Pu=typeof window<"u"&&window.localStorage!==null,!Pu)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Pu=!1}return Pu};var XV={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&uR())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&uR()&&window.localStorage.setItem(t,n)}};let Du=null;const cR=()=>{if(Du!==null)return Du;try{if(Du=typeof window<"u"&&window.sessionStorage!==null,!Du)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Du=!1}return Du};var JV={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&cR())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&cR()&&window.sessionStorage.setItem(t,n)}},ej={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:s}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},tj={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},nj={name:"path",lookup(n){var s;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(s=t[typeof e=="number"?e:0])==null?void 0:s.replace("/",""):void 0}},rj={name:"subdomain",lookup(n){var s,o;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(s=window.location)==null?void 0:s.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let b1=!1;try{document.cookie,b1=!0}catch{}const w1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];b1||w1.splice(1,1);const ij=()=>({order:w1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class E1{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=KV(t,this.options||{},ij()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(WV),this.addDetector(ZV),this.addDetector(XV),this.addDetector(JV),this.addDetector(ej),this.addDetector(tj),this.addDetector(nj),this.addDetector(rj)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(t=t.concat(s))}}),t=t.filter(r=>r!=null&&!QV(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}E1.type="languageDetector";const sj="/pokemon_battle_arena/";ar.use(_1).use(E1).use(SV).init({fallbackLng:"zh-TW",debug:!1,supportedLngs:["zh-TW","en","ja"],ns:["common"],defaultNS:"common",backend:{loadPath:`${sj}locales/{{lng}}.json`},detection:{order:["localStorage","navigator"],caches:["localStorage"]},interpolation:{escapeValue:!1}});const dR=n=>{let e;const t=new Set,r=(h,g)=>{const v=typeof h=="function"?h(e):h;if(!Object.is(v,e)){const _=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(w=>w(e,_))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>f,subscribe:h=>(t.add(h),()=>t.delete(h))},f=e=n(r,s,c);return c},aj=n=>n?dR(n):dR,oj=n=>n;function lj(n,e=oj){const t=Wi.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return Wi.useDebugValue(t),t}const fR=n=>{const e=aj(n),t=r=>lj(e,r);return Object.assign(t,e),t},dg=n=>n?fR(n):fR,uj=()=>localStorage.getItem("theme")==="dark",T1=dg(n=>({isDarkMode:uj(),toggleTheme:()=>n(e=>{const t=!e.isDarkMode;return localStorage.setItem("theme",t?"dark":"light"),{isDarkMode:t}})}));function o_({children:n}){const{isDarkMode:e}=T1();return E.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),x.jsx(x.Fragment,{children:n})}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=()=>{};var hR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},dj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],c=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},x1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,c=u?n[s+1]:0,f=s+2<n.length,h=f?n[s+2]:0,g=o>>2,v=(o&3)<<4|c>>4;let _=(c&15)<<2|h>>6,w=h&63;f||(w=64,u||(_=64)),r.push(t[g],t[v],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(S1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||h==null||v==null)throw new fj;const _=o<<2|c>>4;if(r.push(_),h!==64){const w=c<<4&240|h>>2;if(r.push(w),v!==64){const S=h<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hj=function(n){const e=S1(n);return x1.encodeByteArray(e,!0)},Am=function(n){return hj(n).replace(/\./g,"")},R1=function(n){try{return x1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=()=>pj().__FIREBASE_DEFAULTS__,gj=()=>{if(typeof process>"u"||typeof hR>"u")return;const n=hR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&R1(n[1]);return e&&JSON.parse(e)},fg=()=>{try{return cj()||mj()||gj()||yj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},A1=n=>{var e,t;return(t=(e=fg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vj=n=>{const e=A1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},C1=()=>{var n;return(n=fg())===null||n===void 0?void 0:n.config},I1=n=>{var e;return(e=fg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Am(JSON.stringify(t)),Am(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())}function Ej(){var n;const e=(n=fg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sj(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rj(){const n=nr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Aj(){return!Ej()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cj(){try{return typeof indexedDB=="object"}catch{return!1}}function Ij(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="FirebaseError";class la extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Oj,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sh.prototype.create)}}class sh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?Nj(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new la(s,c,r)}}function Nj(n,e){return n.replace(kj,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kj=/\{\$([^}]+)}/g;function Pj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(pR(o)&&pR(u)){if(!xl(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function pR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Xd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Dj(n,e){const t=new Mj(n,e);return t.subscribe.bind(t)}class Mj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Lj(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=l_),s.error===void 0&&(s.error=l_),s.complete===void 0&&(s.complete=l_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function l_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n){return n&&n._delegate?n._delegate:n}class Rl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vj=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new _j;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Uj(e))try{this.getOrInitializeService({instanceIdentifier:ll})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ll){return this.instances.has(e)}getOptions(e=ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ll){return this.component?this.component.multipleInstances?e:ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jj(n){return n===ll?void 0:n}function Uj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Vj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Et||(Et={}));const Fj={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},Bj=Et.INFO,Hj={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},$j=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Hj[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yb{constructor(e){this.name=e,this._logLevel=Bj,this._logHandler=$j,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const qj=(n,e)=>e.some(t=>n instanceof t);let mR,gR;function Gj(){return mR||(mR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kj(){return gR||(gR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O1=new WeakMap,o0=new WeakMap,N1=new WeakMap,u_=new WeakMap,vb=new WeakMap;function Qj(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(io(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&O1.set(t,n)}).catch(()=>{}),vb.set(e,n),e}function Yj(n){if(o0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});o0.set(n,e)}let l0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return o0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||N1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return io(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Wj(n){l0=n(l0)}function Zj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(c_(this),e,...t);return N1.set(r,e.sort?e.sort():[e]),io(r)}:Kj().includes(n)?function(...e){return n.apply(c_(this),e),io(O1.get(this))}:function(...e){return io(n.apply(c_(this),e))}}function Xj(n){return typeof n=="function"?Zj(n):(n instanceof IDBTransaction&&Yj(n),qj(n,Gj())?new Proxy(n,l0):n)}function io(n){if(n instanceof IDBRequest)return Qj(n);if(u_.has(n))return u_.get(n);const e=Xj(n);return e!==n&&(u_.set(n,e),vb.set(e,n)),e}const c_=n=>vb.get(n);function Jj(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),c=io(u);return r&&u.addEventListener("upgradeneeded",f=>{r(io(u.result),f.oldVersion,f.newVersion,io(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const eU=["get","getKey","getAll","getAllKeys","count"],tU=["put","add","delete","clear"],d_=new Map;function yR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(d_.get(e))return d_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=tU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||eU.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),s&&f.done]))[0]};return d_.set(e,o),o}Wj(n=>({...n,get:(e,t,r)=>yR(e,t)||n.get(e,t,r),has:(e,t)=>!!yR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function rU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u0="@firebase/app",vR="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new yb("@firebase/app"),iU="@firebase/app-compat",sU="@firebase/analytics-compat",aU="@firebase/analytics",oU="@firebase/app-check-compat",lU="@firebase/app-check",uU="@firebase/auth",cU="@firebase/auth-compat",dU="@firebase/database",fU="@firebase/data-connect",hU="@firebase/database-compat",pU="@firebase/functions",mU="@firebase/functions-compat",gU="@firebase/installations",yU="@firebase/installations-compat",vU="@firebase/messaging",_U="@firebase/messaging-compat",bU="@firebase/performance",wU="@firebase/performance-compat",EU="@firebase/remote-config",TU="@firebase/remote-config-compat",SU="@firebase/storage",xU="@firebase/storage-compat",RU="@firebase/firestore",AU="@firebase/vertexai",CU="@firebase/firestore-compat",IU="firebase",OU="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="[DEFAULT]",NU={[u0]:"fire-core",[iU]:"fire-core-compat",[aU]:"fire-analytics",[sU]:"fire-analytics-compat",[lU]:"fire-app-check",[oU]:"fire-app-check-compat",[uU]:"fire-auth",[cU]:"fire-auth-compat",[dU]:"fire-rtdb",[fU]:"fire-data-connect",[hU]:"fire-rtdb-compat",[pU]:"fire-fn",[mU]:"fire-fn-compat",[gU]:"fire-iid",[yU]:"fire-iid-compat",[vU]:"fire-fcm",[_U]:"fire-fcm-compat",[bU]:"fire-perf",[wU]:"fire-perf-compat",[EU]:"fire-rc",[TU]:"fire-rc-compat",[SU]:"fire-gcs",[xU]:"fire-gcs-compat",[RU]:"fire-fst",[CU]:"fire-fst-compat",[AU]:"fire-vertex","fire-js":"fire-js",[IU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=new Map,kU=new Map,d0=new Map;function _R(n,e){try{n.container.addComponent(e)}catch(t){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pc(n){const e=n.name;if(d0.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;d0.set(e,n);for(const t of Cm.values())_R(t,n);for(const t of kU.values())_R(t,n);return!0}function _b(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ur(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new sh("app","Firebase",PU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=OU;function k1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:c0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw so.create("bad-app-name",{appName:String(s)});if(t||(t=C1()),!t)throw so.create("no-options");const o=Cm.get(s);if(o){if(xl(t,o.options)&&xl(r,o.config))return o;throw so.create("duplicate-app",{appName:s})}const u=new zj(s);for(const f of d0.values())u.addComponent(f);const c=new DU(t,r,u);return Cm.set(s,c),c}function P1(n=c0){const e=Cm.get(n);if(!e&&n===c0&&C1())return k1();if(!e)throw so.create("no-app",{appName:n});return e}function ao(n,e,t){var r;let s=(r=NU[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(c.join(" "));return}pc(new Rl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="firebase-heartbeat-database",LU=1,wf="firebase-heartbeat-store";let f_=null;function D1(){return f_||(f_=Jj(MU,LU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wf)}catch(t){console.warn(t)}}}}).catch(n=>{throw so.create("idb-open",{originalErrorMessage:n.message})})),f_}async function VU(n){try{const t=(await D1()).transaction(wf),r=await t.objectStore(wf).get(M1(n));return await t.done,r}catch(e){if(e instanceof la)ea.warn(e.message);else{const t=so.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(t.message)}}}async function bR(n,e){try{const r=(await D1()).transaction(wf,"readwrite");await r.objectStore(wf).put(e,M1(n)),await r.done}catch(t){if(t instanceof la)ea.warn(t.message);else{const r=so.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ea.warn(r.message)}}}function M1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=1024,UU=30;class zU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BU(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>UU){const u=HU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ea.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wR(),{heartbeatsToSend:r,unsentEntries:s}=FU(this._heartbeatsCache.heartbeats),o=Am(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ea.warn(t),""}}}function wR(){return new Date().toISOString().substring(0,10)}function FU(n,e=jU){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),ER(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),ER(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class BU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cj()?Ij().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await VU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return bR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return bR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ER(n){return Am(JSON.stringify({version:2,heartbeats:n})).length}function HU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(n){pc(new Rl("platform-logger",e=>new nU(e),"PRIVATE")),pc(new Rl("heartbeat",e=>new zU(e),"PRIVATE")),ao(u0,vR,n),ao(u0,vR,"esm2017"),ao("fire-js","")}$U("");var ts=function(){return ts=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ts.apply(this,arguments)};function oh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function qU(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function L1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GU=L1,V1=new sh("auth","Firebase",L1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=new yb("@firebase/auth");function KU(n,...e){Im.logLevel<=Et.WARN&&Im.warn(`Auth (${Oc}): ${n}`,...e)}function am(n,...e){Im.logLevel<=Et.ERROR&&Im.error(`Auth (${Oc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,...e){throw wb(n,...e)}function Ri(n,...e){return wb(n,...e)}function bb(n,e,t){const r=Object.assign(Object.assign({},GU()),{[e]:t});return new sh("auth","Firebase",r).create(e,{appName:n.name})}function Xs(n){return bb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QU(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&hi(n,"argument-error"),bb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return V1.create(n,...e)}function Ze(n,e,...t){if(!n)throw wb(e,...t)}function Ws(n){const e="INTERNAL ASSERTION FAILED: "+n;throw am(e),new Error(e)}function ta(n,e){n||Ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function YU(){return TR()==="http:"||TR()==="https:"}function TR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YU()||Sj()||"connection"in navigator)?navigator.onLine:!0}function ZU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ta(t>e,"Short delay should be less than long delay!"),this.isMobile=wj()||xj()}get(){return WU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(n,e){ta(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e4=new lh(3e4,6e4);function xo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ro(n,e,t,r,s={}){return U1(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=ah(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:f},o);return Tj()||(h.referrerPolicy="no-referrer"),j1.fetch()(await z1(n,n.config.apiHost,t,c),h)})}async function U1(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},XU),e);try{const s=new n4(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Hp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Hp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Hp(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw bb(n,g,h);hi(n,g)}}catch(s){if(s instanceof la)throw s;hi(n,"network-request-failed",{message:String(s)})}}async function uh(n,e,t,r,s={}){const o=await Ro(n,e,t,r,s);return"mfaPendingCredential"in o&&hi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function z1(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?Eb(n.config,s):`${n.config.apiScheme}://${s}`;return JU.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function t4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class n4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),e4.get())})}}function Hp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ri(n,e,r);return s.customData._tokenResponse=t,s}function SR(n){return n!==void 0&&n.enterprise!==void 0}class r4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return t4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function i4(n,e){return Ro(n,"GET","/v2/recaptchaConfig",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(n,e){return Ro(n,"POST","/v1/accounts:delete",e)}async function Om(n,e){return Ro(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a4(n,e=!1){const t=rr(n),r=await t.getIdToken(e),s=Tb(r);Ze(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:lf(h_(s.auth_time)),issuedAtTime:lf(h_(s.iat)),expirationTime:lf(h_(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function h_(n){return Number(n)*1e3}function Tb(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return am("JWT malformed, contained fewer than 3 sections"),null;try{const s=R1(t);return s?JSON.parse(s):(am("Failed to decode base64 JWT payload"),null)}catch(s){return am("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function xR(n){const e=Tb(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof la&&o4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function o4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lf(this.lastLoginAt),this.creationTime=lf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Ef(n,Om(t,{idToken:r}));Ze(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?F1(o.providerUserInfo):[],c=c4(n.providerData,u),f=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=f?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new h0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function u4(n){const e=rr(n);await Nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c4(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function F1(n){return n.map(e=>{var{providerId:t}=e,r=oh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(n,e){const t=await U1(n,{},async()=>{const r=ah({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await z1(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",j1.fetch()(u,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function f4(n,e){return Ro(n,"POST","/v2/accounts:revokeToken",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=xR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await d4(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Ku;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ze(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Ze(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ku,this.toJSON())}_performRefresh(){return Ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Si{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=oh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new h0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ef(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return a4(this,e)}reload(){return u4(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Nm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(Xs(this.auth));const e=await this.getIdToken();return await Ef(this,s4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,c,f,h,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(c=t.tenantId)!==null&&c!==void 0?c:void 0,C=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,k=(h=t.createdAt)!==null&&h!==void 0?h:void 0,j=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:q,isAnonymous:H,providerData:U,stsTokenManager:P}=t;Ze(L&&P,e,"internal-error");const I=Ku.fromJSON(this.name,P);Ze(typeof L=="string",e,"internal-error"),Ua(v,e.name),Ua(_,e.name),Ze(typeof q=="boolean",e,"internal-error"),Ze(typeof H=="boolean",e,"internal-error"),Ua(w,e.name),Ua(S,e.name),Ua(A,e.name),Ua(C,e.name),Ua(k,e.name),Ua(j,e.name);const N=new Si({uid:L,auth:e,email:_,emailVerified:q,displayName:v,isAnonymous:H,photoURL:S,phoneNumber:w,tenantId:A,stsTokenManager:I,createdAt:k,lastLoginAt:j});return U&&Array.isArray(U)&&(N.providerData=U.map(M=>Object.assign({},M))),C&&(N._redirectEventId=C),N}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ku;s.updateFromServerResponse(t);const o=new Si({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Nm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ze(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?F1(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new Ku;c.updateFromIdToken(r);const f=new Si({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new h0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Map;function Zs(n){ta(n instanceof Function,"Expected a class definition");let e=RR.get(n);return e?(ta(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,RR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}B1.type="NONE";const AR=B1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n,e,t){return`firebase:${n}:${e}:${t}`}class Qu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=om(this.userKey,s.apiKey,o),this.fullPersistenceKey=om("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Om(this.auth,{idToken:e}).catch(()=>{});return t?Si._fromGetAccountInfoResponse(this.auth,t,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Qu(Zs(AR),e,r);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||Zs(AR);const u=om(r,e.config.apiKey,e.name);let c=null;for(const h of t)try{const g=await h._get(u);if(g){let v;if(typeof g=="string"){const _=await Om(e,{idToken:g}).catch(()=>{});if(!_)break;v=await Si._fromGetAccountInfoResponse(e,_,g)}else v=Si._fromJSON(e,g);h!==o&&(c=v),o=h;break}}catch{}const f=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Qu(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(u)}catch{}})),new Qu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q1(e))return"Blackberry";if(Y1(e))return"Webos";if($1(e))return"Safari";if((e.includes("chrome/")||q1(e))&&!e.includes("edge/"))return"Chrome";if(K1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function H1(n=nr()){return/firefox\//i.test(n)}function $1(n=nr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q1(n=nr()){return/crios\//i.test(n)}function G1(n=nr()){return/iemobile/i.test(n)}function K1(n=nr()){return/android/i.test(n)}function Q1(n=nr()){return/blackberry/i.test(n)}function Y1(n=nr()){return/webos/i.test(n)}function Sb(n=nr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function h4(n=nr()){var e;return Sb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p4(){return Rj()&&document.documentMode===10}function W1(n=nr()){return Sb(n)||K1(n)||Y1(n)||Q1(n)||/windows phone/i.test(n)||G1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(n,e=[]){let t;switch(n){case"Browser":t=CR(nr());break;case"Worker":t=`${CR(nr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(n,e={}){return Ro(n,"GET","/v2/passwordPolicy",xo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=6;class v4{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:y4,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IR(this),this.idTokenSubscription=new IR(this),this.beforeStateQueue=new m4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zs(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Qu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Om(this,{idToken:e}),r=await Si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ur(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(Xs(this));const t=e?rr(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await g4(this),t=new v4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await f4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zs(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await Qu.create(this,[Zs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&KU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ao(n){return rr(n)}class IR{constructor(e){this.auth=e,this.observer=null,this.addObserver=Dj(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b4(n){hg=n}function X1(n){return hg.loadJS(n)}function w4(){return hg.recaptchaEnterpriseScript}function E4(){return hg.gapiScript}function T4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class S4{constructor(){this.enterprise=new x4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class x4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const R4="recaptcha-enterprise",J1="NO_RECAPTCHA";class A4{constructor(e){this.type=R4,this.auth=Ao(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{i4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new r4(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,u(h.siteKey)}}).catch(f=>{c(f)})})}function s(o,u,c){const f=window.grecaptcha;SR(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{u(h)}).catch(()=>{u(J1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S4().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&SR(window.grecaptcha))s(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=w4();f.length!==0&&(f+=c),X1(f).then(()=>{s(c,o,u)}).catch(h=>{u(h)})}}).catch(c=>{u(c)})})}}async function OR(n,e,t,r=!1,s=!1){const o=new A4(n);let u;if(s)u=J1;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function p0(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await OR(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await OR(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(n,e){const t=_b(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(xl(o,e??{}))return s;hi(s,"already-initialized")}return t.initialize({options:e})}function I4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Zs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O4(n,e,t){const r=Ao(n);Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=eI(e),{host:u,port:c}=N4(e),f=c===null?"":`:${c}`,h={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ze(xl(h,r.config.emulator)&&xl(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,k4()}function eI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function N4(n){const e=eI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:NR(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:NR(u)}}}function NR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function k4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ws("not implemented")}_getIdTokenResponse(e){return Ws("not implemented")}_linkToIdToken(e,t){return Ws("not implemented")}_getReauthenticationResolver(e){return Ws("not implemented")}}async function P4(n,e){return Ro(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(n,e){return uh(n,"POST","/v1/accounts:signInWithPassword",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(n,e){return uh(n,"POST","/v1/accounts:signInWithEmailLink",xo(n,e))}async function L4(n,e){return uh(n,"POST","/v1/accounts:signInWithEmailLink",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends xb{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Tf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Tf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p0(e,t,"signInWithPassword",D4);case"emailLink":return M4(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p0(e,r,"signUpPassword",P4);case"emailLink":return L4(e,{idToken:t,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(n,e){return uh(n,"POST","/v1/accounts:signInWithIdp",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="http://localhost";class Al extends xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=oh(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Al(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Yu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yu(e,t)}buildRequest(){const e={requestUri:V4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ah(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U4(n){const e=Zd(Xd(n)).link,t=e?Zd(Xd(e)).deep_link_id:null,r=Zd(Xd(n)).deep_link_id;return(r?Zd(Xd(r)).link:null)||r||t||e||n}class Rb{constructor(e){var t,r,s,o,u,c;const f=Zd(Xd(e)),h=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=j4((s=f.mode)!==null&&s!==void 0?s:null);Ze(h&&g&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=U4(e);try{return new Rb(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,t){return Tf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Rb.parseLink(t);return Ze(r,"argument-error"),Tf._fromEmailAndCode(e,r.code,r.tenantId)}}Nc.PROVIDER_ID="password";Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Ab{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends ch{constructor(){super("facebook.com")}static credential(e){return Al._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Al._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ys.credential(t,r)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends ch{constructor(){super("github.com")}static credential(e){return Al._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.GITHUB_SIGN_IN_METHOD="github.com";Ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends ch{constructor(){super("twitter.com")}static credential(e,t){return Al._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ka.credential(t,r)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(n,e){return uh(n,"POST","/v1/accounts:signUp",xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Si._fromIdTokenResponse(e,r,s),u=kR(r);return new Cl({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=kR(r);return new Cl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function kR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends la{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,km.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new km(e,t,r,s)}}function tI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?km._fromErrorAndOperation(n,o,e,r):o})}async function F4(n,e,t=!1){const r=await Ef(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Cl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(n,e,t=!1){const{auth:r}=n;if(Ur(r.app))return Promise.reject(Xs(r));const s="reauthenticate";try{const o=await Ef(n,tI(r,s,e,n),t);Ze(o.idToken,r,"internal-error");const u=Tb(o.idToken);Ze(u,r,"internal-error");const{sub:c}=u;return Ze(n.uid===c,r,"user-mismatch"),Cl._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&hi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(n,e,t=!1){if(Ur(n.app))return Promise.reject(Xs(n));const r="signIn",s=await tI(n,r,e),o=await Cl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function H4(n,e){return nI(Ao(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(n){const e=Ao(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $4(n,e,t){if(Ur(n.app))return Promise.reject(Xs(n));const r=Ao(n),u=await p0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z4).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&rI(n),f}),c=await Cl._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function q4(n,e,t){return Ur(n.app)?Promise.reject(Xs(n)):H4(rr(n),Nc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rI(n),r})}function G4(n,e,t,r){return rr(n).onIdTokenChanged(e,t,r)}function K4(n,e,t){return rr(n).beforeAuthStateChanged(e,t)}function Q4(n,e,t,r){return rr(n).onAuthStateChanged(e,t,r)}function Y4(n){return rr(n).signOut()}const Pm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pm,"1"),this.storage.removeItem(Pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=1e3,Z4=10;class sI extends iI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);p4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Z4):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},W4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sI.type="LOCAL";const X4=sI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI extends iI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aI.type="SESSION";const oI=aI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new pg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async h=>h(t.origin,o)),f=await J4(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const h=Cb("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function t9(n){ss().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function n9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function i9(){return lI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="firebaseLocalStorageDb",s9=1,Dm="firebaseLocalStorage",cI="fbase_key";class dh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mg(n,e){return n.transaction([Dm],e?"readwrite":"readonly").objectStore(Dm)}function a9(){const n=indexedDB.deleteDatabase(uI);return new dh(n).toPromise()}function m0(){const n=indexedDB.open(uI,s9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Dm,{keyPath:cI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Dm)?e(r):(r.close(),await a9(),e(await m0()))})})}async function PR(n,e,t){const r=mg(n,!0).put({[cI]:e,value:t});return new dh(r).toPromise()}async function o9(n,e){const t=mg(n,!1).get(e),r=await new dh(t).toPromise();return r===void 0?null:r.value}function DR(n,e){const t=mg(n,!0).delete(e);return new dh(t).toPromise()}const l9=800,u9=3;class dI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await m0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>u9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pg._getInstance(i9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await n9(),!this.activeServiceWorker)return;this.sender=new e9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await m0();return await PR(e,Pm,"1"),await DR(e,Pm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>PR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>o9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>DR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=mg(s,!1).getAll();return new dh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dI.type="LOCAL";const c9=dI;new lh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n,e){return e?Zs(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function d9(n){return nI(n.auth,new Ib(n),n.bypassAuthState)}function f9(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),B4(t,new Ib(n),n.bypassAuthState)}async function h9(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),F4(t,new Ib(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d9;case"linkViaPopup":case"linkViaRedirect":return h9;case"reauthViaPopup":case"reauthViaRedirect":return f9;default:hi(this.auth,"internal-error")}}resolve(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=new lh(2e3,1e4);async function m9(n,e,t){if(Ur(n.app))return Promise.reject(Ri(n,"operation-not-supported-in-this-environment"));const r=Ao(n);QU(n,e,Ab);const s=fI(r,t);return new dl(r,"signInViaPopup",e,s).executeNotNull()}class dl extends hI{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){ta(this.filter.length===1,"Popup operations only handle one event");const e=Cb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p9.get())};e()}}dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="pendingRedirect",lm=new Map;class y9 extends hI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=lm.get(this.auth._key());if(!e){try{const r=await v9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}lm.set(this.auth._key(),e)}return this.bypassAuthState||lm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v9(n,e){const t=w9(e),r=b9(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function _9(n,e){lm.set(n._key(),e)}function b9(n){return Zs(n._redirectPersistence)}function w9(n){return om(g9,n.config.apiKey,n.name)}async function E9(n,e,t=!1){if(Ur(n.app))return Promise.reject(Xs(n));const r=Ao(n),s=fI(r,e),u=await new y9(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=10*60*1e3;class S9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x9(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!pI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ri(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T9&&this.cachedEventUids.clear(),this.cachedEventUids.has(MR(e))}saveEventToCache(e){this.cachedEventUids.add(MR(e)),this.lastProcessedEventTime=Date.now()}}function MR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function pI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x9(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(n,e={}){return Ro(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C9=/^https?/;async function I9(n){if(n.config.emulator)return;const{authorizedDomains:e}=await R9(n);for(const t of e)try{if(O9(t))return}catch{}hi(n,"unauthorized-domain")}function O9(n){const e=f0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!C9.test(t))return!1;if(A9.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=new lh(3e4,6e4);function LR(){const n=ss().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function k9(n){return new Promise((e,t)=>{var r,s,o;function u(){LR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LR(),t(Ri(n,"network-request-failed"))},timeout:N9.get()})}if(!((s=(r=ss().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ss().gapi)===null||o===void 0)&&o.load)u();else{const c=T4("iframefcb");return ss()[c]=()=>{gapi.load?u():t(Ri(n,"network-request-failed"))},X1(`${E4()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw um=null,e})}let um=null;function P9(n){return um=um||k9(n),um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new lh(5e3,15e3),M9="__/auth/iframe",L9="emulator/auth/iframe",V9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U9(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Eb(e,L9):`https://${n.config.authDomain}/${M9}`,r={apiKey:e.apiKey,appName:n.name,v:Oc},s=j9.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ah(r).slice(1)}`}async function z9(n){const e=await P9(n),t=ss().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:U9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V9,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ri(n,"network-request-failed"),c=ss().setTimeout(()=>{o(u)},D9.get());function f(){ss().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B9=500,H9=600,$9="_blank",q9="http://localhost";class VR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G9(n,e,t,r=B9,s=H9){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},F9),{width:r.toString(),height:s.toString(),top:o,left:u}),h=nr().toLowerCase();t&&(c=q1(h)?$9:t),H1(h)&&(e=e||q9,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[w,S])=>`${_}${w}=${S},`,"");if(h4(h)&&c!=="_self")return K9(e||"",c),new VR(null);const v=window.open(e||"",c,g);Ze(v,n,"popup-blocked");try{v.focus()}catch{}return new VR(v)}function K9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9="__/auth/handler",Y9="emulator/auth/handler",W9=encodeURIComponent("fac");async function jR(n,e,t,r,s,o){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Oc,eventId:s};if(e instanceof Ab){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Pj(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof ch){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),h=f?`#${W9}=${encodeURIComponent(f)}`:"";return`${Z9(n)}?${ah(c).slice(1)}${h}`}function Z9({config:n}){return n.emulator?Eb(n,Y9):`https://${n.authDomain}/${Q9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="webStorageSupport";class X9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oI,this._completeRedirectFn=E9,this._overrideRedirectResult=_9}async _openPopup(e,t,r,s){var o;ta((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await jR(e,t,r,f0(),s);return G9(e,u,Cb())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await jR(e,t,r,f0(),s);return t9(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ta(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await z9(e),r=new S9(e);return t.register("authEvent",s=>(Ze(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(p_,{type:p_},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[p_];u!==void 0&&t(!!u),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=I9(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return W1()||$1()||Sb()}}const J9=X9;var UR="@firebase/auth",zR="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n3(n){pc(new Rl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Ze(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z1(n)},h=new _4(r,s,o,f);return I4(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pc(new Rl("auth-internal",e=>{const t=Ao(e.getProvider("auth").getImmediate());return(r=>new e3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ao(UR,zR,t3(n)),ao(UR,zR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=5*60,i3=I1("authIdTokenMaxAge")||r3;let FR=null;const s3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>i3)return;const s=t==null?void 0:t.token;FR!==s&&(FR=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mI(n=P1()){const e=_b(n,"auth");if(e.isInitialized())return e.getImmediate();const t=C4(n,{popupRedirectResolver:J9,persistence:[c9,X4,oI]}),r=I1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=s3(o.toString());K4(t,u,()=>u(t.currentUser)),G4(t,c=>u(c))}}const s=A1("auth");return s&&O4(t,`http://${s}`),t}function a3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}b4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Ri("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",a3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n3("Browser");var o3="firebase",l3="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ao(o3,l3,"app");var BR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,gI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function N(){}N.prototype=I.prototype,P.D=I.prototype,P.prototype=new N,P.prototype.constructor=P,P.C=function(M,F,$){for(var V=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)V[_e-2]=arguments[_e];return I.prototype[F].apply(M,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,I,N){N||(N=0);var M=Array(16);if(typeof I=="string")for(var F=0;16>F;++F)M[F]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(F=0;16>F;++F)M[F]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=P.g[0],N=P.g[1],F=P.g[2];var $=P.g[3],V=I+($^N&(F^$))+M[0]+3614090360&4294967295;I=N+(V<<7&4294967295|V>>>25),V=$+(F^I&(N^F))+M[1]+3905402710&4294967295,$=I+(V<<12&4294967295|V>>>20),V=F+(N^$&(I^N))+M[2]+606105819&4294967295,F=$+(V<<17&4294967295|V>>>15),V=N+(I^F&($^I))+M[3]+3250441966&4294967295,N=F+(V<<22&4294967295|V>>>10),V=I+($^N&(F^$))+M[4]+4118548399&4294967295,I=N+(V<<7&4294967295|V>>>25),V=$+(F^I&(N^F))+M[5]+1200080426&4294967295,$=I+(V<<12&4294967295|V>>>20),V=F+(N^$&(I^N))+M[6]+2821735955&4294967295,F=$+(V<<17&4294967295|V>>>15),V=N+(I^F&($^I))+M[7]+4249261313&4294967295,N=F+(V<<22&4294967295|V>>>10),V=I+($^N&(F^$))+M[8]+1770035416&4294967295,I=N+(V<<7&4294967295|V>>>25),V=$+(F^I&(N^F))+M[9]+2336552879&4294967295,$=I+(V<<12&4294967295|V>>>20),V=F+(N^$&(I^N))+M[10]+4294925233&4294967295,F=$+(V<<17&4294967295|V>>>15),V=N+(I^F&($^I))+M[11]+2304563134&4294967295,N=F+(V<<22&4294967295|V>>>10),V=I+($^N&(F^$))+M[12]+1804603682&4294967295,I=N+(V<<7&4294967295|V>>>25),V=$+(F^I&(N^F))+M[13]+4254626195&4294967295,$=I+(V<<12&4294967295|V>>>20),V=F+(N^$&(I^N))+M[14]+2792965006&4294967295,F=$+(V<<17&4294967295|V>>>15),V=N+(I^F&($^I))+M[15]+1236535329&4294967295,N=F+(V<<22&4294967295|V>>>10),V=I+(F^$&(N^F))+M[1]+4129170786&4294967295,I=N+(V<<5&4294967295|V>>>27),V=$+(N^F&(I^N))+M[6]+3225465664&4294967295,$=I+(V<<9&4294967295|V>>>23),V=F+(I^N&($^I))+M[11]+643717713&4294967295,F=$+(V<<14&4294967295|V>>>18),V=N+($^I&(F^$))+M[0]+3921069994&4294967295,N=F+(V<<20&4294967295|V>>>12),V=I+(F^$&(N^F))+M[5]+3593408605&4294967295,I=N+(V<<5&4294967295|V>>>27),V=$+(N^F&(I^N))+M[10]+38016083&4294967295,$=I+(V<<9&4294967295|V>>>23),V=F+(I^N&($^I))+M[15]+3634488961&4294967295,F=$+(V<<14&4294967295|V>>>18),V=N+($^I&(F^$))+M[4]+3889429448&4294967295,N=F+(V<<20&4294967295|V>>>12),V=I+(F^$&(N^F))+M[9]+568446438&4294967295,I=N+(V<<5&4294967295|V>>>27),V=$+(N^F&(I^N))+M[14]+3275163606&4294967295,$=I+(V<<9&4294967295|V>>>23),V=F+(I^N&($^I))+M[3]+4107603335&4294967295,F=$+(V<<14&4294967295|V>>>18),V=N+($^I&(F^$))+M[8]+1163531501&4294967295,N=F+(V<<20&4294967295|V>>>12),V=I+(F^$&(N^F))+M[13]+2850285829&4294967295,I=N+(V<<5&4294967295|V>>>27),V=$+(N^F&(I^N))+M[2]+4243563512&4294967295,$=I+(V<<9&4294967295|V>>>23),V=F+(I^N&($^I))+M[7]+1735328473&4294967295,F=$+(V<<14&4294967295|V>>>18),V=N+($^I&(F^$))+M[12]+2368359562&4294967295,N=F+(V<<20&4294967295|V>>>12),V=I+(N^F^$)+M[5]+4294588738&4294967295,I=N+(V<<4&4294967295|V>>>28),V=$+(I^N^F)+M[8]+2272392833&4294967295,$=I+(V<<11&4294967295|V>>>21),V=F+($^I^N)+M[11]+1839030562&4294967295,F=$+(V<<16&4294967295|V>>>16),V=N+(F^$^I)+M[14]+4259657740&4294967295,N=F+(V<<23&4294967295|V>>>9),V=I+(N^F^$)+M[1]+2763975236&4294967295,I=N+(V<<4&4294967295|V>>>28),V=$+(I^N^F)+M[4]+1272893353&4294967295,$=I+(V<<11&4294967295|V>>>21),V=F+($^I^N)+M[7]+4139469664&4294967295,F=$+(V<<16&4294967295|V>>>16),V=N+(F^$^I)+M[10]+3200236656&4294967295,N=F+(V<<23&4294967295|V>>>9),V=I+(N^F^$)+M[13]+681279174&4294967295,I=N+(V<<4&4294967295|V>>>28),V=$+(I^N^F)+M[0]+3936430074&4294967295,$=I+(V<<11&4294967295|V>>>21),V=F+($^I^N)+M[3]+3572445317&4294967295,F=$+(V<<16&4294967295|V>>>16),V=N+(F^$^I)+M[6]+76029189&4294967295,N=F+(V<<23&4294967295|V>>>9),V=I+(N^F^$)+M[9]+3654602809&4294967295,I=N+(V<<4&4294967295|V>>>28),V=$+(I^N^F)+M[12]+3873151461&4294967295,$=I+(V<<11&4294967295|V>>>21),V=F+($^I^N)+M[15]+530742520&4294967295,F=$+(V<<16&4294967295|V>>>16),V=N+(F^$^I)+M[2]+3299628645&4294967295,N=F+(V<<23&4294967295|V>>>9),V=I+(F^(N|~$))+M[0]+4096336452&4294967295,I=N+(V<<6&4294967295|V>>>26),V=$+(N^(I|~F))+M[7]+1126891415&4294967295,$=I+(V<<10&4294967295|V>>>22),V=F+(I^($|~N))+M[14]+2878612391&4294967295,F=$+(V<<15&4294967295|V>>>17),V=N+($^(F|~I))+M[5]+4237533241&4294967295,N=F+(V<<21&4294967295|V>>>11),V=I+(F^(N|~$))+M[12]+1700485571&4294967295,I=N+(V<<6&4294967295|V>>>26),V=$+(N^(I|~F))+M[3]+2399980690&4294967295,$=I+(V<<10&4294967295|V>>>22),V=F+(I^($|~N))+M[10]+4293915773&4294967295,F=$+(V<<15&4294967295|V>>>17),V=N+($^(F|~I))+M[1]+2240044497&4294967295,N=F+(V<<21&4294967295|V>>>11),V=I+(F^(N|~$))+M[8]+1873313359&4294967295,I=N+(V<<6&4294967295|V>>>26),V=$+(N^(I|~F))+M[15]+4264355552&4294967295,$=I+(V<<10&4294967295|V>>>22),V=F+(I^($|~N))+M[6]+2734768916&4294967295,F=$+(V<<15&4294967295|V>>>17),V=N+($^(F|~I))+M[13]+1309151649&4294967295,N=F+(V<<21&4294967295|V>>>11),V=I+(F^(N|~$))+M[4]+4149444226&4294967295,I=N+(V<<6&4294967295|V>>>26),V=$+(N^(I|~F))+M[11]+3174756917&4294967295,$=I+(V<<10&4294967295|V>>>22),V=F+(I^($|~N))+M[2]+718787259&4294967295,F=$+(V<<15&4294967295|V>>>17),V=N+($^(F|~I))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,P.g[2]=P.g[2]+F&4294967295,P.g[3]=P.g[3]+$&4294967295}r.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var N=I-this.blockSize,M=this.B,F=this.h,$=0;$<I;){if(F==0)for(;$<=N;)s(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<I;)if(M[F++]=P.charCodeAt($++),F==this.blockSize){s(this,M),F=0;break}}else for(;$<I;)if(M[F++]=P[$++],F==this.blockSize){s(this,M),F=0;break}}this.h=F,this.o+=I},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var N=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=N&255,N/=256;for(this.u(P),P=Array(16),I=N=0;4>I;++I)for(var M=0;32>M;M+=8)P[N++]=this.g[I]>>>M&255;return P};function o(P,I){var N=c;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=I(P)}function u(P,I){this.h=I;for(var N=[],M=!0,F=P.length-1;0<=F;F--){var $=P[F]|0;M&&$==I||(N[F]=$,M=!1)}this.g=N}var c={};function f(P){return-128<=P&&128>P?o(P,function(I){return new u([I|0],0>I?-1:0)}):new u([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return C(h(-P));for(var I=[],N=1,M=0;P>=N;M++)I[M]=P/N|0,N*=4294967296;return new u(I,0)}function g(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return C(g(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=h(Math.pow(I,8)),M=v,F=0;F<P.length;F+=8){var $=Math.min(8,P.length-F),V=parseInt(P.substring(F,F+$),I);8>$?($=h(Math.pow(I,$)),M=M.j($).add(h(V))):(M=M.j(N),M=M.add(h(V)))}return M}var v=f(0),_=f(1),w=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-C(this).m();for(var P=0,I=1,N=0;N<this.g.length;N++){var M=this.i(N);P+=(0<=M?M:4294967296+M)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(A(this))return"-"+C(this).toString(P);for(var I=h(Math.pow(P,6)),N=this,M="";;){var F=q(N,I).g;N=k(N,F.j(I));var $=((0<N.g.length?N.g[0]:N.h)>>>0).toString(P);if(N=F,S(N))return $+M;for(;6>$.length;)$="0"+$;M=$+M}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function A(P){return P.h==-1}n.l=function(P){return P=k(this,P),A(P)?-1:S(P)?0:1};function C(P){for(var I=P.g.length,N=[],M=0;M<I;M++)N[M]=~P.g[M];return new u(N,~P.h).add(_)}n.abs=function(){return A(this)?C(this):this},n.add=function(P){for(var I=Math.max(this.g.length,P.g.length),N=[],M=0,F=0;F<=I;F++){var $=M+(this.i(F)&65535)+(P.i(F)&65535),V=($>>>16)+(this.i(F)>>>16)+(P.i(F)>>>16);M=V>>>16,$&=65535,V&=65535,N[F]=V<<16|$}return new u(N,N[N.length-1]&-2147483648?-1:0)};function k(P,I){return P.add(C(I))}n.j=function(P){if(S(this)||S(P))return v;if(A(this))return A(P)?C(this).j(C(P)):C(C(this).j(P));if(A(P))return C(this.j(C(P)));if(0>this.l(w)&&0>P.l(w))return h(this.m()*P.m());for(var I=this.g.length+P.g.length,N=[],M=0;M<2*I;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<P.g.length;F++){var $=this.i(M)>>>16,V=this.i(M)&65535,_e=P.i(F)>>>16,Ee=P.i(F)&65535;N[2*M+2*F]+=V*Ee,j(N,2*M+2*F),N[2*M+2*F+1]+=$*Ee,j(N,2*M+2*F+1),N[2*M+2*F+1]+=V*_e,j(N,2*M+2*F+1),N[2*M+2*F+2]+=$*_e,j(N,2*M+2*F+2)}for(M=0;M<I;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=I;M<2*I;M++)N[M]=0;return new u(N,0)};function j(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function L(P,I){this.g=P,this.h=I}function q(P,I){if(S(I))throw Error("division by zero");if(S(P))return new L(v,v);if(A(P))return I=q(C(P),I),new L(C(I.g),C(I.h));if(A(I))return I=q(P,C(I)),new L(C(I.g),I.h);if(30<P.g.length){if(A(P)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var N=_,M=I;0>=M.l(P);)N=H(N),M=H(M);var F=U(N,1),$=U(M,1);for(M=U(M,2),N=U(N,2);!S(M);){var V=$.add(M);0>=V.l(P)&&(F=F.add(N),$=V),M=U(M,1),N=U(N,1)}return I=k(P,F.j(I)),new L(F,I)}for(F=v;0<=P.l(I);){for(N=Math.max(1,Math.floor(P.m()/I.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),$=h(N),V=$.j(I);A(V)||0<V.l(P);)N-=M,$=h(N),V=$.j(I);S($)&&($=_),F=F.add($),P=k(P,V)}return new L(F,P)}n.A=function(P){return q(this,P).h},n.and=function(P){for(var I=Math.max(this.g.length,P.g.length),N=[],M=0;M<I;M++)N[M]=this.i(M)&P.i(M);return new u(N,this.h&P.h)},n.or=function(P){for(var I=Math.max(this.g.length,P.g.length),N=[],M=0;M<I;M++)N[M]=this.i(M)|P.i(M);return new u(N,this.h|P.h)},n.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),N=[],M=0;M<I;M++)N[M]=this.i(M)^P.i(M);return new u(N,this.h^P.h)};function H(P){for(var I=P.g.length+1,N=[],M=0;M<I;M++)N[M]=P.i(M)<<1|P.i(M-1)>>>31;return new u(N,P.h)}function U(P,I){var N=I>>5;I%=32;for(var M=P.g.length-N,F=[],$=0;$<M;$++)F[$]=0<I?P.i($+N)>>>I|P.i($+N+1)<<32-I:P.i($+N);return new u(F,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=g,oo=u}).apply(typeof BR<"u"?BR:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yI,Jd,vI,cm,g0,_I,bI,wI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,b,T){return p==Array.prototype||p==Object.prototype||(p[b]=T.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var b=0;b<p.length;++b){var T=p[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(p,b){if(b)e:{var T=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var J=p[D];if(!(J in T))break e;T=T[J]}p=p[p.length-1],D=T[p],b=b(D),b!=D&&b!=null&&e(T,p,{configurable:!0,writable:!0,value:b})}}function o(p,b){p instanceof String&&(p+="");var T=0,D=!1,J={next:function(){if(!D&&T<p.length){var oe=T++;return{value:b(oe,p[oe]),done:!1}}return D=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(p){return p||function(){return o(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(p){var b=typeof p;return b=b!="object"?b:p?Array.isArray(p)?"array":b:"null",b=="array"||b=="object"&&typeof p.length=="number"}function h(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function g(p,b,T){return p.call.apply(p.bind,arguments)}function v(p,b,T){if(!p)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,D),p.apply(b,J)}}return function(){return p.apply(b,arguments)}}function _(p,b,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function w(p,b){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function S(p,b){function T(){}T.prototype=b.prototype,p.aa=b.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(D,J,oe){for(var Te=Array(arguments.length-2),At=2;At<arguments.length;At++)Te[At-2]=arguments[At];return b.prototype[J].apply(D,Te)}}function A(p){const b=p.length;if(0<b){const T=Array(b);for(let D=0;D<b;D++)T[D]=p[D];return T}return[]}function C(p,b){for(let T=1;T<arguments.length;T++){const D=arguments[T];if(f(D)){const J=p.length||0,oe=D.length||0;p.length=J+oe;for(let Te=0;Te<oe;Te++)p[J+Te]=D[Te]}else p.push(D)}}class k{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function j(p){return/^[\s\xa0]*$/.test(p)}function L(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function q(p){return q[" "](p),p}q[" "]=function(){};var H=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function U(p,b,T){for(const D in p)b.call(T,p[D],D,p)}function P(p,b){for(const T in p)b.call(void 0,p[T],T,p)}function I(p){const b={};for(const T in p)b[T]=p[T];return b}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,b){let T,D;for(let J=1;J<arguments.length;J++){D=arguments[J];for(T in D)p[T]=D[T];for(let oe=0;oe<N.length;oe++)T=N[oe],Object.prototype.hasOwnProperty.call(D,T)&&(p[T]=D[T])}}function F(p){var b=1;p=p.split(":");const T=[];for(;0<b&&p.length;)T.push(p.shift()),b--;return p.length&&T.push(p.join(":")),T}function $(p){c.setTimeout(()=>{throw p},0)}function V(){var p=ue;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class _e{constructor(){this.h=this.g=null}add(b,T){const D=Ee.get();D.set(b,T),this.h?this.h.next=D:this.g=D,this.h=D}}var Ee=new k(()=>new K,p=>p.reset());class K{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Z=!1,ue=new _e,z=()=>{const p=c.Promise.resolve(void 0);ae=()=>{p.then(re)}};var re=()=>{for(var p;p=V();){try{p.h.call(p.g)}catch(T){$(T)}var b=Ee;b.j(p),100>b.h&&(b.h++,p.next=b.g,b.g=p)}Z=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return p}();function Le(p,b){if(le.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget){if(H){e:{try{q(b.nodeName);var J=!0;break e}catch{}J=!1}J||(b=null)}}else T=="mouseover"?b=p.fromElement:T=="mouseout"&&(b=p.toElement);this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Le.aa.h.call(this)}}S(Le,le);var xe={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function at(p,b,T,D,J){this.listener=p,this.proxy=null,this.src=b,this.type=T,this.capture=!!D,this.ha=J,this.key=++Ve,this.da=this.fa=!1}function Ue(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function We(p){this.src=p,this.g={},this.h=0}We.prototype.add=function(p,b,T,D,J){var oe=p.toString();p=this.g[oe],p||(p=this.g[oe]=[],this.h++);var Te=en(p,b,D,J);return-1<Te?(b=p[Te],T||(b.fa=!1)):(b=new at(b,this.src,oe,!!D,J),b.fa=T,p.push(b)),b};function ot(p,b){var T=b.type;if(T in p.g){var D=p.g[T],J=Array.prototype.indexOf.call(D,b,void 0),oe;(oe=0<=J)&&Array.prototype.splice.call(D,J,1),oe&&(Ue(b),p.g[T].length==0&&(delete p.g[T],p.h--))}}function en(p,b,T,D){for(var J=0;J<p.length;++J){var oe=p[J];if(!oe.da&&oe.listener==b&&oe.capture==!!T&&oe.ha==D)return J}return-1}var Yt="closure_lm_"+(1e6*Math.random()|0),Sr={};function $r(p,b,T,D,J){if(Array.isArray(b)){for(var oe=0;oe<b.length;oe++)$r(p,b[oe],T,D,J);return null}return T=da(T),p&&p[we]?p.K(b,T,h(D)?!!D.capture:!1,J):un(p,b,T,!1,D,J)}function un(p,b,T,D,J,oe){if(!b)throw Error("Invalid event type");var Te=h(J)?!!J.capture:!!J,At=Gr(p);if(At||(p[Yt]=At=new We(p)),T=At.add(b,T,D,Te,oe),T.proxy)return T;if(D=Po(),T.proxy=D,D.src=p,D.listener=T,p.addEventListener)be||(J=Te),J===void 0&&(J=!1),p.addEventListener(b.toString(),D,J);else if(p.attachEvent)p.attachEvent(bs(b.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Po(){function p(T){return b.call(p.src,p.listener,T)}const b=pi;return p}function qr(p,b,T,D,J){if(Array.isArray(b))for(var oe=0;oe<b.length;oe++)qr(p,b[oe],T,D,J);else D=h(D)?!!D.capture:!!D,T=da(T),p&&p[we]?(p=p.i,b=String(b).toString(),b in p.g&&(oe=p.g[b],T=en(oe,T,D,J),-1<T&&(Ue(oe[T]),Array.prototype.splice.call(oe,T,1),oe.length==0&&(delete p.g[b],p.h--)))):p&&(p=Gr(p))&&(b=p.g[b.toString()],p=-1,b&&(p=en(b,T,D,J)),(T=-1<p?b[p]:null)&&ua(T))}function ua(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[we])ot(b.i,p);else{var T=p.type,D=p.proxy;b.removeEventListener?b.removeEventListener(T,D,p.capture):b.detachEvent?b.detachEvent(bs(T),D):b.addListener&&b.removeListener&&b.removeListener(D),(T=Gr(b))?(ot(T,p),T.h==0&&(T.src=null,b[Yt]=null)):Ue(p)}}}function bs(p){return p in Sr?Sr[p]:Sr[p]="on"+p}function pi(p,b){if(p.da)p=!0;else{b=new Le(b,this);var T=p.listener,D=p.ha||p.src;p.fa&&ua(p),p=T.call(D,b)}return p}function Gr(p){return p=p[Yt],p instanceof We?p:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function da(p){return typeof p=="function"?p:(p[ca]||(p[ca]=function(b){return p.handleEvent(b)}),p[ca])}function Dt(){fe.call(this),this.i=new We(this),this.M=this,this.F=null}S(Dt,fe),Dt.prototype[we]=!0,Dt.prototype.removeEventListener=function(p,b,T,D){qr(this,p,b,T,D)};function ft(p,b){var T,D=p.F;if(D)for(T=[];D;D=D.F)T.push(D);if(p=p.M,D=b.type||b,typeof b=="string")b=new le(b,p);else if(b instanceof le)b.target=b.target||p;else{var J=b;b=new le(D,p),M(b,J)}if(J=!0,T)for(var oe=T.length-1;0<=oe;oe--){var Te=b.g=T[oe];J=Kn(Te,D,!0,b)&&J}if(Te=b.g=p,J=Kn(Te,D,!0,b)&&J,J=Kn(Te,D,!1,b)&&J,T)for(oe=0;oe<T.length;oe++)Te=b.g=T[oe],J=Kn(Te,D,!1,b)&&J}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var p=this.i,b;for(b in p.g){for(var T=p.g[b],D=0;D<T.length;D++)Ue(T[D]);delete p.g[b],p.h--}}this.F=null},Dt.prototype.K=function(p,b,T,D){return this.i.add(String(p),b,!1,T,D)},Dt.prototype.L=function(p,b,T,D){return this.i.add(String(p),b,!0,T,D)};function Kn(p,b,T,D){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();for(var J=!0,oe=0;oe<b.length;++oe){var Te=b[oe];if(Te&&!Te.da&&Te.capture==T){var At=Te.listener,wn=Te.ha||Te.src;Te.fa&&ot(p.i,Te),J=At.call(wn,D)!==!1&&J}}return J&&!D.defaultPrevented}function hn(p,b,T){if(typeof p=="function")T&&(p=_(p,T));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:c.setTimeout(p,b||0)}function Kl(p){p.g=hn(()=>{p.g=null,p.i&&(p.i=!1,Kl(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class Kr extends fe{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Kl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(p){fe.call(this),this.h=p,this.g={}}S(Ni,fe);var ki=[];function Pi(p){U(p.g,function(b,T){this.g.hasOwnProperty(T)&&ua(b)},p),p.g={}}Ni.prototype.N=function(){Ni.aa.N.call(this),Pi(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=c.JSON.stringify,ws=c.JSON.parse,Qr=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function fa(){}fa.prototype.h=null;function Es(p){return p.h||(p.h=p.i())}function Do(){}var Yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){le.call(this,"d")}S(mi,le);function ha(){le.call(this,"c")}S(ha,le);var or={},Di=null;function Mi(){return Di=Di||new Dt}or.La="serverreachability";function pa(p){le.call(this,or.La,p)}S(pa,le);function G(p){const b=Mi();ft(b,new pa(b))}or.STAT_EVENT="statevent";function X(p,b){le.call(this,or.STAT_EVENT,p),this.stat=b}S(X,le);function te(p){const b=Mi();ft(b,new X(b,p))}or.Ma="timingevent";function he(p,b){le.call(this,or.Ma,p),this.size=b}S(he,le);function ve(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},b)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function He(p,b,T,D,J,oe){p.info(function(){if(p.g)if(oe)for(var Te="",At=oe.split("&"),wn=0;wn<At.length;wn++){var Ct=At[wn].split("=");if(1<Ct.length){var kn=Ct[0];Ct=Ct[1];var En=kn.split("_");Te=2<=En.length&&En[1]=="type"?Te+(kn+"="+Ct+"&"):Te+(kn+"=redacted&")}}else Te=null;else Te=oe;return"XMLHTTP REQ ("+D+") [attempt "+J+"]: "+b+`
`+T+`
`+Te})}function Ie(p,b,T,D,J,oe,Te){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+J+"]: "+b+`
`+T+`
`+oe+" "+Te})}function De(p,b,T,D){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+qe(p,T)+(D?" "+D:"")})}function ze(p,b){p.info(function(){return"TIMEOUT: "+b})}Ae.prototype.info=function(){};function qe(p,b){if(!p.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var D=T[p];if(!(2>D.length)){var J=D[1];if(Array.isArray(J)&&!(1>J.length)){var oe=J[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var Te=1;Te<J.length;Te++)J[Te]=""}}}}return xr(T)}catch{return b}}var Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vt;function Lt(){}S(Lt,fa),Lt.prototype.g=function(){return new XMLHttpRequest},Lt.prototype.i=function(){return{}},vt=new Lt;function kt(p,b,T,D){this.j=p,this.i=b,this.l=T,this.R=D||1,this.U=new Ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var gt={},Wr={};function bn(p,b,T){p.L=1,p.v=Vo(Cr(b)),p.m=T,p.P=!0,lr(p,null)}function lr(p,b){p.F=Date.now(),Rr(p),p.A=Cr(p.v);var T=p.A,D=p.R;Array.isArray(D)||(D=[String(D)]),Gc(T.i,"t",D),p.C=0,T=p.j.J,p.h=new St,p.g=Dh(p.j,T?b:null,!p.m),0<p.O&&(p.M=new Kr(_(p.Y,p,p.g),p.O)),b=p.U,T=p.g,D=p.ca;var J="readystatechange";Array.isArray(J)||(J&&(ki[0]=J.toString()),J=ki);for(var oe=0;oe<J.length;oe++){var Te=$r(T,J[oe],D||b.handleEvent,!1,b.h||b);if(!Te)break;b.g[Te.key]=Te}b=p.H?I(p.H):{},p.m?(p.u||(p.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,b)):(p.u="GET",p.g.ea(p.A,p.u,null,b)),G(),He(p.i,p.u,p.A,p.l,p.R,p.m)}kt.prototype.ca=function(p){p=p.target;const b=this.M;b&&ti(p)==3?b.j():this.Y(p)},kt.prototype.Y=function(p){try{if(p==this.g)e:{const En=ti(this.g);var b=this.g.Ba();const Os=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||Rh(this.g)))){this.J||En!=4||b==7||(b==8||0>=Os?G(3):G(2)),Qn(this);var T=this.g.Z();this.X=T;t:if(Vn(this)){var D=Rh(this.g);p="";var J=D.length,oe=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rt(this),ur(this);var Te="";break t}this.h.i=new c.TextDecoder}for(b=0;b<J;b++)this.h.h=!0,p+=this.h.i.decode(D[b],{stream:!(oe&&b==J-1)});D.length=0,this.h.g+=p,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=T==200,Ie(this.i,this.u,this.A,this.l,this.R,En,T),this.o){if(this.T&&!this.K){t:{if(this.g){var At,wn=this.g;if((At=wn.g?wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(At)){var Ct=At;break t}}Ct=null}if(T=Ct)De(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,T);else{this.o=!1,this.s=3,te(12),rt(this),ur(this);break e}}if(this.P){T=!0;let Un;for(;!this.J&&this.C<Te.length;)if(Un=Li(this,Te),Un==Wr){En==4&&(this.s=4,te(14),T=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==gt){this.s=4,te(15),De(this.i,this.l,Te,"[Invalid Chunk]"),T=!1;break}else De(this.i,this.l,Un,null),pn(this,Un);if(Vn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||Te.length!=0||this.h.h||(this.s=1,te(16),T=!1),this.o=this.o&&T,!T)De(this.i,this.l,Te,"[Invalid Chunked Response]"),rt(this),ur(this);else if(0<Te.length&&!this.W){this.W=!0;var kn=this.j;kn.g==this&&kn.ba&&!kn.M&&(kn.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),qo(kn),kn.M=!0,te(11))}}else De(this.i,this.l,Te,null),pn(this,Te);En==4&&rt(this),this.o&&!this.J&&(En==4?Nh(this.j,this):(this.o=!1,Rr(this)))}else ey(this.g),T==400&&0<Te.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),rt(this),ur(this)}}}catch{}finally{}};function Vn(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Li(p,b){var T=p.C,D=b.indexOf(`
`,T);return D==-1?Wr:(T=Number(b.substring(T,D)),isNaN(T)?gt:(D+=1,D+T>b.length?Wr:(b=b.slice(D,D+T),p.C=D+T,b)))}kt.prototype.cancel=function(){this.J=!0,rt(this)};function Rr(p){p.S=Date.now()+p.I,ma(p,p.I)}function ma(p,b){if(p.B!=null)throw Error("WatchDog timer not null");p.B=ve(_(p.ba,p),b)}function Qn(p){p.B&&(c.clearTimeout(p.B),p.B=null)}kt.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ze(this.i,this.A),this.L!=2&&(G(),te(17)),rt(this),this.s=2,ur(this)):ma(this,this.S-p)};function ur(p){p.j.G==0||p.J||Nh(p.j,p)}function rt(p){Qn(p);var b=p.M;b&&typeof b.ma=="function"&&b.ma(),p.M=null,Pi(p.U),p.g&&(b=p.g,p.g=null,b.abort(),b.ma())}function pn(p,b){try{var T=p.j;if(T.G!=0&&(T.g==p||Zr(T.h,p))){if(!p.K&&Zr(T.h,p)&&T.G==3){try{var D=T.Da.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var J=D;if(J[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)nu(T),eu(T);else break e;Zc(T),te(18)}}else T.za=J[1],0<T.za-T.T&&37500>J[2]&&T.F&&T.v==0&&!T.C&&(T.C=ve(_(T.Za,T),6e3));if(1>=Kt(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Is(T,11)}else if((p.K||T.g==p)&&nu(T),!j(b))for(J=T.Da.g.parse(b),b=0;b<J.length;b++){let Ct=J[b];if(T.T=Ct[0],Ct=Ct[1],T.G==2)if(Ct[0]=="c"){T.K=Ct[1],T.ia=Ct[2];const kn=Ct[3];kn!=null&&(T.la=kn,T.j.info("VER="+T.la));const En=Ct[4];En!=null&&(T.Aa=En,T.j.info("SVER="+T.Aa));const Os=Ct[5];Os!=null&&typeof Os=="number"&&0<Os&&(D=1.5*Os,T.L=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Un=p.g;if(Un){const $i=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($i){var oe=D.h;oe.g||$i.indexOf("spdy")==-1&&$i.indexOf("quic")==-1&&$i.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Ts(oe,oe.h),oe.h=null))}if(D.D){const Jc=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Jc&&(D.ya=Jc,Ht(D.I,D.D,Jc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),D=T;var Te=p;if(D.qa=Ph(D,D.J?D.ia:null,D.W),Te.K){jn(D.h,Te);var At=Te,wn=D.L;wn&&(At.I=wn),At.B&&(Qn(At),Rr(At)),D.g=Te}else Ih(D);0<T.i.length&&tu(T)}else Ct[0]!="stop"&&Ct[0]!="close"||Is(T,7);else T.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?Is(T,7):Yc(T):Ct[0]!="noop"&&T.l&&T.l.ta(Ct),T.v=0)}}G(4)}catch{}}var Ar=class{constructor(p,b){this.g=p,this.map=b}};function gr(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vi(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Kt(p){return p.h?1:p.g?p.g.size:0}function Zr(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function Ts(p,b){p.g?p.g.add(b):p.h=b}function jn(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}gr.prototype.cancel=function(){if(this.i=Bc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Bc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const T of p.g.values())b=b.concat(T.D);return b}return A(p.i)}function Wg(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var b=[],T=p.length,D=0;D<T;D++)b.push(p[D]);return b}b=[],T=0;for(D in p)b[T++]=p[D];return b}function Ql(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var b=[];p=p.length;for(var T=0;T<p;T++)b.push(T);return b}b=[],T=0;for(const D in p)b[T++]=D;return b}}}function Hc(p,b){if(p.forEach&&typeof p.forEach=="function")p.forEach(b,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,b,void 0);else for(var T=Ql(p),D=Wg(p),J=D.length,oe=0;oe<J;oe++)b.call(void 0,D[oe],T&&T[oe],p)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zg(p,b){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var D=p[T].indexOf("="),J=null;if(0<=D){var oe=p[T].substring(0,D);J=p[T].substring(D+1)}else oe=p[T];b(oe,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function mn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof mn){this.h=p.h,Lo(this,p.j),this.o=p.o,this.g=p.g,ga(this,p.s),this.l=p.l;var b=p.i,T=new xs;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),Ss(this,T),this.m=p.m}else p&&(b=String(p).match(Mo))?(this.h=!1,Lo(this,b[1]||"",!0),this.o=Xr(b[2]||""),this.g=Xr(b[3]||"",!0),ga(this,b[4]),this.l=Xr(b[5]||"",!0),Ss(this,b[6]||"",!0),this.m=Xr(b[7]||"")):(this.h=!1,this.i=new xs(null,this.h))}mn.prototype.toString=function(){var p=[],b=this.j;b&&p.push(jo(b,$c,!0),":");var T=this.g;return(T||b=="file")&&(p.push("//"),(b=this.o)&&p.push(jo(b,$c,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(jo(T,T.charAt(0)=="/"?Xg:qc,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",jo(T,Yl)),p.join("")};function Cr(p){return new mn(p)}function Lo(p,b,T){p.j=T?Xr(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function ga(p,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);p.s=b}else p.s=null}function Ss(p,b,T){b instanceof xs?(p.i=b,Sh(p.i,p.h)):(T||(b=jo(b,Jg)),p.i=new xs(b,p.h))}function Ht(p,b,T){p.i.set(b,T)}function Vo(p){return Ht(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Xr(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function jo(p,b,T){return typeof p=="string"?(p=encodeURI(p).replace(b,Th),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Th(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var $c=/[#\/\?@]/g,qc=/[#\?:]/g,Xg=/[#\?]/g,Jg=/[#\?@]/g,Yl=/#/g;function xs(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function Jr(p){p.g||(p.g=new Map,p.h=0,p.i&&Zg(p.i,function(b,T){p.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=xs.prototype,n.add=function(p,b){Jr(this),this.i=null,p=ji(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(b),this.h+=1,this};function Rs(p,b){Jr(p),b=ji(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function As(p,b){return Jr(p),b=ji(p,b),p.g.has(b)}n.forEach=function(p,b){Jr(this),this.g.forEach(function(T,D){T.forEach(function(J){p.call(b,J,D,this)},this)},this)},n.na=function(){Jr(this);const p=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let D=0;D<b.length;D++){const J=p[D];for(let oe=0;oe<J.length;oe++)T.push(b[D])}return T},n.V=function(p){Jr(this);let b=[];if(typeof p=="string")As(this,p)&&(b=b.concat(this.g.get(ji(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)b=b.concat(p[T])}return b},n.set=function(p,b){return Jr(this),this.i=null,p=ji(this,p),As(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},n.get=function(p,b){return p?(p=this.V(p),0<p.length?String(p[0]):b):b};function Gc(p,b,T){Rs(p,b),0<T.length&&(p.i=null,p.g.set(ji(p,b),A(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var D=b[T];const oe=encodeURIComponent(String(D)),Te=this.V(D);for(D=0;D<Te.length;D++){var J=oe;Te[D]!==""&&(J+="="+encodeURIComponent(String(Te[D]))),p.push(J)}}return this.i=p.join("&")};function ji(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function Sh(p,b){b&&!p.j&&(Jr(p),p.i=null,p.g.forEach(function(T,D){var J=D.toLowerCase();D!=J&&(Rs(this,D),Gc(this,J,T))},p)),p.j=b}function Uo(p,b){const T=new Ae;if(c.Image){const D=new Image;D.onload=w(ei,T,"TestLoadImage: loaded",!0,b,D),D.onerror=w(ei,T,"TestLoadImage: error",!1,b,D),D.onabort=w(ei,T,"TestLoadImage: abort",!1,b,D),D.ontimeout=w(ei,T,"TestLoadImage: timeout",!1,b,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else b(!1)}function gi(p,b){const T=new Ae,D=new AbortController,J=setTimeout(()=>{D.abort(),ei(T,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:D.signal}).then(oe=>{clearTimeout(J),oe.ok?ei(T,"TestPingServer: ok",!0,b):ei(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(J),ei(T,"TestPingServer: error",!1,b)})}function ei(p,b,T,D,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),D(T)}catch{}}function zo(){this.g=new Qr}function Ui(p,b,T){const D=T||"";try{Hc(p,function(J,oe){let Te=J;h(J)&&(Te=xr(J)),b.push(D+oe+"="+encodeURIComponent(Te))})}catch(J){throw b.push(D+"type="+encodeURIComponent("_badmap")),J}}function ya(p){this.l=p.Ub||null,this.j=p.eb||!1}S(ya,fa),ya.prototype.g=function(){return new Cs(this.l,this.j)},ya.prototype.i=function(p){return function(){return p}}({});function Cs(p,b){Dt.call(this),this.D=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Cs,Dt),n=Cs.prototype,n.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=b,this.readyState=1,Fi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(b.body=p),(this.D||c).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?zi(this):Fi(this),this.readyState==3&&Kc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,zi(this))},n.Qa=function(p){this.g&&(this.response=p,zi(this))},n.ga=function(){this.g&&zi(this)};function zi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Fi(p)}n.setRequestHeader=function(p,b){this.u.append(p,b)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=b.next();return p.join(`\r
`)};function Fi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Qc(p){let b="";return U(p,function(T,D){b+=D,b+=":",b+=T,b+=`\r
`}),b}function Nn(p,b,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=Qc(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):Ht(p,b,T))}function Vt(p){Dt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Vt,Dt);var Wl=/^https?$/i,Fo=["POST","PUT"];n=Vt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,b,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vt.g(),this.v=this.o?Es(this.o):Es(vt),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(oe){xh(this,oe);return}if(p=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var J in D)T.set(J,D[J]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const oe of D.keys())T.set(oe,D.get(oe));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(oe=>oe.toLowerCase()=="content-type"),J=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Fo,b,void 0))||D||J||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Te]of T)this.g.setRequestHeader(oe,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bo(this),this.u=!0,this.g.send(p),this.u=!1}catch(oe){xh(this,oe)}};function xh(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.m=5,Zl(p),Bi(p)}function Zl(p){p.A||(p.A=!0,ft(p,"complete"),ft(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,ft(this,"complete"),ft(this,"abort"),Bi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xl(this):this.bb())},n.bb=function(){Xl(this)};function Xl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||ti(p)!=4||p.Z()!=2)){if(p.u&&ti(p)==4)hn(p.Ea,0,p);else if(ft(p,"readystatechange"),ti(p)==4){p.h=!1;try{const Te=p.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var D;if(D=Te===0){var J=String(p.D).match(Mo)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),D=!Wl.test(J?J.toLowerCase():"")}T=D}if(T)ft(p,"complete"),ft(p,"success");else{p.m=6;try{var oe=2<ti(p)?p.g.statusText:""}catch{oe=""}p.l=oe+" ["+p.Z()+"]",Zl(p)}}finally{Bi(p)}}}}function Bi(p,b){if(p.g){Bo(p);const T=p.g,D=p.v[0]?()=>{}:null;p.g=null,p.v=null,b||ft(p,"ready");try{T.onreadystatechange=D}catch{}}}function Bo(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function ti(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),ws(b)}};function Rh(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ey(p){const b={};p=(p.g&&2<=ti(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(j(p[D]))continue;var T=F(p[D]);const J=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const oe=b[J]||[];b[J]=oe,oe.push(T)}P(b,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(p,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||b}function Jl(p){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,p),this.cb=Ho("retryDelaySeedMs",1e4,p),this.Wa=Ho("forwardChannelMaxRetries",2,p),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new gr(p&&p.concurrentRequestLimit),this.Da=new zo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Jl.prototype,n.la=8,n.G=1,n.connect=function(p,b,T,D){te(0),this.W=p,this.H=b||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.I=Ph(this,null,this.W),tu(this)};function Yc(p){if(Ah(p),p.G==3){var b=p.U++,T=Cr(p.I);if(Ht(T,"SID",p.K),Ht(T,"RID",b),Ht(T,"TYPE","terminate"),$o(p,T),b=new kt(p,p.j,b),b.L=2,b.v=Vo(Cr(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.v,T=!0),T||(b.g=Dh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Rr(b)}kh(p)}function eu(p){p.g&&(qo(p),p.g.cancel(),p.g=null)}function Ah(p){eu(p),p.u&&(c.clearTimeout(p.u),p.u=null),nu(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function tu(p){if(!Vi(p.h)&&!p.s){p.s=!0;var b=p.Ga;ae||z(),Z||(ae(),Z=!0),ue.add(b,p),p.B=0}}function ty(p,b){return Kt(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=b.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=ve(_(p.Ga,p,b),Xc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const J=new kt(this,this.j,p);let oe=this.o;if(this.S&&(oe?(oe=I(oe),M(oe,this.S)):oe=this.S),this.m!==null||this.O||(J.H=oe,oe=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Ch(this,J,b),T=Cr(this.I),Ht(T,"RID",p),Ht(T,"CVER",22),this.D&&Ht(T,"X-HTTP-Session-Id",this.D),$o(this,T),oe&&(this.O?b="headers="+encodeURIComponent(String(Qc(oe)))+"&"+b:this.m&&Nn(T,this.m,oe)),Ts(this.h,J),this.Ua&&Ht(T,"TYPE","init"),this.P?(Ht(T,"$req",b),Ht(T,"SID","null"),J.T=!0,bn(J,T,null)):bn(J,T,b),this.G=2}}else this.G==3&&(p?Wc(this,p):this.i.length==0||Vi(this.h)||Wc(this))};function Wc(p,b){var T;b?T=b.l:T=p.U++;const D=Cr(p.I);Ht(D,"SID",p.K),Ht(D,"RID",T),Ht(D,"AID",p.T),$o(p,D),p.m&&p.o&&Nn(D,p.m,p.o),T=new kt(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),b&&(p.i=b.D.concat(p.i)),b=Ch(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ts(p.h,T),bn(T,D,b)}function $o(p,b){p.H&&U(p.H,function(T,D){Ht(b,D,T)}),p.l&&Hc({},function(T,D){Ht(b,D,T)})}function Ch(p,b,T){T=Math.min(p.i.length,T);var D=p.l?_(p.l.Na,p.l,p):null;e:{var J=p.i;let oe=-1;for(;;){const Te=["count="+T];oe==-1?0<T?(oe=J[0].g,Te.push("ofs="+oe)):oe=0:Te.push("ofs="+oe);let At=!0;for(let wn=0;wn<T;wn++){let Ct=J[wn].g;const kn=J[wn].map;if(Ct-=oe,0>Ct)oe=Math.max(0,J[wn].g-100),At=!1;else try{Ui(kn,Te,"req"+Ct+"_")}catch{D&&D(kn)}}if(At){D=Te.join("&");break e}}}return p=p.i.splice(0,T),b.D=p,D}function Ih(p){if(!p.g&&!p.u){p.Y=1;var b=p.Fa;ae||z(),Z||(ae(),Z=!0),ue.add(b,p),p.v=0}}function Zc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=ve(_(p.Fa,p),Xc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Oh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=ve(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),eu(this),Oh(this))};function qo(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Oh(p){p.g=new kt(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var b=Cr(p.qa);Ht(b,"RID","rpc"),Ht(b,"SID",p.K),Ht(b,"AID",p.T),Ht(b,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ht(b,"TO",p.ja),Ht(b,"TYPE","xmlhttp"),$o(p,b),p.m&&p.o&&Nn(b,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=Vo(Cr(b)),T.m=null,T.P=!0,lr(T,p)}n.Za=function(){this.C!=null&&(this.C=null,eu(this),Zc(this),te(19))};function nu(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Nh(p,b){var T=null;if(p.g==b){nu(p),qo(p),p.g=null;var D=2}else if(Zr(p.h,b))T=b.D,jn(p.h,b),D=1;else return;if(p.G!=0){if(b.o)if(D==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var J=p.B;D=Mi(),ft(D,new he(D,T)),tu(p)}else Ih(p);else if(J=b.s,J==3||J==0&&0<b.X||!(D==1&&ty(p,b)||D==2&&Zc(p)))switch(T&&0<T.length&&(b=p.h,b.i=b.i.concat(T)),J){case 1:Is(p,5);break;case 4:Is(p,10);break;case 3:Is(p,6);break;default:Is(p,2)}}}function Xc(p,b){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*b}function Is(p,b){if(p.j.info("Error code "+b),b==2){var T=_(p.fb,p),D=p.Xa;const J=!D;D=new mn(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Lo(D,"https"),Vo(D),J?Uo(D.toString(),T):gi(D.toString(),T)}else te(2);p.G=0,p.l&&p.l.sa(b),kh(p),Ah(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function kh(p){if(p.G=0,p.ka=[],p.l){const b=Bc(p.h);(b.length!=0||p.i.length!=0)&&(C(p.ka,b),C(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function Ph(p,b,T){var D=T instanceof mn?Cr(T):new mn(T);if(D.g!="")b&&(D.g=b+"."+D.g),ga(D,D.s);else{var J=c.location;D=J.protocol,b=b?b+"."+J.hostname:J.hostname,J=+J.port;var oe=new mn(null);D&&Lo(oe,D),b&&(oe.g=b),J&&ga(oe,J),T&&(oe.l=T),D=oe}return T=p.D,b=p.ya,T&&b&&Ht(D,T,b),Ht(D,"VER",p.la),$o(p,D),D}function Dh(p,b,T){if(b&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Ca&&!p.pa?new Vt(new ya({eb:T})):new Vt(p.pa),b.Ha(p.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mh(){}n=Mh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ru(){}ru.prototype.g=function(p,b){return new cr(p,b)};function cr(p,b){Dt.call(this),this.g=new Jl(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(p?p["X-WebChannel-Client-Profile"]=b.va:p={"X-WebChannel-Client-Profile":b.va}),this.g.S=p,(p=b&&b.Sb)&&!j(p)&&(this.g.m=p),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!j(b)&&(this.g.D=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new Hi(this)}S(cr,Dt),cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){Yc(this.g)},cr.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=xr(p),p=T);b.i.push(new Ar(b.Ya++,p)),b.G==3&&tu(b)},cr.prototype.N=function(){this.g.l=null,delete this.j,Yc(this.g),delete this.g,cr.aa.N.call(this)};function Lh(p){mi.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const T in b){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}S(Lh,mi);function Vh(){ha.call(this),this.status=1}S(Vh,ha);function Hi(p){this.g=p}S(Hi,Mh),Hi.prototype.ua=function(){ft(this.g,"a")},Hi.prototype.ta=function(p){ft(this.g,new Lh(p))},Hi.prototype.sa=function(p){ft(this.g,new Vh)},Hi.prototype.ra=function(){ft(this.g,"b")},ru.prototype.createWebChannel=ru.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,wI=function(){return new ru},bI=function(){return Mi()},_I=or,g0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,cm=Me,Qe.COMPLETE="complete",vI=Qe,Do.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Jd=Do,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,yI=Vt}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});const HR="@firebase/firestore",$R="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new yb("@firebase/firestore");function zu(){return Il.logLevel}function Ce(n,...e){if(Il.logLevel<=Et.DEBUG){const t=e.map(Ob);Il.debug(`Firestore (${kc}): ${n}`,...t)}}function na(n,...e){if(Il.logLevel<=Et.ERROR){const t=e.map(Ob);Il.error(`Firestore (${kc}): ${n}`,...t)}}function mc(n,...e){if(Il.logLevel<=Et.WARN){const t=e.map(Ob);Il.warn(`Firestore (${kc}): ${n}`,...t)}}function Ob(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,EI(n,r,t)}function EI(n,e,t){let r=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw na(r),new Error(r)}function Ut(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||EI(e,s,r)}function lt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends la{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(er.UNAUTHENTICATED))}shutdown(){}}class c3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class d3{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ut(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new lo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lo,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lo)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string",31837,{l:r}),new TI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string",2055,{h:e}),new er(e)}}class f3{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h3{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new f3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ut(this.o===void 0,3512);const r=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new qR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=m3(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function mt(n,e){return n<e?-1:n>e?1:0}function y0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return mt(r,s);{const o=SI(),u=g3(o.encode(GR(n,t)),o.encode(GR(e,t)));return u!==0?u:mt(r,s)}}t+=r>65535?2:1}return mt(n.length,e.length)}function GR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function g3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return mt(n[t],e[t]);return mt(n.length,e.length)}function gc(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=-62135596800,QR=1e6;class Cn{static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*QR);return new Cn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<KR)throw new $e(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QR}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-KR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{static fromTimestamp(e){return new st(e)}static min(){return new st(new Cn(0,0))}static max(){return new st(new Cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="__name__";class Zi{constructor(e,t,r){t===void 0?t=0:t>e.length&&tt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&tt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Zi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return mt(e.length,t.length)}static compareSegments(e,t){const r=Zi.isNumericId(e),s=Zi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Zi.extractNumericId(e).compare(Zi.extractNumericId(t)):y0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oo.fromString(e.substring(4,e.length-2))}}class ln extends Zi{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const y3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Zi{construct(e,t,r){return new qn(e,t,r)}static isValidIdentifier(e){return y3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YR}static keyField(){return new qn([YR])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new $e(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new $e(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new $e(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new $e(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(t)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(ln.fromString(e))}static fromName(e){return new Ke(ln.fromString(e).popFirst(5))}static empty(){return new Ke(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new ln(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=-1;function v3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=st.fromTimestamp(r===1e9?new Cn(t+1,0):new Cn(t,r));return new fo(s,Ke.empty(),e)}function _3(n){return new fo(n.readTime,n.key,Sf)}class fo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fo(st.min(),Ke.empty(),Sf)}static max(){return new fo(st.max(),Ke.empty(),Sf)}}function b3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ke.comparator(n.documentKey,e.documentKey),t!==0?t:mt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==w3)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let s=0,o=0,u=!1;e.forEach(c=>{++s,c.next(()=>{++o,u&&o===s&&t()},f=>r(f))}),u=!0,o===s&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(s=>s?me.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new me((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next(g=>{u[h]=g,++c,c===o&&r(u)},g=>s(g))}})}static doWhile(e,t){return new me((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function T3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}gg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=-1;function yg(n){return n==null}function Mm(n){return n===0&&1/n==-1/0}function S3(n){return typeof n=="number"&&Number.isInteger(n)&&!Mm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="";function x3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=WR(e)),e=R3(n.get(t),e);return WR(e)}function R3(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case RI:t+="";break;default:t+=o}}return t}function WR(n){return n+RI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Co(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}}class qp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Hn.RED,this.left=s??Hn.EMPTY,this.right=o??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Hn(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Hn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tt(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw tt(57766)}get value(){throw tt(16141)}get color(){throw tt(16727)}get left(){throw tt(29726)}get right(){throw tt(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XR(this.data.getIterator())}getIteratorFrom(e){return new XR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class XR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new zr([])}unionWith(e){let t=new In(qn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new CI("Invalid base64 string: "+o):o}}(e);return new Gn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const A3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(n){if(Ut(!!n,39018),typeof n=="string"){let e=0;const t=A3.exec(n);if(Ut(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(n.seconds),nanos:fn(n.nanos)}}function fn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function po(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="server_timestamp",OI="__type__",NI="__previous_value__",kI="__local_write_time__";function kb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[OI])===null||t===void 0?void 0:t.stringValue)===II}function vg(n){const e=n.mapValue.fields[NI];return kb(e)?vg(e):e}function xf(n){const e=ho(n.mapValue.fields[kI].timestampValue);return new Cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,t,r,s,o,u,c,f,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h}}const Lm="(default)";class Rf{constructor(e,t){this.projectId=e,this.database=t||Lm}static empty(){return new Rf("","")}get isDefaultDatabase(){return this.database===Lm}isEqual(e){return e instanceof Rf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="__type__",I3="__max__",Gp={mapValue:{}},DI="__vector__",Vm="value";function mo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kb(n)?4:N3(n)?9007199254740991:O3(n)?10:11:tt(28295,{value:n})}function ds(n,e){if(n===e)return!0;const t=mo(n);if(t!==mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xf(n).isEqual(xf(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ho(s.timestampValue),c=ho(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return po(s.bytesValue).isEqual(po(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return fn(s.geoPointValue.latitude)===fn(o.geoPointValue.latitude)&&fn(s.geoPointValue.longitude)===fn(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return fn(s.integerValue)===fn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=fn(s.doubleValue),c=fn(o.doubleValue);return u===c?Mm(u)===Mm(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return gc(n.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(ZR(u)!==ZR(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!ds(u[f],c[f])))return!1;return!0}(n,e);default:return tt(52216,{left:n})}}function Af(n,e){return(n.values||[]).find(t=>ds(t,e))!==void 0}function yc(n,e){if(n===e)return 0;const t=mo(n),r=mo(e);if(t!==r)return mt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return mt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const c=fn(o.integerValue||o.doubleValue),f=fn(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return JR(n.timestampValue,e.timestampValue);case 4:return JR(xf(n),xf(e));case 5:return y0(n.stringValue,e.stringValue);case 6:return function(o,u){const c=po(o),f=po(u);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const c=o.split("/"),f=u.split("/");for(let h=0;h<c.length&&h<f.length;h++){const g=mt(c[h],f[h]);if(g!==0)return g}return mt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const c=mt(fn(o.latitude),fn(u.latitude));return c!==0?c:mt(fn(o.longitude),fn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return eA(n.arrayValue,e.arrayValue);case 10:return function(o,u){var c,f,h,g;const v=o.fields||{},_=u.fields||{},w=(c=v[Vm])===null||c===void 0?void 0:c.arrayValue,S=(f=_[Vm])===null||f===void 0?void 0:f.arrayValue,A=mt(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:eA(w,S)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Gp.mapValue&&u===Gp.mapValue)return 0;if(o===Gp.mapValue)return 1;if(u===Gp.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),h=u.fields||{},g=Object.keys(h);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const _=y0(f[v],g[v]);if(_!==0)return _;const w=yc(c[f[v]],h[g[v]]);if(w!==0)return w}return mt(f.length,g.length)}(n.mapValue,e.mapValue);default:throw tt(23264,{Pe:t})}}function JR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return mt(n,e);const t=ho(n),r=ho(e),s=mt(t.seconds,r.seconds);return s!==0?s:mt(t.nanos,r.nanos)}function eA(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=yc(t[s],r[s]);if(o)return o}return mt(t.length,r.length)}function vc(n){return v0(n)}function v0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ho(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return po(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=v0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${v0(t.fields[u])}`;return s+"}"}(n.mapValue):tt(61005,{value:n})}function dm(n){switch(mo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vg(n);return e?16+dm(e):16;case 5:return 2*n.stringValue.length;case 6:return po(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+dm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Co(r.fields,(o,u)=>{s+=o.length+dm(u)}),s}(n.mapValue);default:throw tt(13486,{value:n})}}function _0(n){return!!n&&"integerValue"in n}function Pb(n){return!!n&&"arrayValue"in n}function tA(n){return!!n&&"nullValue"in n}function nA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fm(n){return!!n&&"mapValue"in n}function O3(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[PI])===null||t===void 0?void 0:t.stringValue)===DI}function uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Co(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function N3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===I3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}setAll(e){let t=qn.emptyPath(),r={},s=[];e.forEach((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=c.popLast()}u?r[c.lastSegment()]=uf(u):s.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());fm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];fm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Co(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Tr(uf(this.value))}}function MI(n){const e=[];return Co(n.fields,(t,r)=>{const s=new qn([t]);if(fm(r)){const o=MI(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t,r,s,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new tr(e,0,st.min(),st.min(),st.min(),Tr.empty(),0)}static newFoundDocument(e,t,r,s){return new tr(e,1,t,st.min(),r,s,0)}static newNoDocument(e,t){return new tr(e,2,t,st.min(),st.min(),Tr.empty(),0)}static newUnknownDocument(e,t){return new tr(e,3,t,st.min(),st.min(),Tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t){this.position=e,this.inclusive=t}}function rA(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Ke.comparator(Ke.fromName(u.referenceValue),t.key):r=yc(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ds(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t="asc"){this.field=e,this.dir=t}}function k3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{}class Rn extends LI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new D3(e,t,r):t==="array-contains"?new V3(e,r):t==="in"?new j3(e,r):t==="not-in"?new U3(e,r):t==="array-contains-any"?new z3(e,r):new Rn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new M3(e,r):new L3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yc(t,this.value)):t!==null&&mo(this.value)===mo(t)&&this.matchesComparison(yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fs extends LI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new fs(e,t)}matches(e){return VI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function VI(n){return n.op==="and"}function jI(n){return P3(n)&&VI(n)}function P3(n){for(const e of n.filters)if(e instanceof fs)return!1;return!0}function b0(n){if(n instanceof Rn)return n.field.canonicalString()+n.op.toString()+vc(n.value);if(jI(n))return n.filters.map(e=>b0(e)).join(",");{const e=n.filters.map(t=>b0(t)).join(",");return`${n.op}(${e})`}}function UI(n,e){return n instanceof Rn?function(r,s){return s instanceof Rn&&r.op===s.op&&r.field.isEqual(s.field)&&ds(r.value,s.value)}(n,e):n instanceof fs?function(r,s){return s instanceof fs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,c)=>o&&UI(u,s.filters[c]),!0):!1}(n,e):void tt(19439)}function zI(n){return n instanceof Rn?function(t){return`${t.field.canonicalString()} ${t.op} ${vc(t.value)}`}(n):n instanceof fs?function(t){return t.op.toString()+" {"+t.getFilters().map(zI).join(" ,")+"}"}(n):"Filter"}class D3 extends Rn{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class M3 extends Rn{constructor(e,t){super(e,"in",t),this.keys=FI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class L3 extends Rn{constructor(e,t){super(e,"not-in",t),this.keys=FI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class V3 extends Rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pb(t)&&Af(t.arrayValue,this.value)}}class j3 extends Rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Af(this.value.arrayValue,t)}}class U3 extends Rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Af(this.value.arrayValue,t)}}class z3 extends Rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Af(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,t=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Ie=null}}function sA(n,e=null,t=[],r=[],s=null,o=null,u=null){return new F3(n,e,t,r,s,o,u)}function Db(n){const e=lt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>b0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vc(r)).join(",")),e.Ie=t}return e.Ie}function Mb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!k3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!UI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iA(n.startAt,e.startAt)&&iA(n.endAt,e.endAt)}function w0(n){return Ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function B3(n,e,t,r,s,o,u,c){return new _g(n,e,t,r,s,o,u,c)}function Lb(n){return new _g(n)}function aA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function H3(n){return n.collectionGroup!==null}function cf(n){const e=lt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new In(qn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Um(o,r))}),t.has(qn.keyField().canonicalString())||e.Ee.push(new Um(qn.keyField(),r))}return e.Ee}function as(n){const e=lt(n);return e.de||(e.de=$3(e,cf(n))),e.de}function $3(n,e){if(n.limitType==="F")return sA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Um(s.field,o)});const t=n.endAt?new jm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new jm(n.startAt.position,n.startAt.inclusive):null;return sA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function E0(n,e,t){return new _g(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bg(n,e){return Mb(as(n),as(e))&&n.limitType===e.limitType}function BI(n){return`${Db(as(n))}|lt:${n.limitType}`}function Fu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>zI(s)).join(", ")}]`),yg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>vc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>vc(s)).join(",")),`Target(${r})`}(as(n))}; limitType=${n.limitType})`}function wg(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ke.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of cf(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,c,f){const h=rA(u,c,f);return u.inclusive?h<=0:h<0}(r.startAt,cf(r),s)||r.endAt&&!function(u,c,f){const h=rA(u,c,f);return u.inclusive?h>=0:h>0}(r.endAt,cf(r),s))}(n,e)}function q3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HI(n){return(e,t)=>{let r=!1;for(const s of cf(n)){const o=G3(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function G3(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(o,u,c){const f=u.data.field(o),h=c.data.field(o);return f!==null&&h!==null?yc(f,h):tt(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return AI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new rn(Ke.comparator);function ra(){return K3}const $I=new rn(Ke.comparator);function ef(...n){let e=$I;for(const t of n)e=e.insert(t.key,t);return e}function qI(n){let e=$I;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function fl(){return df()}function GI(){return df()}function df(){return new zl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Q3=new rn(Ke.comparator),Y3=new In(Ke.comparator);function Tt(...n){let e=Y3;for(const t of n)e=e.add(t);return e}const W3=new In(mt);function Z3(){return W3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mm(e)?"-0":e}}function KI(n){return{integerValue:""+n}}function X3(n,e){return S3(e)?KI(e):Vb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this._=void 0}}function J3(n,e,t){return n instanceof Cf?function(s,o){const u={fields:{[OI]:{stringValue:II},[kI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&kb(o)&&(o=vg(o)),o&&(u.fields[NI]=o),{mapValue:u}}(t,e):n instanceof If?YI(n,e):n instanceof Of?WI(n,e):function(s,o){const u=QI(s,o),c=oA(u)+oA(s.Re);return _0(u)&&_0(s.Re)?KI(c):Vb(s.serializer,c)}(n,e)}function ez(n,e,t){return n instanceof If?YI(n,e):n instanceof Of?WI(n,e):t}function QI(n,e){return n instanceof zm?function(r){return _0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Cf extends Eg{}class If extends Eg{constructor(e){super(),this.elements=e}}function YI(n,e){const t=ZI(e);for(const r of n.elements)t.some(s=>ds(s,r))||t.push(r);return{arrayValue:{values:t}}}class Of extends Eg{constructor(e){super(),this.elements=e}}function WI(n,e){let t=ZI(e);for(const r of n.elements)t=t.filter(s=>!ds(s,r));return{arrayValue:{values:t}}}class zm extends Eg{constructor(e,t){super(),this.serializer=e,this.Re=t}}function oA(n){return fn(n.integerValue||n.doubleValue)}function ZI(n){return Pb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,t){this.field=e,this.transform=t}}function nz(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof If&&s instanceof If||r instanceof Of&&s instanceof Of?gc(r.elements,s.elements,ds):r instanceof zm&&s instanceof zm?ds(r.Re,s.Re):r instanceof Cf&&s instanceof Cf}(n.transform,e.transform)}class rz{constructor(e,t){this.version=e,this.transformResults=t}}class os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Tg{}function XI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new eO(n.key,os.none()):new fh(n.key,n.data,os.none());{const t=n.data,r=Tr.empty();let s=new In(qn.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Io(n.key,r,new zr(s.toArray()),os.none())}}function iz(n,e,t){n instanceof fh?function(s,o,u){const c=s.value.clone(),f=uA(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Io?function(s,o,u){if(!hm(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=uA(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(JI(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function ff(n,e,t,r){return n instanceof fh?function(o,u,c,f){if(!hm(o.precondition,u))return c;const h=o.value.clone(),g=cA(o.fieldTransforms,f,u);return h.setAll(g),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Io?function(o,u,c,f){if(!hm(o.precondition,u))return c;const h=cA(o.fieldTransforms,f,u),g=u.data;return g.setAll(JI(o)),g.setAll(h),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,u,c){return hm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(n,e,t)}function sz(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=QI(r.transform,s||null);o!=null&&(t===null&&(t=Tr.empty()),t.set(r.field,o))}return t||null}function lA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&gc(r,s,(o,u)=>nz(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fh extends Tg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Io extends Tg{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uA(n,e,t){const r=new Map;Ut(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,ez(u,c,t[s]))}return r}function cA(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,J3(o,u,e))}return r}class eO extends Tg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class az extends Tg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&iz(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ff(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ff(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GI();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(s.key)?null:c;const f=XI(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tt())}isEqual(e){return this.batchId===e.batchId&&gc(this.mutations,e.mutations,(t,r)=>lA(t,r))&&gc(this.baseMutations,e.baseMutations,(t,r)=>lA(t,r))}}class jb{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ut(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return Q3}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new jb(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,Ot;function cz(n){switch(n){case ge.OK:return tt(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return tt(15467,{code:n})}}function tO(n){if(n===void 0)return na("GRPC error has no .code"),ge.UNKNOWN;switch(n){case vn.OK:return ge.OK;case vn.CANCELLED:return ge.CANCELLED;case vn.UNKNOWN:return ge.UNKNOWN;case vn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case vn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case vn.INTERNAL:return ge.INTERNAL;case vn.UNAVAILABLE:return ge.UNAVAILABLE;case vn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case vn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case vn.NOT_FOUND:return ge.NOT_FOUND;case vn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case vn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case vn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case vn.ABORTED:return ge.ABORTED;case vn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case vn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case vn.DATA_LOSS:return ge.DATA_LOSS;default:return tt(39323,{code:n})}}(Ot=vn||(vn={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=new oo([4294967295,4294967295],0);function dA(n){const e=SI().encode(n),t=new gI;return t.update(e),new Uint8Array(t.digest())}function fA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oo([t,r],0),new oo([s,o],0)]}class Ub{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new tf(`Invalid padding: ${t}`);if(r<0)throw new tf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new tf(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=oo.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(oo.fromNumber(r)));return s.compare(dz)===1&&(s=new oo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=dA(e),[r,s]=fA(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Ub(o,s,t);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const t=dA(e),[r,s]=fA(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class tf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,hh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Sg(st.min(),s,new rn(mt),ra(),Tt())}}class hh{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hh(r,t,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class nO{constructor(e,t){this.targetId=e,this.Ce=t}}class rO{constructor(e,t,r=Gn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class hA{constructor(){this.Fe=0,this.Me=pA(),this.xe=Gn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Tt(),t=Tt(),r=Tt();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:tt(38017,{changeType:o})}}),new hh(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=pA()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ut(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fz{constructor(e){this.ze=e,this.je=new Map,this.He=ra(),this.Je=Kp(),this.Ye=Kp(),this.Ze=new rn(mt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:tt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(w0(o))if(r===0){const u=new Ke(o.path);this.tt(t,u,tr.newNoDocument(u,st.min()))}else Ut(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const c=this.ct(e),f=c?this.lt(c,e,u):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,c;try{u=po(r).toUint8Array()}catch(f){if(f instanceof CI)return mc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Ub(u,s,o)}catch(f){return mc(f instanceof tf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,u)=>{const c=this._t(u);if(c){if(o.current&&w0(c.target)){const f=new Ke(c.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,tr.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=Tt();this.Ye.forEach((o,u)=>{let c=!0;u.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new Sg(e,t,this.Ze,this.He,r);return this.He=ra(),this.Je=Kp(),this.Ye=Kp(),this.Ze=new rn(mt),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new hA,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new In(mt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new In(mt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new hA),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Kp(){return new rn(Ke.comparator)}function pA(){return new rn(Ke.comparator)}const hz={asc:"ASCENDING",desc:"DESCENDING"},pz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mz={and:"AND",or:"OR"};class gz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function T0(n,e){return n.useProto3Json||yg(e)?e:{value:e}}function Fm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yz(n,e){return Fm(n,e.toTimestamp())}function ls(n){return Ut(!!n,49232),st.fromTimestamp(function(t){const r=ho(t);return new Cn(r.seconds,r.nanos)}(n))}function zb(n,e){return S0(n,e).canonicalString()}function S0(n,e){const t=function(s){return new ln(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function sO(n){const e=ln.fromString(n);return Ut(cO(e),10190,{key:e.toString()}),e}function x0(n,e){return zb(n.databaseId,e.path)}function m_(n,e){const t=sO(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(oO(t))}function aO(n,e){return zb(n.databaseId,e)}function vz(n){const e=sO(n);return e.length===4?ln.emptyPath():oO(e)}function R0(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oO(n){return Ut(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mA(n,e,t){return{name:x0(n,e),fields:t.value.mapValue.fields}}function _z(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:tt(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,g){return h.useProto3Json?(Ut(g===void 0||typeof g=="string",58123),Gn.fromBase64String(g||"")):(Ut(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Gn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(h){const g=h.code===void 0?ge.UNKNOWN:tO(h.code);return new $e(g,h.message||"")}(u);t=new rO(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=m_(n,r.document.name),o=ls(r.document.updateTime),u=r.document.createTime?ls(r.document.createTime):st.min(),c=new Tr({mapValue:{fields:r.document.fields}}),f=tr.newFoundDocument(s,o,u,c),h=r.targetIds||[],g=r.removedTargetIds||[];t=new pm(h,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=m_(n,r.document),o=r.readTime?ls(r.readTime):st.min(),u=tr.newNoDocument(s,o),c=r.removedTargetIds||[];t=new pm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=m_(n,r.document),o=r.removedTargetIds||[];t=new pm([],o,s,null)}else{if(!("filter"in e))return tt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new uz(s,o),c=r.targetId;t=new nO(c,u)}}return t}function bz(n,e){let t;if(e instanceof fh)t={update:mA(n,e.key,e.value)};else if(e instanceof eO)t={delete:x0(n,e.key)};else if(e instanceof Io)t={update:mA(n,e.key,e.data),updateMask:Iz(e.fieldMask)};else{if(!(e instanceof az))return tt(16599,{ft:e.type});t={verify:x0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const c=u.transform;if(c instanceof Cf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof If)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Of)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zm)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw tt(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:yz(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tt(27497)}(n,e.precondition)),t}function wz(n,e){return n&&n.length>0?(Ut(e!==void 0,14353),n.map(t=>function(s,o){let u=s.updateTime?ls(s.updateTime):ls(o);return u.isEqual(st.min())&&(u=ls(o)),new rz(u,s.transformResults||[])}(t,e))):[]}function Ez(n,e){return{documents:[aO(n,e.path)]}}function Tz(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=aO(n,s);const o=function(h){if(h.length!==0)return uO(fs.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(h){if(h.length!==0)return h.map(g=>function(_){return{field:Bu(_.field),direction:Rz(_.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=T0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:s}}function Sz(n){let e=vz(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ut(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const _=lO(v);return _ instanceof fs&&jI(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(_=>function(S){return new Um(Hu(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(t.orderBy));let c=null;t.limit&&(c=function(v){let _;return _=typeof v=="object"?v.value:v,yg(_)?null:_}(t.limit));let f=null;t.startAt&&(f=function(v){const _=!!v.before,w=v.values||[];return new jm(w,_)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const _=!v.before,w=v.values||[];return new jm(w,_)}(t.endAt)),B3(e,s,u,o,c,"F",f,h)}function xz(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Hu(t.unaryFilter.field);return Rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Hu(t.unaryFilter.field);return Rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Hu(t.unaryFilter.field);return Rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Hu(t.unaryFilter.field);return Rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tt(61313);default:return tt(60726)}}(n):n.fieldFilter!==void 0?function(t){return Rn.create(Hu(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tt(58110);default:return tt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return fs.create(t.compositeFilter.filters.map(r=>lO(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return tt(1026)}}(t.compositeFilter.op))}(n):tt(30097,{filter:n})}function Rz(n){return hz[n]}function Az(n){return pz[n]}function Cz(n){return mz[n]}function Bu(n){return{fieldPath:n.canonicalString()}}function Hu(n){return qn.fromServerFormat(n.fieldPath)}function uO(n){return n instanceof Rn?function(t){if(t.op==="=="){if(nA(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NAN"}};if(tA(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nA(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NAN"}};if(tA(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(t.field),op:Az(t.op),value:t.value}}}(n):n instanceof fs?function(t){const r=t.getFilters().map(s=>uO(s));return r.length===1?r[0]:{compositeFilter:{op:Cz(t.op),filters:r}}}(n):tt(54877,{filter:n})}function Iz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t,r,s,o=st.min(),u=st.min(),c=Gn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.wt=e}}function Nz(n){const e=Sz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?E0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this.yn=new Pz}addToCollectionParentIndex(e,t){return this.yn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(fo.min())}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class Pz{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new In(ln.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new In(ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dO=41943040;class Er{static withCacheSize(e){return new Er(e,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(dO,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new _c(0)}static ir(){return new _c(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="LruGarbageCollector",Dz=1048576;function vA([n,e],[t,r]){const s=mt(n,t);return s===0?mt(e,r):s}class Mz{constructor(e){this.cr=e,this.buffer=new In(vA),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lz{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ce(yA,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dc(t)?Ce(yA,"Ignoring IndexedDB error during garbage collection: ",t):await Pc(t)}await this.Ir(3e5)})}}class Vz{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return me.resolve(gg.le);const r=new Mz(t);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(gA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gA):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,s,o,u,c,f,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),zu()<=Et.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-g}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function jz(n,e){return new Vz(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.changes=new zl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&ff(r.mutation,s,zr.empty(),Cn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Tt()){const s=fl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=ef();return o.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=fl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Tt()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,c)=>{t.set(u,c)})})}computeViews(e,t,r,s){let o=ra();const u=df(),c=function(){return df()}();return t.forEach((f,h)=>{const g=r.get(h.key);s.has(h.key)&&(g===void 0||g.mutation instanceof Io)?o=o.insert(h.key,h):g!==void 0?(u.set(h.key,g.mutation.getFieldMask()),ff(g.mutation,h,g.mutation.getFieldMask(),Cn.now())):u.set(h.key,zr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,g)=>u.set(h,g)),t.forEach((h,g)=>{var v;return c.set(h,new zz(g,(v=u.get(h))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=df();let s=new rn((u,c)=>u-c),o=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const c of u)c.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let g=r.get(f)||zr.empty();g=c.applyToLocalView(h,g),r.set(f,g);const v=(s.get(c.batchId)||Tt()).add(f);s=s.insert(c.batchId,v)})}).next(()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,g=f.value,v=GI();g.forEach(_=>{if(!o.has(_)){const w=XI(t.get(_),r.get(_));w!==null&&v.set(_,w),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,h,v))}return me.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Ke.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):H3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):me.resolve(fl());let c=Sf,f=o;return u.next(h=>me.forEach(h,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(g)?me.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{f=f.insert(g,_)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,Tt())).next(g=>({batchId:c,changes:qI(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let s=ef();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=ef();return this.indexManager.getCollectionParents(e,o).next(c=>me.forEach(c,f=>{const h=function(v,_){return new _g(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(g=>{g.forEach((v,_)=>{u=u.insert(v,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((f,h)=>{const g=h.getKey();u.get(g)===null&&(u=u.insert(g,tr.newInvalidDocument(g)))});let c=ef();return u.forEach((f,h)=>{const g=o.get(f);g!==void 0&&ff(g.mutation,h,zr.empty(),Cn.now()),wg(t,h)&&(c=c.insert(f,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return me.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ls(s.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:Nz(s.bundledQuery),readTime:ls(s.readTime)}}(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(){this.overlays=new rn(Ke.comparator),this.Or=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const r=fl();return me.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.St(e,t,o)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const s=fl(),o=t.length+1,u=new Ke(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return me.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new rn((h,g)=>h-g);const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let g=o.get(h.largestBatchId);g===null&&(g=fl(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=fl(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,g)=>c.set(h,g)),!(c.size()>=s)););return me.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new lz(t,r));let o=this.Or.get(t);o===void 0&&(o=Tt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.Nr=new In(Ln.Br),this.Lr=new In(Ln.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Ln(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Ln(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ke(new ln([])),r=new Ln(t,e),s=new Ln(t,e+1),o=[];return this.Lr.forEachInRange([r,s],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ke(new ln([])),r=new Ln(t,e),s=new Ln(t,e+1);let o=Tt();return this.Lr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Ln(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ln{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ke.comparator(e.key,t.key)||mt(e.Gr,t.Gr)}static kr(e,t){return mt(e.Gr,t.Gr)||Ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new In(Ln.Br)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new oz(o,t,r,s);this.mutationQueue.push(u);for(const c of s)this.zr=this.zr.add(new Ln(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,t){return me.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Hr(r),o=s<0?0:s;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?Nb:this.Jn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ln(t,0),s=new Ln(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,s],u=>{const c=this.jr(u.Gr);o.push(c)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(mt);return t.forEach(s=>{const o=new Ln(s,0),u=new Ln(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],c=>{r=r.add(c.Gr)})}),me.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Ke.isDocumentKey(o)||(o=o.child(""));const u=new Ln(new Ke(o),0);let c=new In(mt);return this.zr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(f.Gr)),!0)},u),me.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ut(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return me.forEach(t.mutations,s=>{const o=new Ln(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Ln(t,0),s=this.zr.firstAfterOrEqual(r);return me.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.Zr=e,this.docs=function(){return new rn(Ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(t))}getEntries(e,t){let r=ra();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():tr.newInvalidDocument(s))}),me.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=ra();const u=t.path,c=new Ke(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:g}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||b3(_3(g),r)<=0||(s.has(g.key)||wg(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,t,r,s){tt(9500)}Xr(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Kz(this)}getSize(e){return me.resolve(this.size)}}class Kz extends Uz{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e){this.persistence=e,this.ei=new zl(t=>Db(t),Mb),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.ti=0,this.ni=new Fb,this.targetCount=0,this.ri=_c.rr()}forEachTarget(e,t){return this.ei.forEach((r,s)=>t(s)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),me.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new _c(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.ar(t),me.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ei.forEach((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),me.waitFor(o).next(()=>s)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),me.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t){this.ii={},this.overlays={},this.si=new gg(0),this.oi=!1,this.oi=!0,this._i=new $z,this.referenceDelegate=e(this),this.ai=new Qz(this),this.indexManager=new kz,this.remoteDocumentCache=function(s){return new Gz(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Oz(t),this.ci=new Bz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new qz(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ce("MemoryPersistence","Starting transaction:",e);const s=new Yz(this.si.next());return this.referenceDelegate.li(),r(s).next(o=>this.referenceDelegate.hi(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Pi(e,t){return me.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class Yz extends E3{constructor(e){super(),this.currentSequenceNumber=e}}class Bb{constructor(e){this.persistence=e,this.Ti=new Fb,this.Ii=null}static Ei(e){return new Bb(e)}get di(){if(this.Ii)return this.Ii;throw tt(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,r=>{const s=Ke.fromPath(r);return this.Ai(e,s).next(o=>{o||t.removeEntry(s,st.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return me.or([()=>me.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Bm{constructor(e,t){this.persistence=e,this.Ri=new zl(r=>x3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=jz(this,t)}static Ei(e,t){return new Bm(e,t)}li(){}hi(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return me.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(o=>o?me.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.Xr(e,u=>this.gr(e,u,t).next(c=>{c||(r++,o.removeEntry(u,st.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dm(e.data.value)),t}gr(e,t,r){return me.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return me.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=s}static Ps(e,t){let r=Tt(),s=Tt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Hb(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Aj()?8:T3(nr())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new Wz;return this.fs(e,t,u).next(c=>{if(o.result=c,this.Is)return this.gs(e,t,u,c.size)})}).next(()=>o.result)}gs(e,t,r,s){return r.documentReadCount<this.Es?(zu()<=Et.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Fu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),me.resolve()):(zu()<=Et.DEBUG&&Ce("QueryEngine","Query:",Fu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(zu()<=Et.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Fu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(t))):me.resolve())}Rs(e,t){if(aA(t))return me.resolve(null);let r=as(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=E0(t,null,"F"),r=as(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Tt(...o);return this.As.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.ps(t,c);return this.ys(t,h,u,f.readTime)?this.Rs(e,E0(t,null,"F")):this.ws(e,h,t,f)}))})))}Vs(e,t,r,s){return aA(t)||s.isEqual(st.min())?me.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,s)?me.resolve(null):(zu()<=Et.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fu(t)),this.ws(e,u,t,v3(s,Sf)).next(c=>c))})}ps(e,t){let r=new In(HI(e));return t.forEach((s,o)=>{wg(e,o)&&(r=r.add(o))}),r}ys(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}fs(e,t,r){return zu()<=Et.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Fu(t)),this.As.getDocumentsMatchingQuery(e,t,fo.min(),r)}ws(e,t,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="LocalStore",Xz=3e8;class Jz{constructor(e,t,r,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new rn(mt),this.Ds=new zl(o=>Db(o),Mb),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fz(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function e6(n,e,t,r){return new Jz(n,e,t,r)}async function hO(n,e){const t=lt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],c=[];let f=Tt();for(const h of s){u.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}for(const h of o){c.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(h=>({Ms:h,removedBatchIds:u,addedBatchIds:c}))})})}function t6(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,f,h,g){const v=h.batch,_=v.keys();let w=me.resolve();return _.forEach(S=>{w=w.next(()=>g.getEntry(f,S)).next(A=>{const C=h.docVersions.get(S);Ut(C!==null,48541),A.version.compareTo(C)<0&&(v.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),g.addEntry(A)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Tt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function pO(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function n6(n,e){const t=lt(n),r=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const c=[];e.targetChanges.forEach((g,v)=>{const _=s.get(v);if(!_)return;c.push(t.ai.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.ai.addMatchingKeys(o,g.addedDocuments,v)));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(Gn.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),s=s.insert(v,w),function(A,C,k){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Xz?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(_,w,g)&&c.push(t.ai.updateTargetData(o,w))});let f=ra(),h=Tt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(r6(o,u,e.documentUpdates).next(g=>{f=g.xs,h=g.Os})),!r.isEqual(st.min())){const g=t.ai.getLastRemoteSnapshotVersion(o).next(v=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return me.waitFor(c).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(t.Ss=s,o))}function r6(n,e,t){let r=Tt(),s=Tt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=ra();return t.forEach((c,f)=>{const h=o.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(st.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):Ce($b,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)}),{xs:u,Os:s}})}function i6(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Nb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s6(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.ai.getTargetData(r,e).next(o=>o?(s=o,me.resolve(s)):t.ai.allocateTargetId(r).next(u=>(s=new no(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function A0(n,e,t){const r=lt(n),s=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Dc(u))throw u;Ce($b,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function _A(n,e,t){const r=lt(n);let s=st.min(),o=Tt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,h,g){const v=lt(f),_=v.Ds.get(g);return _!==void 0?me.resolve(v.Ss.get(_)):v.ai.getTargetData(h,g)}(r,u,as(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,c.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?s:st.min(),t?o:Tt())).next(c=>(a6(r,q3(e),c),{documents:c,Ns:o})))}function a6(n,e,t){let r=n.vs.get(e)||st.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class bA{constructor(){this.activeTargetIds=Z3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o6{constructor(){this.So=new bA,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new bA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="ConnectivityMonitor";class EA{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ce(wA,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ce(wA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp=null;function C0(){return Qp===null?Qp=function(){return 268435456+Math.round(2147483648*Math.random())}():Qp++,"0x"+Qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="RestConnection",u6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c6{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Lm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,t,r,s,o){const u=C0(),c=this.$o(e,t.toUriEncodedString());Ce(g_,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,s,o),this.Ko(e,c,f,r).then(h=>(Ce(g_,`Received RPC '${e}' ${u}: `,h),h),h=>{throw mc(g_,`RPC '${e}' ${u} failed with error: `,h,"url: ",c,"request:",r),h})}Wo(e,t,r,s,o,u){return this.Qo(e,t,r,s,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}$o(e,t){const r=u6[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class f6 extends c6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,s){const o=C0();return new Promise((u,c)=>{const f=new yI;f.setWithCredentials(!0),f.listenOnce(vI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case cm.NO_ERROR:const g=f.getResponseJson();Ce(Zn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case cm.TIMEOUT:Ce(Zn,`RPC '${e}' ${o} timed out`),c(new $e(ge.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:const v=f.getStatus();if(Ce(Zn,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const S=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(k)>=0?k:ge.UNKNOWN}(w.status);c(new $e(S,w.message))}else c(new $e(ge.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new $e(ge.UNAVAILABLE,"Connection failed."));break;default:tt(9055,{s_:e,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{Ce(Zn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Ce(Zn,`RPC '${e}' ${o} sending request:`,s),f.send(t,"POST",h,r,15)})}a_(e,t,r){const s=C0(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=wI(),c=bI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");Ce(Zn,`Creating RPC '${e}' stream ${s}: ${g}`,f);const v=u.createWebChannel(g,f);let _=!1,w=!1;const S=new d6({Go:C=>{w?Ce(Zn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(_||(Ce(Zn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),Ce(Zn,`RPC '${e}' stream ${s} sending:`,C),v.send(C))},zo:()=>v.close()}),A=(C,k,j)=>{C.listen(k,L=>{try{j(L)}catch(q){setTimeout(()=>{throw q},0)}})};return A(v,Jd.EventType.OPEN,()=>{w||(Ce(Zn,`RPC '${e}' stream ${s} transport opened.`),S.t_())}),A(v,Jd.EventType.CLOSE,()=>{w||(w=!0,Ce(Zn,`RPC '${e}' stream ${s} transport closed`),S.r_())}),A(v,Jd.EventType.ERROR,C=>{w||(w=!0,mc(Zn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),S.r_(new $e(ge.UNAVAILABLE,"The operation could not be completed")))}),A(v,Jd.EventType.MESSAGE,C=>{var k;if(!w){const j=C.data[0];Ut(!!j,16349);const L=j,q=(L==null?void 0:L.error)||((k=L[0])===null||k===void 0?void 0:k.error);if(q){Ce(Zn,`RPC '${e}' stream ${s} received error:`,q);const H=q.status;let U=function(N){const M=vn[N];if(M!==void 0)return tO(M)}(H),P=q.message;U===void 0&&(U=ge.INTERNAL,P="Unknown error status: "+H+" with message "+q.message),w=!0,S.r_(new $e(U,P)),v.close()}else Ce(Zn,`RPC '${e}' stream ${s} received:`,j),S.i_(j)}}),A(c,_I.STAT_EVENT,C=>{C.stat===g0.PROXY?Ce(Zn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===g0.NOPROXY&&Ce(Zn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function y_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(n){return new gz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,t,r=1e3,s=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=s,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-r);s>0&&Ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="PersistentStream";class gO{constructor(e,t,r,s,o,u,c,f){this.bi=e,this.R_=r,this.V_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new mO(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(na(t.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===t&&this.B_(r,s)},r=>{e(()=>{const s=new $e(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ce(TA,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ce(TA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h6 extends gO{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=_z(this.serializer,e),r=function(o){if(!("targetChange"in o))return st.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?st.min():u.readTime?ls(u.readTime):st.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=R0(this.serializer),t.addTarget=function(o,u){let c;const f=u.target;if(c=w0(f)?{documents:Ez(o,f)}:{query:Tz(o,f).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=iO(o,u.resumeToken);const h=T0(o,u.expectedCount);h!==null&&(c.expectedCount=h)}else if(u.snapshotVersion.compareTo(st.min())>0){c.readTime=Fm(o,u.snapshotVersion.toTimestamp());const h=T0(o,u.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=xz(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=R0(this.serializer),t.removeTarget=e,this.F_(t)}}class p6 extends gO{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=wz(e.writeResults,e.commitTime),r=ls(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=R0(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bz(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{}class g6 extends m6{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new $e(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,S0(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(ge.UNKNOWN,o.toString())})}Wo(e,t,r,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Wo(e,S0(t,r),s,u,c,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new $e(ge.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class y6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(na(t),this.ea=!1):Ce("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="RemoteStore";class v6{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Fl(this)&&(Ce(Ol,"Restarting streams for network reachability change."),await async function(f){const h=lt(f);h.aa.add(4),await ph(h),h.la.set("Unknown"),h.aa.delete(4),await Rg(h)}(this))})}),this.la=new y6(r,s)}}async function Rg(n){if(Fl(n))for(const e of n.ua)await e(!0)}async function ph(n){for(const e of n.ua)await e(!1)}function yO(n,e){const t=lt(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Qb(t)?Kb(t):Mc(t).b_()&&Gb(t,e))}function qb(n,e){const t=lt(n),r=Mc(t);t._a.delete(e),r.b_()&&vO(t,e),t._a.size===0&&(r.b_()?r.v_():Fl(t)&&t.la.set("Unknown"))}function Gb(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mc(n).U_(e)}function vO(n,e){n.ha.Ke(e),Mc(n).K_(e)}function Kb(n){n.ha=new fz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Mc(n).start(),n.la.ta()}function Qb(n){return Fl(n)&&!Mc(n).w_()&&n._a.size>0}function Fl(n){return lt(n).aa.size===0}function _O(n){n.ha=void 0}async function _6(n){n.la.set("Online")}async function b6(n){n._a.forEach((e,t)=>{Gb(n,e)})}async function w6(n,e){_O(n),Qb(n)?(n.la.ia(e),Kb(n)):n.la.set("Unknown")}async function E6(n,e,t){if(n.la.set("Online"),e instanceof rO&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const c of o.targetIds)s._a.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s._a.delete(c),s.ha.removeTarget(c))}(n,e)}catch(r){Ce(Ol,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hm(n,r)}else if(e instanceof pm?n.ha.Xe(e):e instanceof nO?n.ha.ot(e):n.ha.nt(e),!t.isEqual(st.min()))try{const r=await pO(n.localStore);t.compareTo(r)>=0&&await function(o,u){const c=o.ha.It(u);return c.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const g=o._a.get(h);g&&o._a.set(h,g.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,h)=>{const g=o._a.get(f);if(!g)return;o._a.set(f,g.withResumeToken(Gn.EMPTY_BYTE_STRING,g.snapshotVersion)),vO(o,f);const v=new no(g.target,f,h,g.sequenceNumber);Gb(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){Ce(Ol,"Failed to raise snapshot:",r),await Hm(n,r)}}async function Hm(n,e,t){if(!Dc(e))throw e;n.aa.add(1),await ph(n),n.la.set("Offline"),t||(t=()=>pO(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ce(Ol,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Rg(n)})}function bO(n,e){return e().catch(t=>Hm(n,t,e))}async function Ag(n){const e=lt(n),t=go(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Nb;for(;T6(e);)try{const s=await i6(e.localStore,r);if(s===null){e.oa.length===0&&t.v_();break}r=s.batchId,S6(e,s)}catch(s){await Hm(e,s)}wO(e)&&EO(e)}function T6(n){return Fl(n)&&n.oa.length<10}function S6(n,e){n.oa.push(e);const t=go(n);t.b_()&&t.W_&&t.G_(e.mutations)}function wO(n){return Fl(n)&&!go(n).w_()&&n.oa.length>0}function EO(n){go(n).start()}async function x6(n){go(n).H_()}async function R6(n){const e=go(n);for(const t of n.oa)e.G_(t.mutations)}async function A6(n,e,t){const r=n.oa.shift(),s=jb.from(r,e,t);await bO(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Ag(n)}async function C6(n,e){e&&go(n).W_&&await async function(r,s){if(function(u){return cz(u)&&u!==ge.ABORTED}(s.code)){const o=r.oa.shift();go(r).D_(),await bO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Ag(r)}}(n,e),wO(n)&&EO(n)}async function SA(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),Ce(Ol,"RemoteStore received new credentials");const r=Fl(t);t.aa.add(3),await ph(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Rg(t)}async function I6(n,e){const t=lt(n);e?(t.aa.delete(2),await Rg(t)):e||(t.aa.add(2),await ph(t),t.la.set("Unknown"))}function Mc(n){return n.Pa||(n.Pa=function(t,r,s){const o=lt(t);return o.Y_(),new h6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{jo:_6.bind(null,n),Jo:b6.bind(null,n),Zo:w6.bind(null,n),Q_:E6.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Qb(n)?Kb(n):n.la.set("Unknown")):(await n.Pa.stop(),_O(n))})),n.Pa}function go(n){return n.Ta||(n.Ta=function(t,r,s){const o=lt(t);return o.Y_(),new p6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:x6.bind(null,n),Zo:C6.bind(null,n),z_:R6.bind(null,n),j_:A6.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Ag(n)):(await n.Ta.stop(),n.oa.length>0&&(Ce(Ol,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,c=new Yb(e,t,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wb(n,e){if(na("AsyncQueue",`${e}: ${n}`),Dc(n))return new $e(ge.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{static emptySet(e){return new Wu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=ef(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.Ia=new rn(Ke.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):tt(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class bc{constructor(e,t,r,s,o,u,c,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new bc(e,t,Wu.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class N6{constructor(){this.queries=RA(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const s=lt(t),o=s.queries;s.queries=RA(),o.forEach((u,c)=>{for(const f of c.Ra)f.onError(r)})})(this,new $e(ge.ABORTED,"Firestore shutting down"))}}function RA(){return new zl(n=>BI(n),bg)}async function k6(n,e){const t=lt(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Va()&&e.ma()&&(r=2):(o=new O6,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(s,!0);break;case 1:o.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const c=Wb(u,`Initialization of query '${Fu(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Zb(t)}async function P6(n,e){const t=lt(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?s=e.ma()?0:1:!o.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function D6(n,e){const t=lt(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const c of u.Ra)c.pa(s)&&(r=!0);u.Aa=s}}r&&Zb(t)}function M6(n,e,t){const r=lt(n),s=r.queries.get(e);if(s)for(const o of s.Ra)o.onError(t);r.queries.delete(e)}function Zb(n){n.fa.forEach(e=>{e.next()})}var I0,AA;(AA=I0||(I0={})).ya="default",AA.Cache="cache";class L6{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==I0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.key=e}}class SO{constructor(e){this.key=e}}class V6{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Tt(),this.mutatedKeys=Tt(),this.Ua=HI(e),this.Ka=new Wu(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new xA,s=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const _=s.get(g),w=wg(this.query,v)?v:null,S=!!_&&this.mutatedKeys.has(_.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;_&&w?_.data.isEqual(w.data)?S!==A&&(r.track({type:3,doc:w}),C=!0):this.ja(_,w)||(r.track({type:2,doc:w}),C=!0,(f&&this.Ua(w,f)>0||h&&this.Ua(w,h)<0)&&(c=!0)):!_&&w?(r.track({type:0,doc:w}),C=!0):_&&!w&&(r.track({type:1,doc:_}),C=!0,(f||h)&&(c=!0)),C&&(w?(u=u.add(w),o=A?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ka:u,za:r,ys:c,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((g,v)=>function(w,S){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt(20277,{Vt:C})}};return A(w)-A(S)}(g.type,v.type)||this.Ua(g.doc,v.doc)),this.Ha(r),s=s!=null&&s;const c=t&&!s?this.Ja():[],f=this.$a.size===0&&this.current&&!s?1:0,h=f!==this.Qa;return this.Qa=f,u.length!==0||h?{snapshot:new bc(this.query,e.Ka,o,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new xA,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Tt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new SO(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new TO(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Tt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return bc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Xb="SyncEngine";class j6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class U6{constructor(e){this.key=e,this.tu=!1}}class z6{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new zl(c=>BI(c),bg),this.iu=new Map,this.su=new Set,this.ou=new rn(Ke.comparator),this._u=new Map,this.au=new Fb,this.uu={},this.cu=new Map,this.lu=_c.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function F6(n,e,t=!0){const r=OO(n);let s;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.eu()):s=await xO(r,e,t,!0),s}async function B6(n,e){const t=OO(n);await xO(t,e,!0,!1)}async function xO(n,e,t,r){const s=await s6(n.localStore,as(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await H6(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&yO(n.remoteStore,s),c}async function H6(n,e,t,r,s){n.Pu=(v,_,w)=>async function(A,C,k,j){let L=C.view.Ga(k);L.ys&&(L=await _A(A.localStore,C.query,!1).then(({documents:P})=>C.view.Ga(P,L)));const q=j&&j.targetChanges.get(C.targetId),H=j&&j.targetMismatches.get(C.targetId)!=null,U=C.view.applyChanges(L,A.isPrimaryClient,q,H);return IA(A,C.targetId,U.Ya),U.snapshot}(n,v,_,w);const o=await _A(n.localStore,e,!0),u=new V6(e,o.Ns),c=u.Ga(o.documents),f=hh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),h=u.applyChanges(c,n.isPrimaryClient,f);IA(n,t,h.Ya);const g=new j6(e,t,u);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),h.snapshot}async function $6(n,e,t){const r=lt(n),s=r.ru.get(e),o=r.iu.get(s.targetId);if(o.length>1)return r.iu.set(s.targetId,o.filter(u=>!bg(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await A0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&qb(r.remoteStore,s.targetId),O0(r,s.targetId)}).catch(Pc)):(O0(r,s.targetId),await A0(r.localStore,s.targetId,!0))}async function q6(n,e){const t=lt(n),r=t.ru.get(e),s=t.iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),qb(t.remoteStore,r.targetId))}async function G6(n,e,t){const r=J6(n);try{const s=await function(u,c){const f=lt(u),h=Cn.now(),g=c.reduce((w,S)=>w.add(S.key),Tt());let v,_;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=ra(),A=Tt();return f.Cs.getEntries(w,g).next(C=>{S=C,S.forEach((k,j)=>{j.isValidDocument()||(A=A.add(k))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,S)).next(C=>{v=C;const k=[];for(const j of c){const L=sz(j,v.get(j.key).overlayedDocument);L!=null&&k.push(new Io(j.key,L,MI(L.value.mapValue),os.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,k,c)}).next(C=>{_=C;const k=C.applyToLocalDocumentSet(v,A);return f.documentOverlayCache.saveOverlays(w,C.batchId,k)})}).then(()=>({batchId:_.batchId,changes:qI(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,c,f){let h=u.uu[u.currentUser.toKey()];h||(h=new rn(mt)),h=h.insert(c,f),u.uu[u.currentUser.toKey()]=h}(r,s.batchId,t),await mh(r,s.changes),await Ag(r.remoteStore)}catch(s){const o=Wb(s,"Failed to persist write");t.reject(o)}}async function RO(n,e){const t=lt(n);try{const r=await n6(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t._u.get(o);u&&(Ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.tu=!0:s.modifiedDocuments.size>0?Ut(u.tu,14607):s.removedDocuments.size>0&&(Ut(u.tu,42227),u.tu=!1))}),await mh(t,r,e)}catch(r){await Pc(r)}}function CA(n,e,t){const r=lt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ru.forEach((o,u)=>{const c=u.view.ga(e);c.snapshot&&s.push(c.snapshot)}),function(u,c){const f=lt(u);f.onlineState=c;let h=!1;f.queries.forEach((g,v)=>{for(const _ of v.Ra)_.ga(c)&&(h=!0)}),h&&Zb(f)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K6(n,e,t){const r=lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r._u.get(e),o=s&&s.key;if(o){let u=new rn(Ke.comparator);u=u.insert(o,tr.newNoDocument(o,st.min()));const c=Tt().add(o),f=new Sg(st.min(),new Map,new rn(mt),u,c);await RO(r,f),r.ou=r.ou.remove(o),r._u.delete(e),Jb(r)}else await A0(r.localStore,e,!1).then(()=>O0(r,e,t)).catch(Pc)}async function Q6(n,e){const t=lt(n),r=e.batch.batchId;try{const s=await t6(t.localStore,e);CO(t,r,null),AO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await mh(t,s)}catch(s){await Pc(s)}}async function Y6(n,e,t){const r=lt(n);try{const s=await function(u,c){const f=lt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return f.mutationQueue.lookupMutationBatch(h,c).next(v=>(Ut(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(h,v))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>f.localDocuments.getDocuments(h,g))})}(r.localStore,e);CO(r,e,t),AO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await mh(r,s)}catch(s){await Pc(s)}}function AO(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function CO(n,e,t){const r=lt(n);let s=r.uu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function O0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||IO(n,r)})}function IO(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(qb(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Jb(n))}function IA(n,e,t){for(const r of t)r instanceof TO?(n.au.addReference(r.key,e),W6(n,r)):r instanceof SO?(Ce(Xb,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||IO(n,r.key)):tt(19791,{Iu:r})}function W6(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ce(Xb,"New document in limbo: "+t),n.su.add(r),Jb(n))}function Jb(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ke(ln.fromString(e)),r=n.lu.next();n._u.set(r,new U6(t)),n.ou=n.ou.insert(t,r),yO(n.remoteStore,new no(as(Lb(t.path)),r,"TargetPurposeLimboResolution",gg.le))}}async function mh(n,e,t){const r=lt(n),s=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((c,f)=>{u.push(r.Pu(f,e,t).then(h=>{var g;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(h){s.push(h);const v=Hb.Ps(f.targetId,h);o.push(v)}}))}),await Promise.all(u),r.nu.Q_(s),await async function(f,h){const g=lt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>me.forEach(h,_=>me.forEach(_.ls,w=>g.persistence.referenceDelegate.addReference(v,_.targetId,w)).next(()=>me.forEach(_.hs,w=>g.persistence.referenceDelegate.removeReference(v,_.targetId,w)))))}catch(v){if(!Dc(v))throw v;Ce($b,"Failed to update sequence numbers: "+v)}for(const v of h){const _=v.targetId;if(!v.fromCache){const w=g.Ss.get(_),S=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(S);g.Ss=g.Ss.insert(_,A)}}}(r.localStore,o))}async function Z6(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){Ce(Xb,"User change. New user:",e.toKey());const r=await hO(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(c=>{c.forEach(f=>{f.reject(new $e(ge.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mh(t,r.Ms)}}function X6(n,e){const t=lt(n),r=t._u.get(e);if(r&&r.tu)return Tt().add(r.key);{let s=Tt();const o=t.iu.get(e);if(!o)return s;for(const u of o){const c=t.ru.get(u);s=s.unionWith(c.view.Wa)}return s}}function OO(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=RO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K6.bind(null,e),e.nu.Q_=D6.bind(null,e.eventManager),e.nu.Tu=M6.bind(null,e.eventManager),e}function J6(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y6.bind(null,e),e}class $m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xg(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return e6(this.persistence,new Zz,e.initialUser,this.serializer)}Ru(e){return new fO(Bb.Ei,this.serializer)}Au(e){return new o6}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$m.provider={build:()=>new $m};class eF extends $m{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ut(this.persistence.referenceDelegate instanceof Bm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Lz(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new fO(r=>Bm.Ei(r,t),this.serializer)}}class N0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z6.bind(null,this.syncEngine),await I6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N6}()}createDatastore(e){const t=xg(e.databaseInfo.databaseId),r=function(o){return new f6(o)}(e.databaseInfo);return function(o,u,c,f){return new g6(o,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,c){return new v6(r,s,o,u,c)}(this.localStore,this.datastore,e.asyncQueue,t=>CA(this.syncEngine,t,0),function(){return EA.C()?new EA:new l6}())}createSyncEngine(e,t){return function(s,o,u,c,f,h,g){const v=new z6(s,o,u,c,f,h);return g&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=lt(s);Ce(Ol,"RemoteStore shutting down."),o.aa.add(5),await ph(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}N0.provider={build:()=>new N0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):na("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="FirestoreClient";class nF{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=er.UNAUTHENTICATED,this.clientId=xI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ce(yo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ce(yo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Wb(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function v_(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(yo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await hO(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function OA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await rF(n);Ce(yo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>SA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>SA(e.remoteStore,s)),n._onlineComponents=e}async function rF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(yo,"Using user provided OfflineComponentProvider");try{await v_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ge.FAILED_PRECONDITION||s.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;mc("Error using user provided cache. Falling back to memory cache: "+t),await v_(n,new $m)}}else Ce(yo,"Using default OfflineComponentProvider"),await v_(n,new eF(void 0));return n._offlineComponents}async function NO(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(yo,"Using user provided OnlineComponentProvider"),await OA(n,n._uninitializedComponentsProvider._online)):(Ce(yo,"Using default OnlineComponentProvider"),await OA(n,new N0))),n._onlineComponents}function iF(n){return NO(n).then(e=>e.syncEngine)}async function sF(n){const e=await NO(n),t=e.eventManager;return t.onListen=F6.bind(null,e.syncEngine),t.onUnlisten=$6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=B6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=q6.bind(null,e.syncEngine),t}function aF(n,e,t={}){const r=new lo;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,c,f,h){const g=new tF({next:_=>{g.yu(),u.enqueueAndForget(()=>P6(o,v));const w=_.docs.has(c);!w&&_.fromCache?h.reject(new $e(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&f&&f.source==="server"?h.reject(new $e(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),v=new L6(Lb(c.path),g,{includeMetadataChanges:!0,Fa:!0});return k6(o,v)}(await sF(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(n,e,t){if(!t)throw new $e(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lF(n,e,t,r){if(e===!0&&r===!0)throw new $e(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kA(n){if(!Ke.isDocumentKey(n))throw new $e(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ew(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":tt(12329,{type:typeof n})}function Nl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ew(n);throw new $e(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="firestore.googleapis.com",PA=!0;class DA{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PO,this.ssl=PA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:PA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dz)throw new $e(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $e(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $e(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $e(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tw{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u3;switch(r.type){case"firstParty":return new h3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $e(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=NA.get(t);r&&(Ce("ComponentProvider","Removing Datastore"),NA.delete(t),r.terminate())}(this),Promise.resolve()}}function uF(n,e,t,r={}){var s;const o=(n=Nl(n,tw))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o.host!==PO&&o.host!==c&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:r});if(!xl(f,u)&&(n._setSettings(f),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=er.MOCK_USER;else{h=bj(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new $e(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new er(v)}n._authCredentials=new c3(new TI(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nw(this.firestore,e,this._query)}}class Fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}}class Nf extends nw{constructor(e,t,r){super(e,t,Lb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new Ke(e))}withConverter(e){return new Nf(this.firestore,e,this._path)}}function __(n,e,...t){if(n=rr(n),arguments.length===1&&(e=xI.newId()),oF("doc","path",e),n instanceof tw){const r=ln.fromString(e,...t);return kA(r),new Fr(n,null,new Ke(r))}{if(!(n instanceof Fr||n instanceof Nf))throw new $e(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return kA(r),new Fr(n.firestore,n instanceof Nf?n.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="AsyncQueue";class LA{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new mO(this,"async_queue_retry"),this.ju=()=>{const r=y_();r&&Ce(MA,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=y_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=y_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new lo;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Dc(e))throw e;Ce(MA,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,na("INTERNAL UNHANDLED ERROR: ",VA(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=Yb.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(s),s}Ju(){this.Ku&&tt(47125,{ec:VA(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function VA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Cg extends tw{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new LA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LA(e),this._firestoreClient=void 0,await e}}}function cF(n,e){const t=typeof n=="object"?n:P1(),r=typeof n=="string"?n:Lm,s=_b(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=vj("firestore");o&&uF(s,...o)}return s}function DO(n){if(n._terminated)throw new $e(ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dF(n),n._firestoreClient}function dF(n){var e,t,r;const s=n._freezeSettings(),o=function(c,f,h,g){return new C3(c,f,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,kO(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new nF(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wc(Gn.fromBase64String(e))}catch(t){throw new $e(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wc(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $e(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=/^__.*__$/;class hF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,t,this.fieldTransforms):new fh(e,this.data,t,this.fieldTransforms)}}class MO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Io(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt(40011,{oc:n})}}class sw{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new sw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return qm(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(LO(this.oc)&&fF.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class pF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||xg(e)}dc(e,t,r,s=!1){return new sw({oc:e,methodName:t,Ec:r,path:qn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VO(n){const e=n._freezeSettings(),t=xg(n._databaseId);return new pF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mF(n,e,t,r,s,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,s);ow("Data must be an object, but it was:",u,r);const c=jO(r,u);let f,h;if(o.merge)f=new zr(u.fieldMask),h=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const _=k0(e,v,t);if(!u.contains(_))throw new $e(ge.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);zO(g,_)||g.push(_)}f=new zr(g),h=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,h=u.fieldTransforms;return new hF(new Tr(c),f,h)}class Ng extends Og{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ng}}class aw extends Og{_toFieldTransform(e){return new tz(e.path,new Cf)}isEqual(e){return e instanceof aw}}function gF(n,e,t,r){const s=n.dc(1,e,t);ow("Data must be an object, but it was:",s,r);const o=[],u=Tr.empty();Co(r,(f,h)=>{const g=lw(e,f,t);h=rr(h);const v=s.hc(g);if(h instanceof Ng)o.push(g);else{const _=kg(h,v);_!=null&&(o.push(g),u.set(g,_))}});const c=new zr(o);return new MO(u,c,s.fieldTransforms)}function yF(n,e,t,r,s,o){const u=n.dc(1,e,t),c=[k0(e,r,t)],f=[s];if(o.length%2!=0)throw new $e(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(k0(e,o[_])),f.push(o[_+1]);const h=[],g=Tr.empty();for(let _=c.length-1;_>=0;--_)if(!zO(h,c[_])){const w=c[_];let S=f[_];S=rr(S);const A=u.hc(w);if(S instanceof Ng)h.push(w);else{const C=kg(S,A);C!=null&&(h.push(w),g.set(w,C))}}const v=new zr(h);return new MO(g,v,u.fieldTransforms)}function kg(n,e){if(UO(n=rr(n)))return ow("Unsupported field value:",e,n),jO(n,e);if(n instanceof Og)return function(r,s){if(!LO(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const c of r){let f=kg(c,s.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=rr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Cn.fromDate(r);return{timestampValue:Fm(s.serializer,o)}}if(r instanceof Cn){const o=new Cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fm(s.serializer,o)}}if(r instanceof rw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wc)return{bytesValue:iO(s.serializer,r._byteString)};if(r instanceof Fr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof iw)return function(u,c){return{mapValue:{fields:{[PI]:{stringValue:DI},[Vm]:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw c.Tc("VectorValues must only contain numeric values.");return Vb(c.serializer,h)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${ew(r)}`)}(n,e)}function jO(n,e){const t={};return AI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(n,(r,s)=>{const o=kg(s,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function UO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Cn||n instanceof rw||n instanceof wc||n instanceof Fr||n instanceof Og||n instanceof iw)}function ow(n,e,t){if(!UO(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=ew(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function k0(n,e,t){if((e=rr(e))instanceof Ig)return e._internalPath;if(typeof e=="string")return lw(n,e);throw qm("Field path arguments must be of type string or ",n,!1,void 0,t)}const vF=new RegExp("[~\\*/\\[\\]]");function lw(n,e,t){if(e.search(vF)>=0)throw qm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ig(...e.split("."))._internalPath}catch{throw qm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qm(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new $e(ge.INVALID_ARGUMENT,c+n+f)}function zO(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _F(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BO("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _F extends FO{data(){return super.data()}}function BO(n,e){return typeof e=="string"?lw(n,e):e instanceof Ig?e._internalPath:e._delegate._internalPath}class bF{convertValue(e,t="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Co(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Vm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>fn(u.doubleValue));return new iw(o)}convertGeoPoint(e){return new rw(fn(e.latitude),fn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xf(e));default:return null}}convertTimestamp(e){const t=ho(e);return new Cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);Ut(cO(r),9688,{name:e});const s=new Rf(r.get(1),r.get(3)),o=new Ke(r.popFirst(5));return s.isEqual(t)||na(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HO extends FO{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new TF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(BO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class TF extends HO{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(n){n=Nl(n,Fr);const e=Nl(n.firestore,Cg);return aF(DO(e),n._key).then(t=>CF(e,n,t))}class xF extends bF{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,t)}}function RF(n,e,t){n=Nl(n,Fr);const r=Nl(n.firestore,Cg),s=wF(n.converter,e);return $O(r,[mF(VO(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,os.none())])}function AF(n,e,t,...r){n=Nl(n,Fr);const s=Nl(n.firestore,Cg),o=VO(s);let u;return u=typeof(e=rr(e))=="string"||e instanceof Ig?yF(o,"updateDoc",n._key,e,t,r):gF(o,"updateDoc",n._key,e),$O(s,[u.toMutation(n._key,os.exists(!0))])}function $O(n,e){return function(r,s){const o=new lo;return r.asyncQueue.enqueueAndForget(async()=>G6(await iF(r),s,o)),o.promise}(DO(n),e)}function CF(n,e,t){const r=t.docs.get(e._key),s=new xF(n);return new HO(n,s,e._key,r,new EF(t.hasPendingWrites,t.fromCache),e.converter)}function b_(){return new aw("serverTimestamp")}(function(e,t=!0){(function(s){kc=s})(Oc),pc(new Rl("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new Cg(new d3(r.getProvider("auth-internal")),new p3(u,r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new $e(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rf(h.options.projectId,g)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ao(HR,$R,e),ao(HR,$R,"esm2017")})();const IF={apiKey:"AIzaSyDh6tOPoZqk7PeJfqJnf4w0O0nGDupBPW8",authDomain:"pokemon-battle-area-database.firebaseapp.com",projectId:"pokemon-battle-area-database",storageBucket:"pokemon-battle-area-database.firebasestorage.app",messagingSenderId:"200692055130",appId:"1:200692055130:web:49128e70e22d034facec63",measurementId:"G-LRDPHPLCXX"},qO=k1(IF),Gd=mI(qO),w_=cF(qO),gh=dg(n=>({user:null,loading:!0,error:null,signIn:async(e,t)=>{try{n({loading:!0,error:null}),await q4(Gd,e,t)}catch(r){throw n({error:r.message,loading:!1}),r}},signUp:async(e,t)=>{try{n({loading:!0,error:null}),await $4(Gd,e,t)}catch(r){throw n({error:r.message,loading:!1}),r}},logout:async()=>{try{n({loading:!0,error:null}),await Y4(Gd)}catch(e){throw n({error:e.message,loading:!1}),e}},clearError:()=>n({error:null}),initializeAuth:()=>Q4(Gd,t=>{n({user:t,loading:!1})}),signInWithGoogle:async()=>{try{n({loading:!0,error:null});const e=new Ys;await m9(Gd,e)}catch(e){throw n({error:e.message,loading:!1}),e}}}));gh.getState().initializeAuth();class hf{static async getPlayerData(e){try{const t=__(w_,"players",e),r=await SF(t);return r.exists()?r.data():null}catch(t){throw console.error("Error getting player data:",t),t}}static async createPlayerData(e){try{const t=__(w_,"players",e.uid),r=e.playerTeam.map(o=>o&&typeof o=="object"?JSON.parse(JSON.stringify(o)):o),s={...e,playerTeam:r,createdAt:b_(),updatedAt:b_()};await RF(t,s)}catch(t){throw console.error("Error creating player data:",t),t}}static async updatePlayerData(e,t){try{const r=__(w_,"players",e),s={...t};if(t.playerTeam){const o=t.playerTeam.map(u=>u&&typeof u=="object"?JSON.parse(JSON.stringify(u)):u);s.playerTeam=o}await AF(r,{...s,updatedAt:b_()})}catch(r){throw console.error("Error updating player data:",r),r}}}var Nt;(function(n){n.assertEqual=s=>s;function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const o={};for(const u of s)o[u]=u;return o},n.getValidEnumValues=s=>{const o=n.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),u={};for(const c of o)u[c]=s[c];return n.objectValues(u)},n.objectValues=s=>n.objectKeys(s).map(function(o){return s[o]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&o.push(u);return o},n.find=(s,o)=>{for(const u of s)if(o(u))return u},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}n.joinValues=r,n.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Nt||(Nt={}));var P0;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(P0||(P0={}));const Re=Nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ks=n=>{switch(typeof n){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return isNaN(n)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(n)?Re.array:n===null?Re.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Re.promise:typeof Map<"u"&&n instanceof Map?Re.map:typeof Set<"u"&&n instanceof Set?Re.set:typeof Date<"u"&&n instanceof Date?Re.date:Re.object;default:return Re.unknown}},ye=Nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),OF=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Br extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},r={_errors:[]},s=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(s);else if(u.code==="invalid_return_type")s(u.returnTypeError);else if(u.code==="invalid_arguments")s(u.argumentsError);else if(u.path.length===0)r._errors.push(t(u));else{let c=r,f=0;for(;f<u.path.length;){const h=u.path[f];f===u.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(t(u))):c[h]=c[h]||{_errors:[]},c=c[h],f++}}};return s(this),r}static assert(e){if(!(e instanceof Br))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Br.create=n=>new Br(n);const Ec=(n,e)=>{let t;switch(n.code){case ye.invalid_type:n.received===Re.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ye.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Nt.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:t=`Unrecognized key(s) in object: ${Nt.joinValues(n.keys,", ")}`;break;case ye.invalid_union:t="Invalid input";break;case ye.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Nt.joinValues(n.options)}`;break;case ye.invalid_enum_value:t=`Invalid enum value. Expected ${Nt.joinValues(n.options)}, received '${n.received}'`;break;case ye.invalid_arguments:t="Invalid function arguments";break;case ye.invalid_return_type:t="Invalid function return type";break;case ye.invalid_date:t="Invalid date";break;case ye.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Nt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ye.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ye.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ye.custom:t="Invalid input";break;case ye.invalid_intersection_types:t="Intersection results could not be merged";break;case ye.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ye.not_finite:t="Number must be finite";break;default:t=e.defaultError,Nt.assertNever(n)}return{message:t}};let GO=Ec;function NF(n){GO=n}function Gm(){return GO}const Km=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,o=[...t,...s.path||[]],u={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let c="";const f=r.filter(h=>!!h).slice().reverse();for(const h of f)c=h(u,{data:e,defaultError:c}).message;return{...s,path:o,message:c}},kF=[];function Se(n,e){const t=Gm(),r=Km({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Ec?void 0:Ec].filter(s=>!!s)});n.common.issues.push(r)}class ir{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return nt;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const o=await s.key,u=await s.value;r.push({key:o,value:u})}return ir.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:o,value:u}=s;if(o.status==="aborted"||u.status==="aborted")return nt;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||s.alwaysSet)&&(r[o.value]=u.value)}return{status:e.value,value:r}}}const nt=Object.freeze({status:"aborted"}),qu=n=>({status:"dirty",value:n}),pr=n=>({status:"valid",value:n}),D0=n=>n.status==="aborted",M0=n=>n.status==="dirty",kl=n=>n.status==="valid",kf=n=>typeof Promise<"u"&&n instanceof Promise;function Qm(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function KO(n,e,t,r,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var je;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(je||(je={}));var nf,rf;class hs{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jA=(n,e)=>{if(kl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Br(n.common.issues);return this._error=t,this._error}}};function ut(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(u,c)=>{var f,h;const{message:g}=n;return u.code==="invalid_enum_value"?{message:g??c.defaultError}:typeof c.data>"u"?{message:(f=g??r)!==null&&f!==void 0?f:c.defaultError}:u.code!=="invalid_type"?{message:c.defaultError}:{message:(h=g??t)!==null&&h!==void 0?h:c.defaultError}},description:s}}class dt{get description(){return this._def.description}_getType(e){return Ks(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ks(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ir,ctx:{common:e.parent.common,data:e.data,parsedType:Ks(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(kf(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const s={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ks(e)},o=this._parseSync({data:e,path:s.path,parent:s});return jA(s,o)}"~validate"(e){var t,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ks(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:s});return kl(o)?{value:o.value}:{issues:s.common.issues}}catch(o){!((r=(t=o==null?void 0:o.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(o=>kl(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ks(e)},s=this._parse({data:e,path:r.path,parent:r}),o=await(kf(s)?s:Promise.resolve(s));return jA(r,o)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,o)=>{const u=e(s),c=()=>o.addIssue({code:ye.custom,...r(s)});return typeof Promise<"u"&&u instanceof Promise?u.then(f=>f?!0:(c(),!1)):u?!0:(c(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Ci({schema:this,typeName:Xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return us.create(this,this._def)}nullable(){return wo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ai.create(this)}promise(){return Sc.create(this,this._def)}or(e){return Lf.create([this,e],this._def)}and(e){return Vf.create(this,e,this._def)}transform(e){return new Ci({...ut(this._def),schema:this,typeName:Xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Bf({...ut(this._def),innerType:this,defaultValue:t,typeName:Xe.ZodDefault})}brand(){return new uw({typeName:Xe.ZodBranded,type:this,...ut(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Hf({...ut(this._def),innerType:this,catchValue:t,typeName:Xe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return yh.create(this,e)}readonly(){return $f.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PF=/^c[^\s-]{8,}$/i,DF=/^[0-9a-z]+$/,MF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,LF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,VF=/^[a-z0-9_-]{21}$/i,jF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,FF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let E_;const BF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,HF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$F=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,KF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,QO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",QF=new RegExp(`^${QO}$`);function YO(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function YF(n){return new RegExp(`^${YO(n)}$`)}function WO(n){let e=`${QO}T${YO(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function WF(n,e){return!!((e==="v4"||!e)&&BF.test(n)||(e==="v6"||!e)&&$F.test(n))}function ZF(n,e){if(!jF.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function XF(n,e){return!!((e==="v4"||!e)&&HF.test(n)||(e==="v6"||!e)&&qF.test(n))}class xi extends dt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Re.string){const o=this._getOrReturnCtx(e);return Se(o,{code:ye.invalid_type,expected:Re.string,received:o.parsedType}),nt}const r=new ir;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),Se(s,{code:ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),Se(s,{code:ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,c=e.data.length<o.value;(u||c)&&(s=this._getOrReturnCtx(e,s),u?Se(s,{code:ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&Se(s,{code:ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")zF.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"email",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")E_||(E_=new RegExp(FF,"u")),E_.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"emoji",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")LF.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"uuid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")VF.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"nanoid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")PF.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"cuid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")DF.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"cuid2",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")MF.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"ulid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Se(s,{validation:"url",code:ye.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"regex",code:ye.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),Se(s,{code:ye.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),Se(s,{code:ye.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),Se(s,{code:ye.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?WO(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{code:ye.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?QF.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{code:ye.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?YF(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{code:ye.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?UF.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"duration",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?WF(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"ip",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?ZF(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"jwt",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?XF(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"cidr",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?GF.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"base64",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?KF.test(e.data)||(s=this._getOrReturnCtx(e,s),Se(s,{validation:"base64url",code:ye.invalid_string,message:o.message}),r.dirty()):Nt.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:ye.invalid_string,...je.errToObj(r)})}_addCheck(e){return new xi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...je.errToObj(e)})}url(e){return this._addCheck({kind:"url",...je.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...je.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...je.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...je.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...je.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...je.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...je.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...je.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...je.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...je.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...je.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...je.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...je.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...je.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...je.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...je.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...je.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...je.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...je.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...je.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...je.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...je.errToObj(t)})}nonempty(e){return this.min(1,je.errToObj(e))}trim(){return new xi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}xi.create=n=>{var e;return new xi({checks:[],typeName:Xe.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ut(n)})};function JF(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,o=parseInt(n.toFixed(s).replace(".","")),u=parseInt(e.toFixed(s).replace(".",""));return o%u/Math.pow(10,s)}class vo extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Re.number){const o=this._getOrReturnCtx(e);return Se(o,{code:ye.invalid_type,expected:Re.number,received:o.parsedType}),nt}let r;const s=new ir;for(const o of this._def.checks)o.kind==="int"?Nt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Se(r,{code:ye.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:ye.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:ye.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?JF(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),Se(r,{code:ye.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Se(r,{code:ye.not_finite,message:o.message}),s.dirty()):Nt.assertNever(o);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,je.toString(t))}gt(e,t){return this.setLimit("min",e,!1,je.toString(t))}lte(e,t){return this.setLimit("max",e,!0,je.toString(t))}lt(e,t){return this.setLimit("max",e,!1,je.toString(t))}setLimit(e,t,r,s){return new vo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:je.toString(s)}]})}_addCheck(e){return new vo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:je.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:je.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:je.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:je.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:je.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Nt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}vo.create=n=>new vo({checks:[],typeName:Xe.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ut(n)});class _o extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Re.bigint)return this._getInvalidInput(e);let r;const s=new ir;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:ye.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:ye.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:ye.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Nt.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Se(t,{code:ye.invalid_type,expected:Re.bigint,received:t.parsedType}),nt}gte(e,t){return this.setLimit("min",e,!0,je.toString(t))}gt(e,t){return this.setLimit("min",e,!1,je.toString(t))}lte(e,t){return this.setLimit("max",e,!0,je.toString(t))}lt(e,t){return this.setLimit("max",e,!1,je.toString(t))}setLimit(e,t,r,s){return new _o({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:je.toString(s)}]})}_addCheck(e){return new _o({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:je.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}_o.create=n=>{var e;return new _o({checks:[],typeName:Xe.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ut(n)})};class Pf extends dt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Re.boolean){const r=this._getOrReturnCtx(e);return Se(r,{code:ye.invalid_type,expected:Re.boolean,received:r.parsedType}),nt}return pr(e.data)}}Pf.create=n=>new Pf({typeName:Xe.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ut(n)});class Pl extends dt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Re.date){const o=this._getOrReturnCtx(e);return Se(o,{code:ye.invalid_type,expected:Re.date,received:o.parsedType}),nt}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Se(o,{code:ye.invalid_date}),nt}const r=new ir;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),Se(s,{code:ye.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),Se(s,{code:ye.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Nt.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Pl({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:je.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:je.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Pl.create=n=>new Pl({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Xe.ZodDate,...ut(n)});class Ym extends dt{_parse(e){if(this._getType(e)!==Re.symbol){const r=this._getOrReturnCtx(e);return Se(r,{code:ye.invalid_type,expected:Re.symbol,received:r.parsedType}),nt}return pr(e.data)}}Ym.create=n=>new Ym({typeName:Xe.ZodSymbol,...ut(n)});class Df extends dt{_parse(e){if(this._getType(e)!==Re.undefined){const r=this._getOrReturnCtx(e);return Se(r,{code:ye.invalid_type,expected:Re.undefined,received:r.parsedType}),nt}return pr(e.data)}}Df.create=n=>new Df({typeName:Xe.ZodUndefined,...ut(n)});class Mf extends dt{_parse(e){if(this._getType(e)!==Re.null){const r=this._getOrReturnCtx(e);return Se(r,{code:ye.invalid_type,expected:Re.null,received:r.parsedType}),nt}return pr(e.data)}}Mf.create=n=>new Mf({typeName:Xe.ZodNull,...ut(n)});class Tc extends dt{constructor(){super(...arguments),this._any=!0}_parse(e){return pr(e.data)}}Tc.create=n=>new Tc({typeName:Xe.ZodAny,...ut(n)});class El extends dt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pr(e.data)}}El.create=n=>new El({typeName:Xe.ZodUnknown,...ut(n)});class ia extends dt{_parse(e){const t=this._getOrReturnCtx(e);return Se(t,{code:ye.invalid_type,expected:Re.never,received:t.parsedType}),nt}}ia.create=n=>new ia({typeName:Xe.ZodNever,...ut(n)});class Wm extends dt{_parse(e){if(this._getType(e)!==Re.undefined){const r=this._getOrReturnCtx(e);return Se(r,{code:ye.invalid_type,expected:Re.void,received:r.parsedType}),nt}return pr(e.data)}}Wm.create=n=>new Wm({typeName:Xe.ZodVoid,...ut(n)});class Ai extends dt{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==Re.array)return Se(t,{code:ye.invalid_type,expected:Re.array,received:t.parsedType}),nt;if(s.exactLength!==null){const u=t.data.length>s.exactLength.value,c=t.data.length<s.exactLength.value;(u||c)&&(Se(t,{code:u?ye.too_big:ye.too_small,minimum:c?s.exactLength.value:void 0,maximum:u?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(Se(t,{code:ye.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(Se(t,{code:ye.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((u,c)=>s.type._parseAsync(new hs(t,u,t.path,c)))).then(u=>ir.mergeArray(r,u));const o=[...t.data].map((u,c)=>s.type._parseSync(new hs(t,u,t.path,c)));return ir.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new Ai({...this._def,minLength:{value:e,message:je.toString(t)}})}max(e,t){return new Ai({...this._def,maxLength:{value:e,message:je.toString(t)}})}length(e,t){return new Ai({...this._def,exactLength:{value:e,message:je.toString(t)}})}nonempty(e){return this.min(1,e)}}Ai.create=(n,e)=>new Ai({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Xe.ZodArray,...ut(e)});function $u(n){if(n instanceof nn){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=us.create($u(r))}return new nn({...n._def,shape:()=>e})}else return n instanceof Ai?new Ai({...n._def,type:$u(n.element)}):n instanceof us?us.create($u(n.unwrap())):n instanceof wo?wo.create($u(n.unwrap())):n instanceof ps?ps.create(n.items.map(e=>$u(e))):n}class nn extends dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Nt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Re.object){const h=this._getOrReturnCtx(e);return Se(h,{code:ye.invalid_type,expected:Re.object,received:h.parsedType}),nt}const{status:r,ctx:s}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),c=[];if(!(this._def.catchall instanceof ia&&this._def.unknownKeys==="strip"))for(const h in s.data)u.includes(h)||c.push(h);const f=[];for(const h of u){const g=o[h],v=s.data[h];f.push({key:{status:"valid",value:h},value:g._parse(new hs(s,v,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof ia){const h=this._def.unknownKeys;if(h==="passthrough")for(const g of c)f.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(h==="strict")c.length>0&&(Se(s,{code:ye.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const g of c){const v=s.data[g];f.push({key:{status:"valid",value:g},value:h._parse(new hs(s,v,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const g of f){const v=await g.key,_=await g.value;h.push({key:v,value:_,alwaysSet:g.alwaysSet})}return h}).then(h=>ir.mergeObjectSync(r,h)):ir.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return je.errToObj,new nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,o,u,c;const f=(u=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,t,r).message)!==null&&u!==void 0?u:r.defaultError;return t.code==="unrecognized_keys"?{message:(c=je.errToObj(e).message)!==null&&c!==void 0?c:f}:{message:f}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new nn({...this._def,catchall:e})}pick(e){const t={};return Nt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new nn({...this._def,shape:()=>t})}omit(e){const t={};return Nt.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new nn({...this._def,shape:()=>t})}deepPartial(){return $u(this)}partial(e){const t={};return Nt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new nn({...this._def,shape:()=>t})}required(e){const t={};return Nt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof us;)o=o._def.innerType;t[r]=o}}),new nn({...this._def,shape:()=>t})}keyof(){return ZO(Nt.objectKeys(this.shape))}}nn.create=(n,e)=>new nn({shape:()=>n,unknownKeys:"strip",catchall:ia.create(),typeName:Xe.ZodObject,...ut(e)});nn.strictCreate=(n,e)=>new nn({shape:()=>n,unknownKeys:"strict",catchall:ia.create(),typeName:Xe.ZodObject,...ut(e)});nn.lazycreate=(n,e)=>new nn({shape:n,unknownKeys:"strip",catchall:ia.create(),typeName:Xe.ZodObject,...ut(e)});class Lf extends dt{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const u=o.map(c=>new Br(c.ctx.common.issues));return Se(t,{code:ye.invalid_union,unionErrors:u}),nt}if(t.common.async)return Promise.all(r.map(async o=>{const u={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:u}),ctx:u}})).then(s);{let o;const u=[];for(const f of r){const h={...t,common:{...t.common,issues:[]},parent:null},g=f._parseSync({data:t.data,path:t.path,parent:h});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:h}),h.common.issues.length&&u.push(h.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const c=u.map(f=>new Br(f));return Se(t,{code:ye.invalid_union,unionErrors:c}),nt}}get options(){return this._def.options}}Lf.create=(n,e)=>new Lf({options:n,typeName:Xe.ZodUnion,...ut(e)});const Gs=n=>n instanceof Uf?Gs(n.schema):n instanceof Ci?Gs(n.innerType()):n instanceof zf?[n.value]:n instanceof bo?n.options:n instanceof Ff?Nt.objectValues(n.enum):n instanceof Bf?Gs(n._def.innerType):n instanceof Df?[void 0]:n instanceof Mf?[null]:n instanceof us?[void 0,...Gs(n.unwrap())]:n instanceof wo?[null,...Gs(n.unwrap())]:n instanceof uw||n instanceof $f?Gs(n.unwrap()):n instanceof Hf?Gs(n._def.innerType):[];class Pg extends dt{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Re.object)return Se(t,{code:ye.invalid_type,expected:Re.object,received:t.parsedType}),nt;const r=this.discriminator,s=t.data[r],o=this.optionsMap.get(s);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(Se(t,{code:ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),nt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const o of t){const u=Gs(o.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of u){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,o)}}return new Pg({typeName:Xe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...ut(r)})}}function L0(n,e){const t=Ks(n),r=Ks(e);if(n===e)return{valid:!0,data:n};if(t===Re.object&&r===Re.object){const s=Nt.objectKeys(e),o=Nt.objectKeys(n).filter(c=>s.indexOf(c)!==-1),u={...n,...e};for(const c of o){const f=L0(n[c],e[c]);if(!f.valid)return{valid:!1};u[c]=f.data}return{valid:!0,data:u}}else if(t===Re.array&&r===Re.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<n.length;o++){const u=n[o],c=e[o],f=L0(u,c);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return t===Re.date&&r===Re.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Vf extends dt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(o,u)=>{if(D0(o)||D0(u))return nt;const c=L0(o.value,u.value);return c.valid?((M0(o)||M0(u))&&t.dirty(),{status:t.value,value:c.data}):(Se(r,{code:ye.invalid_intersection_types}),nt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,u])=>s(o,u)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Vf.create=(n,e,t)=>new Vf({left:n,right:e,typeName:Xe.ZodIntersection,...ut(t)});class ps extends dt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.array)return Se(r,{code:ye.invalid_type,expected:Re.array,received:r.parsedType}),nt;if(r.data.length<this._def.items.length)return Se(r,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nt;!this._def.rest&&r.data.length>this._def.items.length&&(Se(r,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map((u,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new hs(r,u,r.path,c)):null}).filter(u=>!!u);return r.common.async?Promise.all(o).then(u=>ir.mergeArray(t,u)):ir.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new ps({...this._def,rest:e})}}ps.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ps({items:n,typeName:Xe.ZodTuple,rest:null,...ut(e)})};class jf extends dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.object)return Se(r,{code:ye.invalid_type,expected:Re.object,received:r.parsedType}),nt;const s=[],o=this._def.keyType,u=this._def.valueType;for(const c in r.data)s.push({key:o._parse(new hs(r,c,r.path,c)),value:u._parse(new hs(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?ir.mergeObjectAsync(t,s):ir.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof dt?new jf({keyType:e,valueType:t,typeName:Xe.ZodRecord,...ut(r)}):new jf({keyType:xi.create(),valueType:e,typeName:Xe.ZodRecord,...ut(t)})}}class Zm extends dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.map)return Se(r,{code:ye.invalid_type,expected:Re.map,received:r.parsedType}),nt;const s=this._def.keyType,o=this._def.valueType,u=[...r.data.entries()].map(([c,f],h)=>({key:s._parse(new hs(r,c,r.path,[h,"key"])),value:o._parse(new hs(r,f,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of u){const h=await f.key,g=await f.value;if(h.status==="aborted"||g.status==="aborted")return nt;(h.status==="dirty"||g.status==="dirty")&&t.dirty(),c.set(h.value,g.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const f of u){const h=f.key,g=f.value;if(h.status==="aborted"||g.status==="aborted")return nt;(h.status==="dirty"||g.status==="dirty")&&t.dirty(),c.set(h.value,g.value)}return{status:t.value,value:c}}}}Zm.create=(n,e,t)=>new Zm({valueType:e,keyType:n,typeName:Xe.ZodMap,...ut(t)});class Dl extends dt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.set)return Se(r,{code:ye.invalid_type,expected:Re.set,received:r.parsedType}),nt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Se(r,{code:ye.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Se(r,{code:ye.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const o=this._def.valueType;function u(f){const h=new Set;for(const g of f){if(g.status==="aborted")return nt;g.status==="dirty"&&t.dirty(),h.add(g.value)}return{status:t.value,value:h}}const c=[...r.data.values()].map((f,h)=>o._parse(new hs(r,f,r.path,h)));return r.common.async?Promise.all(c).then(f=>u(f)):u(c)}min(e,t){return new Dl({...this._def,minSize:{value:e,message:je.toString(t)}})}max(e,t){return new Dl({...this._def,maxSize:{value:e,message:je.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Dl.create=(n,e)=>new Dl({valueType:n,minSize:null,maxSize:null,typeName:Xe.ZodSet,...ut(e)});class Zu extends dt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Re.function)return Se(t,{code:ye.invalid_type,expected:Re.function,received:t.parsedType}),nt;function r(c,f){return Km({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gm(),Ec].filter(h=>!!h),issueData:{code:ye.invalid_arguments,argumentsError:f}})}function s(c,f){return Km({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gm(),Ec].filter(h=>!!h),issueData:{code:ye.invalid_return_type,returnTypeError:f}})}const o={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof Sc){const c=this;return pr(async function(...f){const h=new Br([]),g=await c._def.args.parseAsync(f,o).catch(w=>{throw h.addIssue(r(f,w)),h}),v=await Reflect.apply(u,this,g);return await c._def.returns._def.type.parseAsync(v,o).catch(w=>{throw h.addIssue(s(v,w)),h})})}else{const c=this;return pr(function(...f){const h=c._def.args.safeParse(f,o);if(!h.success)throw new Br([r(f,h.error)]);const g=Reflect.apply(u,this,h.data),v=c._def.returns.safeParse(g,o);if(!v.success)throw new Br([s(g,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Zu({...this._def,args:ps.create(e).rest(El.create())})}returns(e){return new Zu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Zu({args:e||ps.create([]).rest(El.create()),returns:t||El.create(),typeName:Xe.ZodFunction,...ut(r)})}}class Uf extends dt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Uf.create=(n,e)=>new Uf({getter:n,typeName:Xe.ZodLazy,...ut(e)});class zf extends dt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Se(t,{received:t.data,code:ye.invalid_literal,expected:this._def.value}),nt}return{status:"valid",value:e.data}}get value(){return this._def.value}}zf.create=(n,e)=>new zf({value:n,typeName:Xe.ZodLiteral,...ut(e)});function ZO(n,e){return new bo({values:n,typeName:Xe.ZodEnum,...ut(e)})}class bo extends dt{constructor(){super(...arguments),nf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Se(t,{expected:Nt.joinValues(r),received:t.parsedType,code:ye.invalid_type}),nt}if(Qm(this,nf)||KO(this,nf,new Set(this._def.values)),!Qm(this,nf).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Se(t,{received:t.data,code:ye.invalid_enum_value,options:r}),nt}return pr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return bo.create(e,{...this._def,...t})}exclude(e,t=this._def){return bo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}nf=new WeakMap;bo.create=ZO;class Ff extends dt{constructor(){super(...arguments),rf.set(this,void 0)}_parse(e){const t=Nt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Re.string&&r.parsedType!==Re.number){const s=Nt.objectValues(t);return Se(r,{expected:Nt.joinValues(s),received:r.parsedType,code:ye.invalid_type}),nt}if(Qm(this,rf)||KO(this,rf,new Set(Nt.getValidEnumValues(this._def.values))),!Qm(this,rf).has(e.data)){const s=Nt.objectValues(t);return Se(r,{received:r.data,code:ye.invalid_enum_value,options:s}),nt}return pr(e.data)}get enum(){return this._def.values}}rf=new WeakMap;Ff.create=(n,e)=>new Ff({values:n,typeName:Xe.ZodNativeEnum,...ut(e)});class Sc extends dt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Re.promise&&t.common.async===!1)return Se(t,{code:ye.invalid_type,expected:Re.promise,received:t.parsedType}),nt;const r=t.parsedType===Re.promise?t.data:Promise.resolve(t.data);return pr(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Sc.create=(n,e)=>new Sc({type:n,typeName:Xe.ZodPromise,...ut(e)});class Ci extends dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:u=>{Se(r,u),u.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const u=s.transform(r.data,o);if(r.common.async)return Promise.resolve(u).then(async c=>{if(t.value==="aborted")return nt;const f=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return f.status==="aborted"?nt:f.status==="dirty"||t.value==="dirty"?qu(f.value):f});{if(t.value==="aborted")return nt;const c=this._def.schema._parseSync({data:u,path:r.path,parent:r});return c.status==="aborted"?nt:c.status==="dirty"||t.value==="dirty"?qu(c.value):c}}if(s.type==="refinement"){const u=c=>{const f=s.refinement(c,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?nt:(c.status==="dirty"&&t.dirty(),u(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?nt:(c.status==="dirty"&&t.dirty(),u(c.value).then(()=>({status:t.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!kl(u))return u;const c=s.transform(u.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>kl(u)?Promise.resolve(s.transform(u.value,o)).then(c=>({status:t.value,value:c})):u);Nt.assertNever(s)}}Ci.create=(n,e,t)=>new Ci({schema:n,typeName:Xe.ZodEffects,effect:e,...ut(t)});Ci.createWithPreprocess=(n,e,t)=>new Ci({schema:e,effect:{type:"preprocess",transform:n},typeName:Xe.ZodEffects,...ut(t)});class us extends dt{_parse(e){return this._getType(e)===Re.undefined?pr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}us.create=(n,e)=>new us({innerType:n,typeName:Xe.ZodOptional,...ut(e)});class wo extends dt{_parse(e){return this._getType(e)===Re.null?pr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wo.create=(n,e)=>new wo({innerType:n,typeName:Xe.ZodNullable,...ut(e)});class Bf extends dt{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Bf.create=(n,e)=>new Bf({innerType:n,typeName:Xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ut(e)});class Hf extends dt{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return kf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Br(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Br(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hf.create=(n,e)=>new Hf({innerType:n,typeName:Xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ut(e)});class Xm extends dt{_parse(e){if(this._getType(e)!==Re.nan){const r=this._getOrReturnCtx(e);return Se(r,{code:ye.invalid_type,expected:Re.nan,received:r.parsedType}),nt}return{status:"valid",value:e.data}}}Xm.create=n=>new Xm({typeName:Xe.ZodNaN,...ut(n)});const e5=Symbol("zod_brand");class uw extends dt{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class yh extends dt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?nt:o.status==="dirty"?(t.dirty(),qu(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?nt:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new yh({in:e,out:t,typeName:Xe.ZodPipeline})}}class $f extends dt{_parse(e){const t=this._def.innerType._parse(e),r=s=>(kl(s)&&(s.value=Object.freeze(s.value)),s);return kf(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}$f.create=(n,e)=>new $f({innerType:n,typeName:Xe.ZodReadonly,...ut(e)});function UA(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function XO(n,e={},t){return n?Tc.create().superRefine((r,s)=>{var o,u;const c=n(r);if(c instanceof Promise)return c.then(f=>{var h,g;if(!f){const v=UA(e,r),_=(g=(h=v.fatal)!==null&&h!==void 0?h:t)!==null&&g!==void 0?g:!0;s.addIssue({code:"custom",...v,fatal:_})}});if(!c){const f=UA(e,r),h=(u=(o=f.fatal)!==null&&o!==void 0?o:t)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...f,fatal:h})}}):Tc.create()}const t5={object:nn.lazycreate};var Xe;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Xe||(Xe={}));const n5=(n,e={message:`Input not instance of ${n.name}`})=>XO(t=>t instanceof n,e),JO=xi.create,eN=vo.create,r5=Xm.create,i5=_o.create,tN=Pf.create,s5=Pl.create,a5=Ym.create,o5=Df.create,l5=Mf.create,u5=Tc.create,c5=El.create,d5=ia.create,f5=Wm.create,h5=Ai.create,p5=nn.create,m5=nn.strictCreate,g5=Lf.create,y5=Pg.create,v5=Vf.create,_5=ps.create,b5=jf.create,w5=Zm.create,E5=Dl.create,T5=Zu.create,S5=Uf.create,x5=zf.create,R5=bo.create,A5=Ff.create,C5=Sc.create,zA=Ci.create,I5=us.create,O5=wo.create,N5=Ci.createWithPreprocess,k5=yh.create,P5=()=>JO().optional(),D5=()=>eN().optional(),M5=()=>tN().optional(),L5={string:n=>xi.create({...n,coerce:!0}),number:n=>vo.create({...n,coerce:!0}),boolean:n=>Pf.create({...n,coerce:!0}),bigint:n=>_o.create({...n,coerce:!0}),date:n=>Pl.create({...n,coerce:!0})},V5=nt;var Xn=Object.freeze({__proto__:null,defaultErrorMap:Ec,setErrorMap:NF,getErrorMap:Gm,makeIssue:Km,EMPTY_PATH:kF,addIssueToContext:Se,ParseStatus:ir,INVALID:nt,DIRTY:qu,OK:pr,isAborted:D0,isDirty:M0,isValid:kl,isAsync:kf,get util(){return Nt},get objectUtil(){return P0},ZodParsedType:Re,getParsedType:Ks,ZodType:dt,datetimeRegex:WO,ZodString:xi,ZodNumber:vo,ZodBigInt:_o,ZodBoolean:Pf,ZodDate:Pl,ZodSymbol:Ym,ZodUndefined:Df,ZodNull:Mf,ZodAny:Tc,ZodUnknown:El,ZodNever:ia,ZodVoid:Wm,ZodArray:Ai,ZodObject:nn,ZodUnion:Lf,ZodDiscriminatedUnion:Pg,ZodIntersection:Vf,ZodTuple:ps,ZodRecord:jf,ZodMap:Zm,ZodSet:Dl,ZodFunction:Zu,ZodLazy:Uf,ZodLiteral:zf,ZodEnum:bo,ZodNativeEnum:Ff,ZodPromise:Sc,ZodEffects:Ci,ZodTransformer:Ci,ZodOptional:us,ZodNullable:wo,ZodDefault:Bf,ZodCatch:Hf,ZodNaN:Xm,BRAND:e5,ZodBranded:uw,ZodPipeline:yh,ZodReadonly:$f,custom:XO,Schema:dt,ZodSchema:dt,late:t5,get ZodFirstPartyTypeKind(){return Xe},coerce:L5,any:u5,array:h5,bigint:i5,boolean:tN,date:s5,discriminatedUnion:y5,effect:zA,enum:R5,function:T5,instanceof:n5,intersection:v5,lazy:S5,literal:x5,map:w5,nan:r5,nativeEnum:A5,never:d5,null:l5,nullable:O5,number:eN,object:p5,oboolean:M5,onumber:D5,optional:I5,ostring:P5,pipeline:k5,preprocess:N5,promise:C5,record:b5,set:E5,strictObject:m5,string:JO,symbol:a5,transformer:zA,tuple:_5,undefined:o5,union:g5,unknown:c5,void:f5,NEVER:V5,ZodIssueCode:ye,quotelessJson:OF,ZodError:Br}),Oo=class{constructor(n){Zt(this,"id");Zt(this,"name");Zt(this,"level");Zt(this,"types");Zt(this,"teraType");Zt(this,"specialForm");Zt(this,"isMega",!1);Zt(this,"isDynamax",!1);Zt(this,"isGDynamax",!1);Zt(this,"weight");Zt(this,"ability");Zt(this,"gender");Zt(this,"status");Zt(this,"baseStat");Zt(this,"effortValues");Zt(this,"individualValues");Zt(this,"stats");Zt(this,"statStage");Zt(this,"nature");Zt(this,"item");Zt(this,"originalItem");Zt(this,"flags");Zt(this,"moves");Zt(this,"sprite");Zt(this,"takenDamage",0);this.id=n==null?void 0:n.id,this.name=n==null?void 0:n.name,this.level=(n==null?void 0:n.level)??50,this.types=(n==null?void 0:n.types)??["Normal"],this.teraType=(n==null?void 0:n.teraType)||this.types[0],this.specialForm=(n==null?void 0:n.specialForm)??"None",this.weight=(n==null?void 0:n.weight)??0,this.ability=n==null?void 0:n.ability,this.gender=(n==null?void 0:n.gender)??"Unknown",this.status=(n==null?void 0:n.status)??"Healthy",this.item=n==null?void 0:n.item,this.originalItem=n==null?void 0:n.originalItem,n!=null&&n.stats&&(this.stats=j5(n==null?void 0:n.stats)),this.baseStat=U5(n==null?void 0:n.baseStat),this.individualValues=z5(n==null?void 0:n.individualValues),this.effortValues=F5(n==null?void 0:n.effortValues),this.statStage=B5(n==null?void 0:n.statStage),this.nature=(n==null?void 0:n.nature)??{},this.flags=n==null?void 0:n.flags,this.moves=(n==null?void 0:n.moves)??[],this.sprite=n==null?void 0:n.sprite}getStat(n,e=!0){var r,s;if(!this.stats&&!this.baseStat)throw new Error("Please init pokemon with ID or manually set stats");if(n==="hp")return(r=this.stats)!=null&&r.hp?this.stats.hp:this.getHp(this.baseStat[n],this.individualValues[n],this.effortValues[n]);const t=e?this.statStage[n]:0;return(s=this.stats)!=null&&s[n]?FA(this.stats[n],t):this.getTargetStat(n,this.baseStat[n],this.individualValues[n],this.effortValues[n],t)}getStats(n=!0){if(!this.stats&&!this.baseStat)throw new Error("Please init pokemon with ID or manually set stats");return Object.keys(this.baseStat).reduce((t,r)=>(t[r]=this.getStat(r,n),t),{})}setFlags(n){this.flags=this.flags?Object.assign(this.flags,n):n}setNature(n){this.nature=this.nature?Object.assign(this.nature,n):n}toggleTera(n){n.isTera&&n.type?(this.teraType=n.type,this.specialForm="Tera"):this.specialForm="None"}isFainted(){return this.getStat("hp")<this.takenDamage}async initWithId(n,e){this.id=n;try{const r=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${n}`)).json();for(let s=0;s<r.stats.length;s++){const o=r.stats[s];switch(o==null?void 0:o.stat.name){case"hp":case"attack":case"defense":case"speed":this.baseStat[o.stat.name]=o.base_stat;break;case"special-attack":this.baseStat.specialAttack=o.base_stat;break;case"special-defense":this.baseStat.specialDefense=o.base_stat;break;default:return}}this.weight=r.weight,this.types=r.types.map(s=>H5(s.type.name)),e!=null&&e.effortValues&&(this.effortValues=Object.assign(this.effortValues,e.effortValues)),e!=null&&e.individualValues&&(this.individualValues=Object.assign(this.individualValues,e.individualValues)),e!=null&&e.statStage&&(this.statStage=Object.assign(this.statStage,e.statStage))}catch(t){throw console.log("Failed to init pokemon from pokeapi: ",t),new Error("Failed to init pokemon from pokeapi")}}initBattleStatus(){this.takenDamage=0,this.specialForm="None",this.status="Healthy",this.flags=void 0,this.statStage={attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0}}getHp(n,e,t){return this.id===292?1:Math.trunc((n*2+e+Math.trunc(t/4))*this.level/100)+10+this.level}getTargetStat(n,e,t,r,s){return FA(Math.trunc((Math.trunc((e*2+t+Math.trunc(r/4))*this.level/100)+5)*this.getNatureModifer(n)),s)}getNatureModifer(n){return n===this.nature.plus?1.1:n===this.nature.minus?.9:1}isTera(){return this.specialForm==="Tera"}};function j5(n){return Object.assign({hp:100,attack:100,defense:100,specialAttack:100,specialDefense:100,speed:100},n)}function U5(n){return Object.assign({hp:100,attack:100,defense:100,specialAttack:100,specialDefense:100,speed:100},n)}function z5(n){return Object.assign({hp:31,attack:31,defense:31,specialAttack:31,specialDefense:31,speed:31},n)}function F5(n){return Object.assign({hp:0,attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},n)}function B5(n){return Object.assign({attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},n)}function H5(n){var e;return((e=n[0])==null?void 0:e.toUpperCase())+n.slice(1)}function FA(n,e){return e>0?n*(2+e)/2:n*2/(2-e)}var T_=Xn.object({type:Xn.object({name:Xn.string()})}).transform(n=>{const e=n.type.name;return e.charAt(0).toUpperCase()+e.slice(1)});Xn.object({id:Xn.number(),weight:Xn.number().transform(n=>n/10).describe("pokemon weight from pokeapi "),types:Xn.union([Xn.tuple([T_]),Xn.tuple([T_,T_])]),stats:Xn.array(Xn.object({base_stat:Xn.number(),stat:Xn.object({name:Xn.string()})})).transform(n=>n.reduce((e,t)=>{const r=$5(t.stat.name);return e[r]=t.base_stat,e},{})),sprites:Xn.object({front_default:Xn.string()}).transform(n=>n.front_default)});function $5(n){if(n==="hp"||n==="attack"||n==="defense"||n==="speed")return n;if(n==="special-attack")return"specialAttack";if(n==="special-defense")return"specialDefense";throw new Error("invalid stat key name")}const Bl={level:50,status:"Healthy",specialForm:"None",takenDamage:0,effortValues:{hp:0,attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},individualValues:{hp:31,attack:31,defense:31,specialAttack:31,specialDefense:31,speed:31},statStage:{attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0}},q5=new Oo({...Bl,name:"venusaur",types:["Grass","Poison"],teraType:"Grass",weight:100,gender:"Male",specialForm:"None",nature:{plus:"speed",minus:"attack"},moves:["Leaf Storm","Sludge Bomb","Earthquake","Giga Drain"],flags:{hasEvolution:!1},sprite:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/3.png"}),G5=new Oo({...Bl,name:"charizard",types:["Fire","Flying"],teraType:"Fire",weight:90.5,gender:"Male",specialForm:"None",nature:{plus:"speed",minus:"attack"},moves:["Flamethrower","Dragon Claw","Air Slash","Solar Beam"],flags:{hasEvolution:!1},sprite:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/6.png"}),K5=new Oo({...Bl,name:"blastoise",types:["Water"],teraType:"Water",weight:85.5,gender:"Male",specialForm:"None",nature:{plus:"specialAttack",minus:"attack"},flags:{hasEvolution:!1},moves:["Hydro Pump","Ice Beam","Earthquake","Dark Pulse"],sprite:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/9.png"}),Q5=new Oo({...Bl,name:"pikachu",level:50,types:["Electric"],teraType:"Electric",weight:6,gender:"Male",status:"Healthy",specialForm:"None",takenDamage:0,nature:{plus:"speed",minus:"defense"},flags:{hasEvolution:!0},moves:["Thunderbolt","Iron Tail","Quick Attack","Volt Tackle"],sprite:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png"}),Y5=new Oo({...Bl,name:"tyranitar",types:["Rock","Dark"],teraType:"Flying",weight:202,gender:"Male",specialForm:"None",nature:{plus:"attack",minus:"specialAttack"},flags:{hasEvolution:!1},moves:["Rock Slide","Crunch","Low Kick","Protect"],item:"Assault Vest",sprite:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/248.png"}),W5=new Oo({...Bl,name:"ampharos",types:["Electric"],teraType:"Electric",weight:61.5,gender:"Female",specialForm:"None",nature:{plus:"specialAttack",minus:"speed"},flags:{hasEvolution:!1},moves:["Thunderbolt","Dragon Pulse","Focus Blast","Volt Switch"],sprite:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/181.png"}),Z5=new Oo({...Bl,name:"blaziken",types:["Fire","Fighting"],teraType:"Fire",weight:52,gender:"Male",specialForm:"None",nature:{plus:"attack",minus:"specialDefense"},flags:{hasEvolution:!1},moves:["Flare Blitz","Close Combat","Thunder Punch","Protect"],sprite:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/257.png"}),X5=Object.freeze(Object.defineProperty({__proto__:null,ampharos:W5,blastoise:K5,blaziken:Z5,charizard:G5,pikachu:Q5,tyranitar:Y5,venusaur:q5},Symbol.toStringTag,{value:"Module"})),nN={...X5};function J5(){return Object.values(nN)}function S_(n){const e=nN[n];return e?new Oo({name:e.name,level:e.level,types:[...e.types],teraType:e.teraType,weight:e.weight,gender:e.gender,status:e.status,specialForm:e.specialForm,takenDamage:0,baseStat:{...e.baseStat},effortValues:{...e.effortValues},individualValues:{...e.individualValues},statStage:{...e.statStage},nature:{...e.nature},flags:{...e.flags},moves:[...e.moves],sprite:e.sprite}):(console.error(`No default pokemon found with name: ${n}`),null)}function rN(){return[S_("venusaur"),S_("charizard"),S_("blastoise")]}const Jm=dg((n,e)=>({playerName:"Player",playerTeam:rN(),currentPokemonIndex:0,isNpc:!1,useSpecialForm:!1,winStreak:0,biggestWinStreak:0,totalWins:0,uid:null,setWinStreak:()=>n(t=>({winStreak:t.winStreak+1})),setPlayerName:t=>n({playerName:t}),setTeam:t=>n({playerTeam:t}),switchPokemon:t=>n({currentPokemonIndex:t}),replacePokemonAtIndex:(t,r)=>n(s=>{const o=[...s.playerTeam];return o[t]=r,{playerTeam:o}}),toggleSpecialForm:()=>n(t=>({useSpecialForm:!t.useSpecialForm})),resetState:()=>n({currentPokemonIndex:0,useSpecialForm:!1}),setPlayerData:t=>{n({...t,uid:t.uid||e().uid})},loadPlayerData:async t=>{var r;try{const s=await hf.getPlayerData(t);if(s)e().setPlayerData(s);else{console.log("Player data not found, creating new player");const u=mI().currentUser;if(u){const c=u.displayName||((r=u.email)==null?void 0:r.split("@")[0])||"Trainer",f=u.email||"";await e().createNewPlayer(t,f,c),console.log("New player created successfully")}else console.error("Cannot create player: No authenticated user found")}}catch(s){console.error("Failed to load player data:",s)}},savePlayerData:async()=>{const t=e();if(t.uid)try{await hf.updatePlayerData(t.uid,{playerName:t.playerName,playerTeam:t.playerTeam,currentPokemonIndex:t.currentPokemonIndex,useSpecialForm:t.useSpecialForm,winStreak:t.winStreak,biggestWinStreak:t.biggestWinStreak,totalWins:t.totalWins})}catch(r){console.error("Failed to save player data:",r)}},createNewPlayer:async(t,r,s)=>{try{const o=e(),u={uid:t,playerName:s,email:r,playerTeam:o.playerTeam,currentPokemonIndex:0,useSpecialForm:!1,winStreak:0,biggestWinStreak:0,totalWins:0};await hf.createPlayerData(u),n({...u})}catch(o){console.error("Failed to create player data:",o)}}}));dg(n=>({playerName:"NPC",playerTeam:rN(),currentPokemonIndex:0,isNpc:!0,useSpecialForm:!1,uid:null,setPlayerName:e=>n({playerName:e}),setTeam:e=>n({playerTeam:e}),switchPokemon:e=>n({currentPokemonIndex:e}),toggleSpecialForm:()=>n(e=>({useSpecialForm:!e.useSpecialForm})),resetState:()=>n({currentPokemonIndex:0,useSpecialForm:!1}),loadNpcData:()=>{}}));function eB(){const{user:n}=gh(),{setPlayerData:e}=Jm();return GL({queryKey:["playerData",n==null?void 0:n.uid],queryFn:async()=>{var t;if(!n)return null;try{const r=await hf.getPlayerData(n.uid);if(r)return e(r),r;const s=n.displayName||((t=n.email)==null?void 0:t.split("@")[0])||"Trainer",o={uid:n.uid,playerName:s,email:n.email||"",totalWins:0,winStreak:0,biggestWinStreak:0};return await hf.createPlayerData({...o,playerTeam:Jm.getState().playerTeam,currentPokemonIndex:0,useSpecialForm:!1}),e(o),o}catch(r){throw console.error("Failed to load player data:",r),r}},enabled:!!n,staleTime:1e3*60*5})}function tB({children:n}){const{user:e,loading:t}=gh(),{isLoading:r}=eB(),s=lb();return E.useEffect(()=>{!t&&!e&&s("/auth")},[e,t,s]),t||r?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-6xl mb-4 animate-spin",children:"⚡"}),x.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200",children:"載入中..."}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"正在初始化 Pokemon Battle Arena"})]})}):e?x.jsx(x.Fragment,{children:n}):null}function BA(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Dg(...n){return e=>{let t=!1;const r=n.map(s=>{const o=BA(s,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():BA(n[s],null)}}}}function Xt(...n){return E.useCallback(Dg(...n),n)}function xc(n){const e=nB(n),t=E.forwardRef((r,s)=>{const{children:o,...u}=r,c=E.Children.toArray(o),f=c.find(iB);if(f){const h=f.props.children,g=c.map(v=>v===f?E.Children.count(h)>1?E.Children.only(null):E.isValidElement(h)?h.props.children:null:v);return x.jsx(e,{...u,ref:s,children:E.isValidElement(h)?E.cloneElement(h,void 0,g):null})}return x.jsx(e,{...u,ref:s,children:o})});return t.displayName=`${n}.Slot`,t}var iN=xc("Slot");function nB(n){const e=E.forwardRef((t,r)=>{const{children:s,...o}=t;if(E.isValidElement(s)){const u=aB(s),c=sB(o,s.props);return s.type!==E.Fragment&&(c.ref=r?Dg(r,u):u),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var sN=Symbol("radix.slottable");function rB(n){const e=({children:t})=>x.jsx(x.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=sN,e}function iB(n){return E.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===sN}function sB(n,e){const t={...e};for(const r in e){const s=n[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?t[r]=(...c)=>{const f=o(...c);return s(...c),f}:s&&(t[r]=s):r==="style"?t[r]={...s,...o}:r==="className"&&(t[r]=[s,o].filter(Boolean).join(" "))}return{...n,...t}}function aB(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function aN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=aN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function oN(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=aN(n))&&(r&&(r+=" "),r+=e);return r}const HA=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,$A=oN,lN=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return $A(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:o}=e,u=Object.keys(s).map(h=>{const g=t==null?void 0:t[h],v=o==null?void 0:o[h];if(g===null)return null;const _=HA(g)||HA(v);return s[h][_]}),c=t&&Object.entries(t).reduce((h,g)=>{let[v,_]=g;return _===void 0||(h[v]=_),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:v,className:_,...w}=g;return Object.entries(w).every(S=>{let[A,C]=S;return Array.isArray(C)?C.includes({...o,...c}[A]):{...o,...c}[A]===C})?[...h,v,_]:h},[]);return $A(n,u,f,t==null?void 0:t.class,t==null?void 0:t.className)},cw="-",oB=n=>{const e=uB(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const c=u.split(cw);return c[0]===""&&c.length!==1&&c.shift(),uN(c,e)||lB(u)},getConflictingClassGroupIds:(u,c)=>{const f=t[u]||[];return c&&r[u]?[...f,...r[u]]:f}}},uN=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?uN(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(cw);return(u=e.validators.find(({validator:c})=>c(o)))==null?void 0:u.classGroupId},qA=/^\[(.+)\]$/,lB=n=>{if(qA.test(n)){const e=qA.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},uB=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)V0(t[s],r,s,e);return r},V0=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:GA(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(cB(s)){V0(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,u])=>{V0(u,GA(e,o),t,r)})})},GA=(n,e)=>{let t=n;return e.split(cw).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},cB=n=>n.isThemeGetter,dB=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,u)=>{t.set(o,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let u=t.get(o);if(u!==void 0)return u;if((u=r.get(o))!==void 0)return s(o,u),u},set(o,u){t.has(o)?t.set(o,u):s(o,u)}}},j0="!",U0=":",fB=U0.length,hB=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const o=[];let u=0,c=0,f=0,h;for(let S=0;S<s.length;S++){let A=s[S];if(u===0&&c===0){if(A===U0){o.push(s.slice(f,S)),f=S+fB;continue}if(A==="/"){h=S;continue}}A==="["?u++:A==="]"?u--:A==="("?c++:A===")"&&c--}const g=o.length===0?s:s.substring(f),v=pB(g),_=v!==g,w=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:_,baseClassName:v,maybePostfixModifierPosition:w}};if(e){const s=e+U0,o=r;r=u=>u.startsWith(s)?o(u.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=o=>t({className:o,parseClassName:s})}return r},pB=n=>n.endsWith(j0)?n.substring(0,n.length-1):n.startsWith(j0)?n.substring(1):n,mB=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(u=>{u[0]==="["||e[u]?(s.push(...o.sort(),u),o=[]):o.push(u)}),s.push(...o.sort()),s}},gB=n=>({cache:dB(n.cacheSize),parseClassName:hB(n),sortModifiers:mB(n),...oB(n)}),yB=/\s+/,vB=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,u=[],c=n.trim().split(yB);let f="";for(let h=c.length-1;h>=0;h-=1){const g=c[h],{isExternal:v,modifiers:_,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:A}=t(g);if(v){f=g+(f.length>0?" "+f:f);continue}let C=!!A,k=r(C?S.substring(0,A):S);if(!k){if(!C){f=g+(f.length>0?" "+f:f);continue}if(k=r(S),!k){f=g+(f.length>0?" "+f:f);continue}C=!1}const j=o(_).join(":"),L=w?j+j0:j,q=L+k;if(u.includes(q))continue;u.push(q);const H=s(k,C);for(let U=0;U<H.length;++U){const P=H[U];u.push(L+P)}f=g+(f.length>0?" "+f:f)}return f};function _B(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=cN(e))&&(r&&(r+=" "),r+=t);return r}const cN=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=cN(n[r]))&&(t&&(t+=" "),t+=e);return t};function bB(n,...e){let t,r,s,o=u;function u(f){const h=e.reduce((g,v)=>v(g),n());return t=gB(h),r=t.cache.get,s=t.cache.set,o=c,c(f)}function c(f){const h=r(f);if(h)return h;const g=vB(f,t);return s(f,g),g}return function(){return o(_B.apply(null,arguments))}}const xn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},dN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,fN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,wB=/^\d+\/\d+$/,EB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mu=n=>wB.test(n),pt=n=>!!n&&!Number.isNaN(Number(n)),za=n=>!!n&&Number.isInteger(Number(n)),x_=n=>n.endsWith("%")&&pt(n.slice(0,-1)),$s=n=>EB.test(n),AB=()=>!0,CB=n=>TB.test(n)&&!SB.test(n),hN=()=>!1,IB=n=>xB.test(n),OB=n=>RB.test(n),NB=n=>!ke(n)&&!Pe(n),kB=n=>Lc(n,gN,hN),ke=n=>dN.test(n),ol=n=>Lc(n,yN,CB),R_=n=>Lc(n,VB,pt),KA=n=>Lc(n,pN,hN),PB=n=>Lc(n,mN,OB),Yp=n=>Lc(n,vN,IB),Pe=n=>fN.test(n),Kd=n=>Vc(n,yN),DB=n=>Vc(n,jB),QA=n=>Vc(n,pN),MB=n=>Vc(n,gN),LB=n=>Vc(n,mN),Wp=n=>Vc(n,vN,!0),Lc=(n,e,t)=>{const r=dN.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Vc=(n,e,t=!1)=>{const r=fN.exec(n);return r?r[1]?e(r[1]):t:!1},pN=n=>n==="position"||n==="percentage",mN=n=>n==="image"||n==="url",gN=n=>n==="length"||n==="size"||n==="bg-size",yN=n=>n==="length",VB=n=>n==="number",jB=n=>n==="family-name",vN=n=>n==="shadow",UB=()=>{const n=xn("color"),e=xn("font"),t=xn("text"),r=xn("font-weight"),s=xn("tracking"),o=xn("leading"),u=xn("breakpoint"),c=xn("container"),f=xn("spacing"),h=xn("radius"),g=xn("shadow"),v=xn("inset-shadow"),_=xn("text-shadow"),w=xn("drop-shadow"),S=xn("blur"),A=xn("perspective"),C=xn("aspect"),k=xn("ease"),j=xn("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...q(),Pe,ke],U=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],I=()=>[Pe,ke,f],N=()=>[Mu,"full","auto",...I()],M=()=>[za,"none","subgrid",Pe,ke],F=()=>["auto",{span:["full",za,Pe,ke]},za,Pe,ke],$=()=>[za,"auto",Pe,ke],V=()=>["auto","min","max","fr",Pe,ke],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ee=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...I()],ae=()=>[Mu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],Z=()=>[n,Pe,ke],ue=()=>[...q(),QA,KA,{position:[Pe,ke]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",MB,kB,{size:[Pe,ke]}],fe=()=>[x_,Kd,ol],le=()=>["","none","full",h,Pe,ke],be=()=>["",pt,Kd,ol],Le=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[pt,x_,QA,KA],Ve=()=>["","none",S,Pe,ke],at=()=>["none",pt,Pe,ke],Ue=()=>["none",pt,Pe,ke],We=()=>[pt,Pe,ke],ot=()=>[Mu,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$s],breakpoint:[$s],color:[AB],container:[$s],"drop-shadow":[$s],ease:["in","out","in-out"],font:[NB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$s],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$s],shadow:[$s],spacing:["px",pt],text:[$s],"text-shadow":[$s],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mu,ke,Pe,C]}],container:["container"],columns:[{columns:[pt,ke,Pe,c]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[za,"auto",Pe,ke]}],basis:[{basis:[Mu,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pt,Mu,"auto","initial","none",ke]}],grow:[{grow:["",pt,Pe,ke]}],shrink:[{shrink:["",pt,Pe,ke]}],order:[{order:[za,"first","last","none",Pe,ke]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...Ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ee()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...Ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...Ee(),"baseline"]}],"place-self":[{"place-self":["auto",...Ee()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[c,"screen",...ae()]}],"min-w":[{"min-w":[c,"screen","none",...ae()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[u]},...ae()]}],h:[{h:["screen",...ae()]}],"min-h":[{"min-h":["screen","none",...ae()]}],"max-h":[{"max-h":["screen",...ae()]}],"font-size":[{text:["base",t,Kd,ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Pe,R_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",x_,ke]}],"font-family":[{font:[DB,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Pe,ke]}],"line-clamp":[{"line-clamp":[pt,"none",Pe,R_]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",Pe,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Le(),"wavy"]}],"text-decoration-thickness":[{decoration:[pt,"from-font","auto",Pe,ol]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[pt,"auto",Pe,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},za,Pe,ke],radial:["",Pe,ke],conic:[za,Pe,ke]},LB,PB]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Le(),"hidden","none"]}],"divide-style":[{divide:[...Le(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pt,Pe,ke]}],"outline-w":[{outline:["",pt,Kd,ol]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",g,Wp,Yp]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",v,Wp,Yp]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[pt,ol]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",_,Wp,Yp]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[pt,Pe,ke]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[Pe,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,ke]}],filter:[{filter:["","none",Pe,ke]}],blur:[{blur:Ve()}],brightness:[{brightness:[pt,Pe,ke]}],contrast:[{contrast:[pt,Pe,ke]}],"drop-shadow":[{"drop-shadow":["","none",w,Wp,Yp]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",pt,Pe,ke]}],"hue-rotate":[{"hue-rotate":[pt,Pe,ke]}],invert:[{invert:["",pt,Pe,ke]}],saturate:[{saturate:[pt,Pe,ke]}],sepia:[{sepia:["",pt,Pe,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,ke]}],"backdrop-blur":[{"backdrop-blur":Ve()}],"backdrop-brightness":[{"backdrop-brightness":[pt,Pe,ke]}],"backdrop-contrast":[{"backdrop-contrast":[pt,Pe,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pt,Pe,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pt,Pe,ke]}],"backdrop-invert":[{"backdrop-invert":["",pt,Pe,ke]}],"backdrop-opacity":[{"backdrop-opacity":[pt,Pe,ke]}],"backdrop-saturate":[{"backdrop-saturate":[pt,Pe,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",pt,Pe,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pt,"initial",Pe,ke]}],ease:[{ease:["linear","initial",k,Pe,ke]}],delay:[{delay:[pt,Pe,ke]}],animate:[{animate:["none",j,Pe,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Pe,ke]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:at()}],"rotate-x":[{"rotate-x":at()}],"rotate-y":[{"rotate-y":at()}],"rotate-z":[{"rotate-z":at()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:We()}],"skew-x":[{"skew-x":We()}],"skew-y":[{"skew-y":We()}],transform:[{transform:[Pe,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ot()}],"translate-x":[{"translate-x":ot()}],"translate-y":[{"translate-y":ot()}],"translate-z":[{"translate-z":ot()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,ke]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[pt,Kd,ol,R_]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},zB=bB(UB);function On(...n){return zB(oN(n))}const FB=lN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function An({className:n,variant:e,size:t,asChild:r=!1,...s}){const o=r?iN:"button";return x.jsx(o,{"data-slot":"button",className:On(FB({variant:e,size:t,className:n})),...s})}function BB(){const{isDarkMode:n,toggleTheme:e}=T1();return x.jsx(x.Fragment,{children:x.jsx(An,{variant:"outline",className:"cursor-pointer px-2",onClick:e,children:n?"☀️":"🌙"})})}function Be(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Hl(n,e=[]){let t=[];function r(o,u){const c=E.createContext(u),f=t.length;t=[...t,u];const h=v=>{var k;const{scope:_,children:w,...S}=v,A=((k=_==null?void 0:_[n])==null?void 0:k[f])||c,C=E.useMemo(()=>S,Object.values(S));return x.jsx(A.Provider,{value:C,children:w})};h.displayName=o+"Provider";function g(v,_){var A;const w=((A=_==null?void 0:_[n])==null?void 0:A[f])||c,S=E.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=t.map(u=>E.createContext(u));return function(c){const f=(c==null?void 0:c[n])||o;return E.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return s.scopeName=n,[r,HB(s,...e)]}function HB(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const u=r.reduce((c,{useScope:f,scopeName:h})=>{const v=f(o)[`__scope${h}`];return{...c,...v}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var sr=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},$B=CC[" useInsertionEffect ".trim().toString()]||sr;function qf({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,o,u]=qB({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:s;{const g=E.useRef(n!==void 0);E.useEffect(()=>{const v=g.current;v!==c&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,r])}const h=E.useCallback(g=>{var v;if(c){const _=GB(g)?g(n):g;_!==n&&((v=u.current)==null||v.call(u,_))}else o(g)},[c,n,o,u]);return[f,h]}function qB({defaultProp:n,onChange:e}){const[t,r]=E.useState(n),s=E.useRef(t),o=E.useRef(e);return $B(()=>{o.current=e},[e]),E.useEffect(()=>{var u;s.current!==t&&((u=o.current)==null||u.call(o,t),s.current=t)},[t,s]),[t,r,o]}function GB(n){return typeof n=="function"}var KB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=KB.reduce((n,e)=>{const t=xc(`Primitive.${e}`),r=E.forwardRef((s,o)=>{const{asChild:u,...c}=s,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(f,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function _N(n,e){n&&Cc.flushSync(()=>n.dispatchEvent(e))}function dw(n){const e=n+"CollectionProvider",[t,r]=Hl(e),[s,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:C,children:k}=A,j=Wi.useRef(null),L=Wi.useRef(new Map).current;return x.jsx(s,{scope:C,itemMap:L,collectionRef:j,children:k})};u.displayName=e;const c=n+"CollectionSlot",f=xc(c),h=Wi.forwardRef((A,C)=>{const{scope:k,children:j}=A,L=o(c,k),q=Xt(C,L.collectionRef);return x.jsx(f,{ref:q,children:j})});h.displayName=c;const g=n+"CollectionItemSlot",v="data-radix-collection-item",_=xc(g),w=Wi.forwardRef((A,C)=>{const{scope:k,children:j,...L}=A,q=Wi.useRef(null),H=Xt(C,q),U=o(g,k);return Wi.useEffect(()=>(U.itemMap.set(q,{ref:q,...L}),()=>void U.itemMap.delete(q))),x.jsx(_,{[v]:"",ref:H,children:j})});w.displayName=g;function S(A){const C=o(n+"CollectionConsumer",A);return Wi.useCallback(()=>{const j=C.collectionRef.current;if(!j)return[];const L=Array.from(j.querySelectorAll(`[${v}]`));return Array.from(C.itemMap.values()).sort((U,P)=>L.indexOf(U.ref.current)-L.indexOf(P.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:u,Slot:h,ItemSlot:w},S,r]}var QB=E.createContext(void 0);function fw(n){const e=E.useContext(QB);return n||e||"ltr"}function ms(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function YB(n,e=globalThis==null?void 0:globalThis.document){const t=ms(n);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var WB="DismissableLayer",z0="dismissableLayer.update",ZB="dismissableLayer.pointerDownOutside",XB="dismissableLayer.focusOutside",YA,bN=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mg=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:u,onDismiss:c,...f}=n,h=E.useContext(bN),[g,v]=E.useState(null),_=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=E.useState({}),S=Xt(e,P=>v(P)),A=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),k=A.indexOf(C),j=g?A.indexOf(g):-1,L=h.layersWithOutsidePointerEventsDisabled.size>0,q=j>=k,H=tH(P=>{const I=P.target,N=[...h.branches].some(M=>M.contains(I));!q||N||(s==null||s(P),u==null||u(P),P.defaultPrevented||c==null||c())},_),U=nH(P=>{const I=P.target;[...h.branches].some(M=>M.contains(I))||(o==null||o(P),u==null||u(P),P.defaultPrevented||c==null||c())},_);return YB(P=>{j===h.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&c&&(P.preventDefault(),c()))},_),E.useEffect(()=>{if(g)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(YA=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),WA(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=YA)}},[g,_,t,h]),E.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),WA())},[g,h]),E.useEffect(()=>{const P=()=>w({});return document.addEventListener(z0,P),()=>document.removeEventListener(z0,P)},[]),x.jsx(zt.div,{...f,ref:S,style:{pointerEvents:L?q?"auto":"none":void 0,...n.style},onFocusCapture:Be(n.onFocusCapture,U.onFocusCapture),onBlurCapture:Be(n.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Be(n.onPointerDownCapture,H.onPointerDownCapture)})});Mg.displayName=WB;var JB="DismissableLayerBranch",eH=E.forwardRef((n,e)=>{const t=E.useContext(bN),r=E.useRef(null),s=Xt(e,r);return E.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),x.jsx(zt.div,{...n,ref:s})});eH.displayName=JB;function tH(n,e=globalThis==null?void 0:globalThis.document){const t=ms(n),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let f=function(){wN(ZB,t,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function nH(n,e=globalThis==null?void 0:globalThis.document){const t=ms(n),r=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!r.current&&wN(XB,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function WA(){const n=new CustomEvent(z0);document.dispatchEvent(n)}function wN(n,e,t,{discrete:r}){const s=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?_N(s,o):s.dispatchEvent(o)}var A_=0;function EN(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??ZA()),document.body.insertAdjacentElement("beforeend",n[1]??ZA()),A_++,()=>{A_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),A_--}},[])}function ZA(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var C_="focusScope.autoFocusOnMount",I_="focusScope.autoFocusOnUnmount",XA={bubbles:!1,cancelable:!0},rH="FocusScope",hw=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...u}=n,[c,f]=E.useState(null),h=ms(s),g=ms(o),v=E.useRef(null),_=Xt(e,A=>f(A)),w=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let A=function(L){if(w.paused||!c)return;const q=L.target;c.contains(q)?v.current=q:Ha(v.current,{select:!0})},C=function(L){if(w.paused||!c)return;const q=L.relatedTarget;q!==null&&(c.contains(q)||Ha(v.current,{select:!0}))},k=function(L){if(document.activeElement===document.body)for(const H of L)H.removedNodes.length>0&&Ha(c)};document.addEventListener("focusin",A),document.addEventListener("focusout",C);const j=new MutationObserver(k);return c&&j.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",C),j.disconnect()}}},[r,c,w.paused]),E.useEffect(()=>{if(c){eC.add(w);const A=document.activeElement;if(!c.contains(A)){const k=new CustomEvent(C_,XA);c.addEventListener(C_,h),c.dispatchEvent(k),k.defaultPrevented||(iH(uH(TN(c)),{select:!0}),document.activeElement===A&&Ha(c))}return()=>{c.removeEventListener(C_,h),setTimeout(()=>{const k=new CustomEvent(I_,XA);c.addEventListener(I_,g),c.dispatchEvent(k),k.defaultPrevented||Ha(A??document.body,{select:!0}),c.removeEventListener(I_,g),eC.remove(w)},0)}}},[c,h,g,w]);const S=E.useCallback(A=>{if(!t&&!r||w.paused)return;const C=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,k=document.activeElement;if(C&&k){const j=A.currentTarget,[L,q]=sH(j);L&&q?!A.shiftKey&&k===q?(A.preventDefault(),t&&Ha(L,{select:!0})):A.shiftKey&&k===L&&(A.preventDefault(),t&&Ha(q,{select:!0})):k===j&&A.preventDefault()}},[t,r,w.paused]);return x.jsx(zt.div,{tabIndex:-1,...u,ref:_,onKeyDown:S})});hw.displayName=rH;function iH(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ha(r,{select:e}),document.activeElement!==t)return}function sH(n){const e=TN(n),t=JA(e,n),r=JA(e.reverse(),n);return[t,r]}function TN(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function JA(n,e){for(const t of n)if(!aH(t,{upTo:e}))return t}function aH(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function oH(n){return n instanceof HTMLInputElement&&"select"in n}function Ha(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&oH(n)&&e&&n.select()}}var eC=lH();function lH(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=tC(n,e),n.unshift(e)},remove(e){var t;n=tC(n,e),(t=n[0])==null||t.resume()}}}function tC(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function uH(n){return n.filter(e=>e.tagName!=="A")}var cH=CC[" useId ".trim().toString()]||(()=>{}),dH=0;function Ml(n){const[e,t]=E.useState(cH());return sr(()=>{t(r=>r??String(dH++))},[n]),n||(e?`radix-${e}`:"")}const fH=["top","right","bottom","left"],Eo=Math.min,jr=Math.max,eg=Math.round,Zp=Math.floor,cs=n=>({x:n,y:n}),hH={left:"right",right:"left",bottom:"top",top:"bottom"},pH={start:"end",end:"start"};function F0(n,e,t){return jr(n,Eo(e,t))}function sa(n,e){return typeof n=="function"?n(e):n}function aa(n){return n.split("-")[0]}function jc(n){return n.split("-")[1]}function pw(n){return n==="x"?"y":"x"}function mw(n){return n==="y"?"height":"width"}function Js(n){return["top","bottom"].includes(aa(n))?"y":"x"}function gw(n){return pw(Js(n))}function mH(n,e,t){t===void 0&&(t=!1);const r=jc(n),s=gw(n),o=mw(s);let u=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=tg(u)),[u,tg(u)]}function gH(n){const e=tg(n);return[B0(n),e,B0(e)]}function B0(n){return n.replace(/start|end/g,e=>pH[e])}function yH(n,e,t){const r=["left","right"],s=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?o:u;default:return[]}}function vH(n,e,t,r){const s=jc(n);let o=yH(aa(n),t==="start",r);return s&&(o=o.map(u=>u+"-"+s),e&&(o=o.concat(o.map(B0)))),o}function tg(n){return n.replace(/left|right|bottom|top/g,e=>hH[e])}function _H(n){return{top:0,right:0,bottom:0,left:0,...n}}function SN(n){return typeof n!="number"?_H(n):{top:n,right:n,bottom:n,left:n}}function ng(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function nC(n,e,t){let{reference:r,floating:s}=n;const o=Js(e),u=gw(e),c=mw(u),f=aa(e),h=o==="y",g=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,_=r[c]/2-s[c]/2;let w;switch(f){case"top":w={x:g,y:r.y-s.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:v};break;case"left":w={x:r.x-s.width,y:v};break;default:w={x:r.x,y:r.y}}switch(jc(e)){case"start":w[u]-=_*(t&&h?-1:1);break;case"end":w[u]+=_*(t&&h?-1:1);break}return w}const bH=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:u}=t,c=o.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let h=await u.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y:v}=nC(h,r,f),_=r,w={},S=0;for(let A=0;A<c.length;A++){const{name:C,fn:k}=c[A],{x:j,y:L,data:q,reset:H}=await k({x:g,y:v,initialPlacement:r,placement:_,strategy:s,middlewareData:w,rects:h,platform:u,elements:{reference:n,floating:e}});g=j??g,v=L??v,w={...w,[C]:{...w[C],...q}},H&&S<=50&&(S++,typeof H=="object"&&(H.placement&&(_=H.placement),H.rects&&(h=H.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:s}):H.rects),{x:g,y:v}=nC(h,_,f)),A=-1)}return{x:g,y:v,placement:_,strategy:s,middlewareData:w}};async function Gf(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:u,elements:c,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:_=!1,padding:w=0}=sa(e,n),S=SN(w),C=c[_?v==="floating"?"reference":"floating":v],k=ng(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(C)))==null||t?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:g,strategy:f})),j=v==="floating"?{x:r,y:s,width:u.floating.width,height:u.floating.height}:u.reference,L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),q=await(o.isElement==null?void 0:o.isElement(L))?await(o.getScale==null?void 0:o.getScale(L))||{x:1,y:1}:{x:1,y:1},H=ng(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:L,strategy:f}):j);return{top:(k.top-H.top+S.top)/q.y,bottom:(H.bottom-k.bottom+S.bottom)/q.y,left:(k.left-H.left+S.left)/q.x,right:(H.right-k.right+S.right)/q.x}}const wH=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:o,platform:u,elements:c,middlewareData:f}=e,{element:h,padding:g=0}=sa(n,e)||{};if(h==null)return{};const v=SN(g),_={x:t,y:r},w=gw(s),S=mw(w),A=await u.getDimensions(h),C=w==="y",k=C?"top":"left",j=C?"bottom":"right",L=C?"clientHeight":"clientWidth",q=o.reference[S]+o.reference[w]-_[w]-o.floating[S],H=_[w]-o.reference[w],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let P=U?U[L]:0;(!P||!await(u.isElement==null?void 0:u.isElement(U)))&&(P=c.floating[L]||o.floating[S]);const I=q/2-H/2,N=P/2-A[S]/2-1,M=Eo(v[k],N),F=Eo(v[j],N),$=M,V=P-A[S]-F,_e=P/2-A[S]/2+I,Ee=F0($,_e,V),K=!f.arrow&&jc(s)!=null&&_e!==Ee&&o.reference[S]/2-(_e<$?M:F)-A[S]/2<0,ae=K?_e<$?_e-$:_e-V:0;return{[w]:_[w]+ae,data:{[w]:Ee,centerOffset:_e-Ee-ae,...K&&{alignmentOffset:ae}},reset:K}}}),EH=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:o,rects:u,initialPlacement:c,platform:f,elements:h}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:_,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:A=!0,...C}=sa(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const k=aa(s),j=Js(c),L=aa(c)===c,q=await(f.isRTL==null?void 0:f.isRTL(h.floating)),H=_||(L||!A?[tg(c)]:gH(c)),U=S!=="none";!_&&U&&H.push(...vH(c,A,S,q));const P=[c,...H],I=await Gf(e,C),N=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&N.push(I[k]),v){const Ee=mH(s,u,q);N.push(I[Ee[0]],I[Ee[1]])}if(M=[...M,{placement:s,overflows:N}],!N.every(Ee=>Ee<=0)){var F,$;const Ee=(((F=o.flip)==null?void 0:F.index)||0)+1,K=P[Ee];if(K){var V;const Z=v==="alignment"?j!==Js(K):!1,ue=((V=M[0])==null?void 0:V.overflows[0])>0;if(!Z||ue)return{data:{index:Ee,overflows:M},reset:{placement:K}}}let ae=($=M.filter(Z=>Z.overflows[0]<=0).sort((Z,ue)=>Z.overflows[1]-ue.overflows[1])[0])==null?void 0:$.placement;if(!ae)switch(w){case"bestFit":{var _e;const Z=(_e=M.filter(ue=>{if(U){const z=Js(ue.placement);return z===j||z==="y"}return!0}).map(ue=>[ue.placement,ue.overflows.filter(z=>z>0).reduce((z,re)=>z+re,0)]).sort((ue,z)=>ue[1]-z[1])[0])==null?void 0:_e[0];Z&&(ae=Z);break}case"initialPlacement":ae=c;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function rC(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function iC(n){return fH.some(e=>n[e]>=0)}const TH=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=sa(n,e);switch(r){case"referenceHidden":{const o=await Gf(e,{...s,elementContext:"reference"}),u=rC(o,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:iC(u)}}}case"escaped":{const o=await Gf(e,{...s,altBoundary:!0}),u=rC(o,t.floating);return{data:{escapedOffsets:u,escaped:iC(u)}}}default:return{}}}}};async function SH(n,e){const{placement:t,platform:r,elements:s}=n,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),u=aa(t),c=jc(t),f=Js(t)==="y",h=["left","top"].includes(u)?-1:1,g=o&&f?-1:1,v=sa(e,n);let{mainAxis:_,crossAxis:w,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof S=="number"&&(w=c==="end"?S*-1:S),f?{x:w*g,y:_*h}:{x:_*h,y:w*g}}const xH=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:o,placement:u,middlewareData:c}=e,f=await SH(e,n);return u===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:u}}}}},RH=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:u=!1,limiter:c={fn:C=>{let{x:k,y:j}=C;return{x:k,y:j}}},...f}=sa(n,e),h={x:t,y:r},g=await Gf(e,f),v=Js(aa(s)),_=pw(v);let w=h[_],S=h[v];if(o){const C=_==="y"?"top":"left",k=_==="y"?"bottom":"right",j=w+g[C],L=w-g[k];w=F0(j,w,L)}if(u){const C=v==="y"?"top":"left",k=v==="y"?"bottom":"right",j=S+g[C],L=S-g[k];S=F0(j,S,L)}const A=c.fn({...e,[_]:w,[v]:S});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[_]:o,[v]:u}}}}}},AH=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:o,middlewareData:u}=e,{offset:c=0,mainAxis:f=!0,crossAxis:h=!0}=sa(n,e),g={x:t,y:r},v=Js(s),_=pw(v);let w=g[_],S=g[v];const A=sa(c,e),C=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(f){const L=_==="y"?"height":"width",q=o.reference[_]-o.floating[L]+C.mainAxis,H=o.reference[_]+o.reference[L]-C.mainAxis;w<q?w=q:w>H&&(w=H)}if(h){var k,j;const L=_==="y"?"width":"height",q=["top","left"].includes(aa(s)),H=o.reference[v]-o.floating[L]+(q&&((k=u.offset)==null?void 0:k[v])||0)+(q?0:C.crossAxis),U=o.reference[v]+o.reference[L]+(q?0:((j=u.offset)==null?void 0:j[v])||0)-(q?C.crossAxis:0);S<H?S=H:S>U&&(S=U)}return{[_]:w,[v]:S}}}},CH=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:o,platform:u,elements:c}=e,{apply:f=()=>{},...h}=sa(n,e),g=await Gf(e,h),v=aa(s),_=jc(s),w=Js(s)==="y",{width:S,height:A}=o.floating;let C,k;v==="top"||v==="bottom"?(C=v,k=_===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(k=v,C=_==="end"?"top":"bottom");const j=A-g.top-g.bottom,L=S-g.left-g.right,q=Eo(A-g[C],j),H=Eo(S-g[k],L),U=!e.middlewareData.shift;let P=q,I=H;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=j),U&&!_){const M=jr(g.left,0),F=jr(g.right,0),$=jr(g.top,0),V=jr(g.bottom,0);w?I=S-2*(M!==0||F!==0?M+F:jr(g.left,g.right)):P=A-2*($!==0||V!==0?$+V:jr(g.top,g.bottom))}await f({...e,availableWidth:I,availableHeight:P});const N=await u.getDimensions(c.floating);return S!==N.width||A!==N.height?{reset:{rects:!0}}:{}}}};function Lg(){return typeof window<"u"}function Uc(n){return xN(n)?(n.nodeName||"").toLowerCase():"#document"}function Hr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function _s(n){var e;return(e=(xN(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function xN(n){return Lg()?n instanceof Node||n instanceof Hr(n).Node:!1}function Ii(n){return Lg()?n instanceof Element||n instanceof Hr(n).Element:!1}function gs(n){return Lg()?n instanceof HTMLElement||n instanceof Hr(n).HTMLElement:!1}function sC(n){return!Lg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hr(n).ShadowRoot}function vh(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Oi(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function IH(n){return["table","td","th"].includes(Uc(n))}function Vg(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function yw(n){const e=vw(),t=Ii(n)?Oi(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function OH(n){let e=To(n);for(;gs(e)&&!Rc(e);){if(yw(e))return e;if(Vg(e))return null;e=To(e)}return null}function vw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rc(n){return["html","body","#document"].includes(Uc(n))}function Oi(n){return Hr(n).getComputedStyle(n)}function jg(n){return Ii(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function To(n){if(Uc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||sC(n)&&n.host||_s(n);return sC(e)?e.host:e}function RN(n){const e=To(n);return Rc(e)?n.ownerDocument?n.ownerDocument.body:n.body:gs(e)&&vh(e)?e:RN(e)}function Kf(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=RN(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),u=Hr(s);if(o){const c=H0(u);return e.concat(u,u.visualViewport||[],vh(s)?s:[],c&&t?Kf(c):[])}return e.concat(s,Kf(s,[],t))}function H0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function AN(n){const e=Oi(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=gs(n),o=s?n.offsetWidth:t,u=s?n.offsetHeight:r,c=eg(t)!==o||eg(r)!==u;return c&&(t=o,r=u),{width:t,height:r,$:c}}function _w(n){return Ii(n)?n:n.contextElement}function Xu(n){const e=_w(n);if(!gs(e))return cs(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=AN(e);let u=(o?eg(t.width):t.width)/r,c=(o?eg(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const NH=cs(0);function CN(n){const e=Hr(n);return!vw()||!e.visualViewport?NH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kH(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hr(n)?!1:e}function Ll(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),o=_w(n);let u=cs(1);e&&(r?Ii(r)&&(u=Xu(r)):u=Xu(n));const c=kH(o,t,r)?CN(o):cs(0);let f=(s.left+c.x)/u.x,h=(s.top+c.y)/u.y,g=s.width/u.x,v=s.height/u.y;if(o){const _=Hr(o),w=r&&Ii(r)?Hr(r):r;let S=_,A=H0(S);for(;A&&r&&w!==S;){const C=Xu(A),k=A.getBoundingClientRect(),j=Oi(A),L=k.left+(A.clientLeft+parseFloat(j.paddingLeft))*C.x,q=k.top+(A.clientTop+parseFloat(j.paddingTop))*C.y;f*=C.x,h*=C.y,g*=C.x,v*=C.y,f+=L,h+=q,S=Hr(A),A=H0(S)}}return ng({width:g,height:v,x:f,y:h})}function bw(n,e){const t=jg(n).scrollLeft;return e?e.left+t:Ll(_s(n)).left+t}function IN(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:bw(n,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function PH(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const o=s==="fixed",u=_s(r),c=e?Vg(e.floating):!1;if(r===u||c&&o)return t;let f={scrollLeft:0,scrollTop:0},h=cs(1);const g=cs(0),v=gs(r);if((v||!v&&!o)&&((Uc(r)!=="body"||vh(u))&&(f=jg(r)),gs(r))){const w=Ll(r);h=Xu(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const _=u&&!v&&!o?IN(u,f,!0):cs(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+g.x+_.x,y:t.y*h.y-f.scrollTop*h.y+g.y+_.y}}function DH(n){return Array.from(n.getClientRects())}function MH(n){const e=_s(n),t=jg(n),r=n.ownerDocument.body,s=jr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=jr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+bw(n);const c=-t.scrollTop;return Oi(r).direction==="rtl"&&(u+=jr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:u,y:c}}function LH(n,e){const t=Hr(n),r=_s(n),s=t.visualViewport;let o=r.clientWidth,u=r.clientHeight,c=0,f=0;if(s){o=s.width,u=s.height;const h=vw();(!h||h&&e==="fixed")&&(c=s.offsetLeft,f=s.offsetTop)}return{width:o,height:u,x:c,y:f}}function VH(n,e){const t=Ll(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,o=gs(n)?Xu(n):cs(1),u=n.clientWidth*o.x,c=n.clientHeight*o.y,f=s*o.x,h=r*o.y;return{width:u,height:c,x:f,y:h}}function aC(n,e,t){let r;if(e==="viewport")r=LH(n,t);else if(e==="document")r=MH(_s(n));else if(Ii(e))r=VH(e,t);else{const s=CN(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ng(r)}function ON(n,e){const t=To(n);return t===e||!Ii(t)||Rc(t)?!1:Oi(t).position==="fixed"||ON(t,e)}function jH(n,e){const t=e.get(n);if(t)return t;let r=Kf(n,[],!1).filter(c=>Ii(c)&&Uc(c)!=="body"),s=null;const o=Oi(n).position==="fixed";let u=o?To(n):n;for(;Ii(u)&&!Rc(u);){const c=Oi(u),f=yw(u);!f&&c.position==="fixed"&&(s=null),(o?!f&&!s:!f&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||vh(u)&&!f&&ON(n,u))?r=r.filter(g=>g!==u):s=c,u=To(u)}return e.set(n,r),r}function UH(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const u=[...t==="clippingAncestors"?Vg(e)?[]:jH(e,this._c):[].concat(t),r],c=u[0],f=u.reduce((h,g)=>{const v=aC(e,g,s);return h.top=jr(v.top,h.top),h.right=Eo(v.right,h.right),h.bottom=Eo(v.bottom,h.bottom),h.left=jr(v.left,h.left),h},aC(e,c,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function zH(n){const{width:e,height:t}=AN(n);return{width:e,height:t}}function FH(n,e,t){const r=gs(e),s=_s(e),o=t==="fixed",u=Ll(n,!0,o,e);let c={scrollLeft:0,scrollTop:0};const f=cs(0);function h(){f.x=bw(s)}if(r||!r&&!o)if((Uc(e)!=="body"||vh(s))&&(c=jg(e)),r){const w=Ll(e,!0,o,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else s&&h();o&&!r&&s&&h();const g=s&&!r&&!o?IN(s,c):cs(0),v=u.left+c.scrollLeft-f.x-g.x,_=u.top+c.scrollTop-f.y-g.y;return{x:v,y:_,width:u.width,height:u.height}}function O_(n){return Oi(n).position==="static"}function oC(n,e){if(!gs(n)||Oi(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return _s(n)===t&&(t=t.ownerDocument.body),t}function NN(n,e){const t=Hr(n);if(Vg(n))return t;if(!gs(n)){let s=To(n);for(;s&&!Rc(s);){if(Ii(s)&&!O_(s))return s;s=To(s)}return t}let r=oC(n,e);for(;r&&IH(r)&&O_(r);)r=oC(r,e);return r&&Rc(r)&&O_(r)&&!yw(r)?t:r||OH(n)||t}const BH=async function(n){const e=this.getOffsetParent||NN,t=this.getDimensions,r=await t(n.floating);return{reference:FH(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function HH(n){return Oi(n).direction==="rtl"}const $H={convertOffsetParentRelativeRectToViewportRelativeRect:PH,getDocumentElement:_s,getClippingRect:UH,getOffsetParent:NN,getElementRects:BH,getClientRects:DH,getDimensions:zH,getScale:Xu,isElement:Ii,isRTL:HH};function kN(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function qH(n,e){let t=null,r;const s=_s(n);function o(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function u(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const h=n.getBoundingClientRect(),{left:g,top:v,width:_,height:w}=h;if(c||e(),!_||!w)return;const S=Zp(v),A=Zp(s.clientWidth-(g+_)),C=Zp(s.clientHeight-(v+w)),k=Zp(g),L={rootMargin:-S+"px "+-A+"px "+-C+"px "+-k+"px",threshold:jr(0,Eo(1,f))||1};let q=!0;function H(U){const P=U[0].intersectionRatio;if(P!==f){if(!q)return u();P?u(!1,P):r=setTimeout(()=>{u(!1,1e-7)},1e3)}P===1&&!kN(h,n.getBoundingClientRect())&&u(),q=!1}try{t=new IntersectionObserver(H,{...L,root:s.ownerDocument})}catch{t=new IntersectionObserver(H,L)}t.observe(n)}return u(!0),o}function GH(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=_w(n),g=s||o?[...h?Kf(h):[],...Kf(e)]:[];g.forEach(k=>{s&&k.addEventListener("scroll",t,{passive:!0}),o&&k.addEventListener("resize",t)});const v=h&&c?qH(h,t):null;let _=-1,w=null;u&&(w=new ResizeObserver(k=>{let[j]=k;j&&j.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var L;(L=w)==null||L.observe(e)})),t()}),h&&!f&&w.observe(h),w.observe(e));let S,A=f?Ll(n):null;f&&C();function C(){const k=Ll(n);A&&!kN(A,k)&&t(),A=k,S=requestAnimationFrame(C)}return t(),()=>{var k;g.forEach(j=>{s&&j.removeEventListener("scroll",t),o&&j.removeEventListener("resize",t)}),v==null||v(),(k=w)==null||k.disconnect(),w=null,f&&cancelAnimationFrame(S)}}const KH=xH,QH=RH,YH=EH,WH=CH,ZH=TH,lC=wH,XH=AH,JH=(n,e,t)=>{const r=new Map,s={platform:$H,...t},o={...s.platform,_c:r};return bH(n,e,{...s,platform:o})};var mm=typeof document<"u"?E.useLayoutEffect:E.useEffect;function rg(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!rg(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const o=s[r];if(!(o==="_owner"&&n.$$typeof)&&!rg(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function PN(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function uC(n,e){const t=PN(n);return Math.round(e*t)/t}function N_(n){const e=E.useRef(n);return mm(()=>{e.current=n}),e}function e8(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:u}={},transform:c=!0,whileElementsMounted:f,open:h}=n,[g,v]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,w]=E.useState(r);rg(_,r)||w(r);const[S,A]=E.useState(null),[C,k]=E.useState(null),j=E.useCallback(Z=>{Z!==U.current&&(U.current=Z,A(Z))},[]),L=E.useCallback(Z=>{Z!==P.current&&(P.current=Z,k(Z))},[]),q=o||S,H=u||C,U=E.useRef(null),P=E.useRef(null),I=E.useRef(g),N=f!=null,M=N_(f),F=N_(s),$=N_(h),V=E.useCallback(()=>{if(!U.current||!P.current)return;const Z={placement:e,strategy:t,middleware:_};F.current&&(Z.platform=F.current),JH(U.current,P.current,Z).then(ue=>{const z={...ue,isPositioned:$.current!==!1};_e.current&&!rg(I.current,z)&&(I.current=z,Cc.flushSync(()=>{v(z)}))})},[_,e,t,F,$]);mm(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(Z=>({...Z,isPositioned:!1})))},[h]);const _e=E.useRef(!1);mm(()=>(_e.current=!0,()=>{_e.current=!1}),[]),mm(()=>{if(q&&(U.current=q),H&&(P.current=H),q&&H){if(M.current)return M.current(q,H,V);V()}},[q,H,V,M,N]);const Ee=E.useMemo(()=>({reference:U,floating:P,setReference:j,setFloating:L}),[j,L]),K=E.useMemo(()=>({reference:q,floating:H}),[q,H]),ae=E.useMemo(()=>{const Z={position:t,left:0,top:0};if(!K.floating)return Z;const ue=uC(K.floating,g.x),z=uC(K.floating,g.y);return c?{...Z,transform:"translate("+ue+"px, "+z+"px)",...PN(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ue,top:z}},[t,c,K.floating,g.x,g.y]);return E.useMemo(()=>({...g,update:V,refs:Ee,elements:K,floatingStyles:ae}),[g,V,Ee,K,ae])}const t8=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?lC({element:r.current,padding:s}).fn(t):{}:r?lC({element:r,padding:s}).fn(t):{}}}},n8=(n,e)=>({...KH(n),options:[n,e]}),r8=(n,e)=>({...QH(n),options:[n,e]}),i8=(n,e)=>({...XH(n),options:[n,e]}),s8=(n,e)=>({...YH(n),options:[n,e]}),a8=(n,e)=>({...WH(n),options:[n,e]}),o8=(n,e)=>({...ZH(n),options:[n,e]}),l8=(n,e)=>({...t8(n),options:[n,e]});var u8="Arrow",DN=E.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...o}=n;return x.jsx(zt.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});DN.displayName=u8;var c8=DN;function d8(n){const[e,t]=E.useState(void 0);return sr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let u,c;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;u=h.inlineSize,c=h.blockSize}else u=n.offsetWidth,c=n.offsetHeight;t({width:u,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var ww="Popper",[MN,zc]=Hl(ww),[f8,LN]=MN(ww),VN=n=>{const{__scopePopper:e,children:t}=n,[r,s]=E.useState(null);return x.jsx(f8,{scope:e,anchor:r,onAnchorChange:s,children:t})};VN.displayName=ww;var jN="PopperAnchor",UN=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,o=LN(jN,t),u=E.useRef(null),c=Xt(e,u);return E.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:x.jsx(zt.div,{...s,ref:c})});UN.displayName=jN;var Ew="PopperContent",[h8,p8]=MN(Ew),zN=E.forwardRef((n,e)=>{var we,Ve,at,Ue,We,ot;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:_=!1,updatePositionStrategy:w="optimized",onPlaced:S,...A}=n,C=LN(Ew,t),[k,j]=E.useState(null),L=Xt(e,en=>j(en)),[q,H]=E.useState(null),U=d8(q),P=(U==null?void 0:U.width)??0,I=(U==null?void 0:U.height)??0,N=r+(o!=="center"?"-"+o:""),M=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},F=Array.isArray(h)?h:[h],$=F.length>0,V={padding:M,boundary:F.filter(g8),altBoundary:$},{refs:_e,floatingStyles:Ee,placement:K,isPositioned:ae,middlewareData:Z}=e8({strategy:"fixed",placement:N,whileElementsMounted:(...en)=>GH(...en,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[n8({mainAxis:s+I,alignmentAxis:u}),f&&r8({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?i8():void 0,...V}),f&&s8({...V}),a8({...V,apply:({elements:en,rects:Yt,availableWidth:Sr,availableHeight:$r})=>{const{width:un,height:Po}=Yt.reference,qr=en.floating.style;qr.setProperty("--radix-popper-available-width",`${Sr}px`),qr.setProperty("--radix-popper-available-height",`${$r}px`),qr.setProperty("--radix-popper-anchor-width",`${un}px`),qr.setProperty("--radix-popper-anchor-height",`${Po}px`)}}),q&&l8({element:q,padding:c}),y8({arrowWidth:P,arrowHeight:I}),_&&o8({strategy:"referenceHidden",...V})]}),[ue,z]=HN(K),re=ms(S);sr(()=>{ae&&(re==null||re())},[ae,re]);const fe=(we=Z.arrow)==null?void 0:we.x,le=(Ve=Z.arrow)==null?void 0:Ve.y,be=((at=Z.arrow)==null?void 0:at.centerOffset)!==0,[Le,xe]=E.useState();return sr(()=>{k&&xe(window.getComputedStyle(k).zIndex)},[k]),x.jsx("div",{ref:_e.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:ae?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(Ue=Z.transformOrigin)==null?void 0:Ue.x,(We=Z.transformOrigin)==null?void 0:We.y].join(" "),...((ot=Z.hide)==null?void 0:ot.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:x.jsx(h8,{scope:t,placedSide:ue,onArrowChange:H,arrowX:fe,arrowY:le,shouldHideArrow:be,children:x.jsx(zt.div,{"data-side":ue,"data-align":z,...A,ref:L,style:{...A.style,animation:ae?void 0:"none"}})})})});zN.displayName=Ew;var FN="PopperArrow",m8={top:"bottom",right:"left",bottom:"top",left:"right"},BN=E.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,o=p8(FN,r),u=m8[o.placedSide];return x.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:x.jsx(c8,{...s,ref:t,style:{...s.style,display:"block"}})})});BN.displayName=FN;function g8(n){return n!==null}var y8=n=>({name:"transformOrigin",options:n,fn(e){var C,k,j;const{placement:t,rects:r,middlewareData:s}=e,u=((C=s.arrow)==null?void 0:C.centerOffset)!==0,c=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[h,g]=HN(t),v={start:"0%",center:"50%",end:"100%"}[g],_=(((k=s.arrow)==null?void 0:k.x)??0)+c/2,w=(((j=s.arrow)==null?void 0:j.y)??0)+f/2;let S="",A="";return h==="bottom"?(S=u?v:`${_}px`,A=`${-f}px`):h==="top"?(S=u?v:`${_}px`,A=`${r.floating.height+f}px`):h==="right"?(S=`${-f}px`,A=u?v:`${w}px`):h==="left"&&(S=`${r.floating.width+f}px`,A=u?v:`${w}px`),{data:{x:S,y:A}}}});function HN(n){const[e,t="center"]=n.split("-");return[e,t]}var Tw=VN,Sw=UN,xw=zN,Rw=BN,v8="Portal",Ug=E.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[s,o]=E.useState(!1);sr(()=>o(!0),[]);const u=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return u?cL.createPortal(x.jsx(zt.div,{...r,ref:e}),u):null});Ug.displayName=v8;function _8(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var $l=n=>{const{present:e,children:t}=n,r=b8(e),s=typeof t=="function"?t({present:r.isPresent}):E.Children.only(t),o=Xt(r.ref,w8(s));return typeof t=="function"||r.isPresent?E.cloneElement(s,{ref:o}):null};$l.displayName="Presence";function b8(n){const[e,t]=E.useState(),r=E.useRef(null),s=E.useRef(n),o=E.useRef("none"),u=n?"mounted":"unmounted",[c,f]=_8(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const h=Xp(r.current);o.current=c==="mounted"?h:"none"},[c]),sr(()=>{const h=r.current,g=s.current;if(g!==n){const _=o.current,w=Xp(h);n?f("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(g&&_!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,f]),sr(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,v=w=>{const A=Xp(r.current).includes(w.animationName);if(w.target===e&&A&&(f("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},_=w=>{w.target===e&&(o.current=Xp(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:E.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function Xp(n){return(n==null?void 0:n.animationName)||"none"}function w8(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var k_="rovingFocusGroup.onEntryFocus",E8={bubbles:!1,cancelable:!0},_h="RovingFocusGroup",[$0,$N,T8]=dw(_h),[S8,qN]=Hl(_h,[T8]),[x8,R8]=S8(_h),GN=E.forwardRef((n,e)=>x.jsx($0.Provider,{scope:n.__scopeRovingFocusGroup,children:x.jsx($0.Slot,{scope:n.__scopeRovingFocusGroup,children:x.jsx(A8,{...n,ref:e})})}));GN.displayName=_h;var A8=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:o,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...v}=n,_=E.useRef(null),w=Xt(e,_),S=fw(o),[A,C]=qf({prop:u,defaultProp:c??null,onChange:f,caller:_h}),[k,j]=E.useState(!1),L=ms(h),q=$N(t),H=E.useRef(!1),[U,P]=E.useState(0);return E.useEffect(()=>{const I=_.current;if(I)return I.addEventListener(k_,L),()=>I.removeEventListener(k_,L)},[L]),x.jsx(x8,{scope:t,orientation:r,dir:S,loop:s,currentTabStopId:A,onItemFocus:E.useCallback(I=>C(I),[C]),onItemShiftTab:E.useCallback(()=>j(!0),[]),onFocusableItemAdd:E.useCallback(()=>P(I=>I+1),[]),onFocusableItemRemove:E.useCallback(()=>P(I=>I-1),[]),children:x.jsx(zt.div,{tabIndex:k||U===0?-1:0,"data-orientation":r,...v,ref:w,style:{outline:"none",...n.style},onMouseDown:Be(n.onMouseDown,()=>{H.current=!0}),onFocus:Be(n.onFocus,I=>{const N=!H.current;if(I.target===I.currentTarget&&N&&!k){const M=new CustomEvent(k_,E8);if(I.currentTarget.dispatchEvent(M),!M.defaultPrevented){const F=q().filter(K=>K.focusable),$=F.find(K=>K.active),V=F.find(K=>K.id===A),Ee=[$,V,...F].filter(Boolean).map(K=>K.ref.current);YN(Ee,g)}}H.current=!1}),onBlur:Be(n.onBlur,()=>j(!1))})})}),KN="RovingFocusGroupItem",QN=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:o,children:u,...c}=n,f=Ml(),h=o||f,g=R8(KN,t),v=g.currentTabStopId===h,_=$N(t),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:A}=g;return E.useEffect(()=>{if(r)return w(),()=>S()},[r,w,S]),x.jsx($0.ItemSlot,{scope:t,id:h,focusable:r,active:s,children:x.jsx(zt.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...c,ref:e,onMouseDown:Be(n.onMouseDown,C=>{r?g.onItemFocus(h):C.preventDefault()}),onFocus:Be(n.onFocus,()=>g.onItemFocus(h)),onKeyDown:Be(n.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){g.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const k=O8(C,g.orientation,g.dir);if(k!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let L=_().filter(q=>q.focusable).map(q=>q.ref.current);if(k==="last")L.reverse();else if(k==="prev"||k==="next"){k==="prev"&&L.reverse();const q=L.indexOf(C.currentTarget);L=g.loop?N8(L,q+1):L.slice(q+1)}setTimeout(()=>YN(L))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:A!=null}):u})})});QN.displayName=KN;var C8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I8(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function O8(n,e,t){const r=I8(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return C8[r]}function YN(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function N8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var k8=GN,P8=QN,D8=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Lu=new WeakMap,Jp=new WeakMap,em={},P_=0,WN=function(n){return n&&(n.host||WN(n.parentNode))},M8=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=WN(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},L8=function(n,e,t,r){var s=M8(e,Array.isArray(n)?n:[n]);em[t]||(em[t]=new WeakMap);var o=em[t],u=[],c=new Set,f=new Set(s),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};s.forEach(h);var g=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(_){if(c.has(_))g(_);else try{var w=_.getAttribute(r),S=w!==null&&w!=="false",A=(Lu.get(_)||0)+1,C=(o.get(_)||0)+1;Lu.set(_,A),o.set(_,C),u.push(_),A===1&&S&&Jp.set(_,!0),C===1&&_.setAttribute(t,"true"),S||_.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",_,k)}})};return g(e),c.clear(),P_++,function(){u.forEach(function(v){var _=Lu.get(v)-1,w=o.get(v)-1;Lu.set(v,_),o.set(v,w),_||(Jp.has(v)||v.removeAttribute(r),Jp.delete(v)),w||v.removeAttribute(t)}),P_--,P_||(Lu=new WeakMap,Lu=new WeakMap,Jp=new WeakMap,em={})}},ZN=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=D8(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),L8(r,s,t,"aria-hidden")):function(){return null}},gm="right-scroll-bar-position",ym="width-before-scroll-bar",V8="with-scroll-bars-hidden",j8="--removed-body-scroll-bar-size";function D_(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function U8(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var z8=typeof window<"u"?E.useLayoutEffect:E.useEffect,cC=new WeakMap;function F8(n,e){var t=U8(null,function(r){return n.forEach(function(s){return D_(s,r)})});return z8(function(){var r=cC.get(t);if(r){var s=new Set(r),o=new Set(n),u=t.current;s.forEach(function(c){o.has(c)||D_(c,null)}),o.forEach(function(c){s.has(c)||D_(c,u)})}cC.set(t,n)},[n]),t}function B8(n){return n}function H8(n,e){e===void 0&&(e=B8);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var u=e(o,r);return t.push(u),function(){t=t.filter(function(c){return c!==u})}},assignSyncMedium:function(o){for(r=!0;t.length;){var u=t;t=[],u.forEach(o)}t={push:function(c){return o(c)},filter:function(){return t}}},assignMedium:function(o){r=!0;var u=[];if(t.length){var c=t;t=[],c.forEach(o),u=t}var f=function(){var g=u;u=[],g.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),t={push:function(g){u.push(g),h()},filter:function(g){return u=u.filter(g),t}}}};return s}function $8(n){n===void 0&&(n={});var e=H8(null);return e.options=ts({async:!0,ssr:!1},n),e}var XN=function(n){var e=n.sideCar,t=oh(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,ts({},t))};XN.isSideCarExport=!0;function q8(n,e){return n.useMedium(e),XN}var JN=$8(),M_=function(){},zg=E.forwardRef(function(n,e){var t=E.useRef(null),r=E.useState({onScrollCapture:M_,onWheelCapture:M_,onTouchMoveCapture:M_}),s=r[0],o=r[1],u=n.forwardProps,c=n.children,f=n.className,h=n.removeScrollBar,g=n.enabled,v=n.shards,_=n.sideCar,w=n.noRelative,S=n.noIsolation,A=n.inert,C=n.allowPinchZoom,k=n.as,j=k===void 0?"div":k,L=n.gapMode,q=oh(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=_,U=F8([t,e]),P=ts(ts({},q),s);return E.createElement(E.Fragment,null,g&&E.createElement(H,{sideCar:JN,removeScrollBar:h,shards:v,noRelative:w,noIsolation:S,inert:A,setCallbacks:o,allowPinchZoom:!!C,lockRef:t,gapMode:L}),u?E.cloneElement(E.Children.only(c),ts(ts({},P),{ref:U})):E.createElement(j,ts({},P,{className:f,ref:U}),c))});zg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zg.classNames={fullWidth:ym,zeroRight:gm};var G8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function K8(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=G8();return e&&n.setAttribute("nonce",e),n}function Q8(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Y8(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var W8=function(){var n=0,e=null;return{add:function(t){n==0&&(e=K8())&&(Q8(e,t),Y8(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Z8=function(){var n=W8();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},ek=function(){var n=Z8(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},X8={left:0,top:0,right:0,gap:0},L_=function(n){return parseInt(n||"",10)||0},J8=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[L_(t),L_(r),L_(s)]},e$=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return X8;var e=J8(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},t$=ek(),Ju="data-scroll-locked",n$=function(n,e,t,r){var s=n.left,o=n.top,u=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(V8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ju,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gm,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ym,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(gm," .").concat(gm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ym," .").concat(ym,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ju,`] {
    `).concat(j8,": ").concat(c,`px;
  }
`)},dC=function(){var n=parseInt(document.body.getAttribute(Ju)||"0",10);return isFinite(n)?n:0},r$=function(){E.useEffect(function(){return document.body.setAttribute(Ju,(dC()+1).toString()),function(){var n=dC()-1;n<=0?document.body.removeAttribute(Ju):document.body.setAttribute(Ju,n.toString())}},[])},i$=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;r$();var o=E.useMemo(function(){return e$(s)},[s]);return E.createElement(t$,{styles:n$(o,!e,s,t?"":"!important")})},q0=!1;if(typeof window<"u")try{var tm=Object.defineProperty({},"passive",{get:function(){return q0=!0,!0}});window.addEventListener("test",tm,tm),window.removeEventListener("test",tm,tm)}catch{q0=!1}var Vu=q0?{passive:!1}:!1,s$=function(n){return n.tagName==="TEXTAREA"},tk=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!s$(n)&&t[e]==="visible")},a$=function(n){return tk(n,"overflowY")},o$=function(n){return tk(n,"overflowX")},fC=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=nk(n,r);if(s){var o=rk(n,r),u=o[1],c=o[2];if(u>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},l$=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},u$=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},nk=function(n,e){return n==="v"?a$(e):o$(e)},rk=function(n,e){return n==="v"?l$(e):u$(e)},c$=function(n,e){return n==="h"&&e==="rtl"?-1:1},d$=function(n,e,t,r,s){var o=c$(n,window.getComputedStyle(e).direction),u=o*r,c=t.target,f=e.contains(c),h=!1,g=u>0,v=0,_=0;do{if(!c)break;var w=rk(n,c),S=w[0],A=w[1],C=w[2],k=A-C-o*S;(S||k)&&nk(n,c)&&(v+=k,_+=S);var j=c.parentNode;c=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(g&&Math.abs(v)<1||!g&&Math.abs(_)<1)&&(h=!0),h},nm=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},hC=function(n){return[n.deltaX,n.deltaY]},pC=function(n){return n&&"current"in n?n.current:n},f$=function(n,e){return n[0]===e[0]&&n[1]===e[1]},h$=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},p$=0,ju=[];function m$(n){var e=E.useRef([]),t=E.useRef([0,0]),r=E.useRef(),s=E.useState(p$++)[0],o=E.useState(ek)[0],u=E.useRef(n);E.useEffect(function(){u.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var A=qU([n.lockRef.current],(n.shards||[]).map(pC),!0).filter(Boolean);return A.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),A.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var c=E.useCallback(function(A,C){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var k=nm(A),j=t.current,L="deltaX"in A?A.deltaX:j[0]-k[0],q="deltaY"in A?A.deltaY:j[1]-k[1],H,U=A.target,P=Math.abs(L)>Math.abs(q)?"h":"v";if("touches"in A&&P==="h"&&U.type==="range")return!1;var I=fC(P,U);if(!I)return!0;if(I?H=P:(H=P==="v"?"h":"v",I=fC(P,U)),!I)return!1;if(!r.current&&"changedTouches"in A&&(L||q)&&(r.current=H),!H)return!0;var N=r.current||H;return d$(N,C,A,N==="h"?L:q)},[]),f=E.useCallback(function(A){var C=A;if(!(!ju.length||ju[ju.length-1]!==o)){var k="deltaY"in C?hC(C):nm(C),j=e.current.filter(function(H){return H.name===C.type&&(H.target===C.target||C.target===H.shadowParent)&&f$(H.delta,k)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var L=(u.current.shards||[]).map(pC).filter(Boolean).filter(function(H){return H.contains(C.target)}),q=L.length>0?c(C,L[0]):!u.current.noIsolation;q&&C.cancelable&&C.preventDefault()}}},[]),h=E.useCallback(function(A,C,k,j){var L={name:A,delta:C,target:k,should:j,shadowParent:g$(k)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(q){return q!==L})},1)},[]),g=E.useCallback(function(A){t.current=nm(A),r.current=void 0},[]),v=E.useCallback(function(A){h(A.type,hC(A),A.target,c(A,n.lockRef.current))},[]),_=E.useCallback(function(A){h(A.type,nm(A),A.target,c(A,n.lockRef.current))},[]);E.useEffect(function(){return ju.push(o),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:_}),document.addEventListener("wheel",f,Vu),document.addEventListener("touchmove",f,Vu),document.addEventListener("touchstart",g,Vu),function(){ju=ju.filter(function(A){return A!==o}),document.removeEventListener("wheel",f,Vu),document.removeEventListener("touchmove",f,Vu),document.removeEventListener("touchstart",g,Vu)}},[]);var w=n.removeScrollBar,S=n.inert;return E.createElement(E.Fragment,null,S?E.createElement(o,{styles:h$(s)}):null,w?E.createElement(i$,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function g$(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const y$=q8(JN,m$);var Aw=E.forwardRef(function(n,e){return E.createElement(zg,ts({},n,{ref:e,sideCar:y$}))});Aw.classNames=zg.classNames;var G0=["Enter"," "],v$=["ArrowDown","PageUp","Home"],ik=["ArrowUp","PageDown","End"],_$=[...v$,...ik],b$={ltr:[...G0,"ArrowRight"],rtl:[...G0,"ArrowLeft"]},w$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bh="Menu",[Qf,E$,T$]=dw(bh),[ql,sk]=Hl(bh,[T$,zc,qN]),Fg=zc(),ak=qN(),[S$,Gl]=ql(bh),[x$,wh]=ql(bh),ok=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:o,modal:u=!0}=n,c=Fg(e),[f,h]=E.useState(null),g=E.useRef(!1),v=ms(o),_=fw(s);return E.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),x.jsx(Tw,{...c,children:x.jsx(S$,{scope:e,open:t,onOpenChange:v,content:f,onContentChange:h,children:x.jsx(x$,{scope:e,onClose:E.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:_,modal:u,children:r})})})};ok.displayName=bh;var R$="MenuAnchor",Cw=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Fg(t);return x.jsx(Sw,{...s,...r,ref:e})});Cw.displayName=R$;var Iw="MenuPortal",[A$,lk]=ql(Iw,{forceMount:void 0}),uk=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,o=Gl(Iw,e);return x.jsx(A$,{scope:e,forceMount:t,children:x.jsx($l,{present:t||o.open,children:x.jsx(Ug,{asChild:!0,container:s,children:r})})})};uk.displayName=Iw;var di="MenuContent",[C$,Ow]=ql(di),ck=E.forwardRef((n,e)=>{const t=lk(di,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,o=Gl(di,n.__scopeMenu),u=wh(di,n.__scopeMenu);return x.jsx(Qf.Provider,{scope:n.__scopeMenu,children:x.jsx($l,{present:r||o.open,children:x.jsx(Qf.Slot,{scope:n.__scopeMenu,children:u.modal?x.jsx(I$,{...s,ref:e}):x.jsx(O$,{...s,ref:e})})})})}),I$=E.forwardRef((n,e)=>{const t=Gl(di,n.__scopeMenu),r=E.useRef(null),s=Xt(e,r);return E.useEffect(()=>{const o=r.current;if(o)return ZN(o)},[]),x.jsx(Nw,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Be(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),O$=E.forwardRef((n,e)=>{const t=Gl(di,n.__scopeMenu);return x.jsx(Nw,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),N$=xc("MenuContent.ScrollLock"),Nw=E.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:_,onDismiss:w,disableOutsideScroll:S,...A}=n,C=Gl(di,t),k=wh(di,t),j=Fg(t),L=ak(t),q=E$(t),[H,U]=E.useState(null),P=E.useRef(null),I=Xt(e,P,C.onContentChange),N=E.useRef(0),M=E.useRef(""),F=E.useRef(0),$=E.useRef(null),V=E.useRef("right"),_e=E.useRef(0),Ee=S?Aw:E.Fragment,K=S?{as:N$,allowPinchZoom:!0}:void 0,ae=ue=>{var we,Ve;const z=M.current+ue,re=q().filter(at=>!at.disabled),fe=document.activeElement,le=(we=re.find(at=>at.ref.current===fe))==null?void 0:we.textValue,be=re.map(at=>at.textValue),Le=H$(be,z,le),xe=(Ve=re.find(at=>at.textValue===Le))==null?void 0:Ve.ref.current;(function at(Ue){M.current=Ue,window.clearTimeout(N.current),Ue!==""&&(N.current=window.setTimeout(()=>at(""),1e3))})(z),xe&&setTimeout(()=>xe.focus())};E.useEffect(()=>()=>window.clearTimeout(N.current),[]),EN();const Z=E.useCallback(ue=>{var re,fe;return V.current===((re=$.current)==null?void 0:re.side)&&q$(ue,(fe=$.current)==null?void 0:fe.area)},[]);return x.jsx(C$,{scope:t,searchRef:M,onItemEnter:E.useCallback(ue=>{Z(ue)&&ue.preventDefault()},[Z]),onItemLeave:E.useCallback(ue=>{var z;Z(ue)||((z=P.current)==null||z.focus(),U(null))},[Z]),onTriggerLeave:E.useCallback(ue=>{Z(ue)&&ue.preventDefault()},[Z]),pointerGraceTimerRef:F,onPointerGraceIntentChange:E.useCallback(ue=>{$.current=ue},[]),children:x.jsx(Ee,{...K,children:x.jsx(hw,{asChild:!0,trapped:s,onMountAutoFocus:Be(o,ue=>{var z;ue.preventDefault(),(z=P.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:x.jsx(Mg,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:_,onDismiss:w,children:x.jsx(k8,{asChild:!0,...L,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:H,onCurrentTabStopIdChange:U,onEntryFocus:Be(f,ue=>{k.isUsingKeyboardRef.current||ue.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(xw,{role:"menu","aria-orientation":"vertical","data-state":Rk(C.open),"data-radix-menu-content":"",dir:k.dir,...j,...A,ref:I,style:{outline:"none",...A.style},onKeyDown:Be(A.onKeyDown,ue=>{const re=ue.target.closest("[data-radix-menu-content]")===ue.currentTarget,fe=ue.ctrlKey||ue.altKey||ue.metaKey,le=ue.key.length===1;re&&(ue.key==="Tab"&&ue.preventDefault(),!fe&&le&&ae(ue.key));const be=P.current;if(ue.target!==be||!_$.includes(ue.key))return;ue.preventDefault();const xe=q().filter(we=>!we.disabled).map(we=>we.ref.current);ik.includes(ue.key)&&xe.reverse(),F$(xe)}),onBlur:Be(n.onBlur,ue=>{ue.currentTarget.contains(ue.target)||(window.clearTimeout(N.current),M.current="")}),onPointerMove:Be(n.onPointerMove,Yf(ue=>{const z=ue.target,re=_e.current!==ue.clientX;if(ue.currentTarget.contains(z)&&re){const fe=ue.clientX>_e.current?"right":"left";V.current=fe,_e.current=ue.clientX}}))})})})})})})});ck.displayName=di;var k$="MenuGroup",kw=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return x.jsx(zt.div,{role:"group",...r,ref:e})});kw.displayName=k$;var P$="MenuLabel",dk=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return x.jsx(zt.div,{...r,ref:e})});dk.displayName=P$;var ig="MenuItem",mC="menu.itemSelect",Bg=E.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,o=E.useRef(null),u=wh(ig,n.__scopeMenu),c=Ow(ig,n.__scopeMenu),f=Xt(e,o),h=E.useRef(!1),g=()=>{const v=o.current;if(!t&&v){const _=new CustomEvent(mC,{bubbles:!0,cancelable:!0});v.addEventListener(mC,w=>r==null?void 0:r(w),{once:!0}),_N(v,_),_.defaultPrevented?h.current=!1:u.onClose()}};return x.jsx(fk,{...s,ref:f,disabled:t,onClick:Be(n.onClick,g),onPointerDown:v=>{var _;(_=n.onPointerDown)==null||_.call(n,v),h.current=!0},onPointerUp:Be(n.onPointerUp,v=>{var _;h.current||(_=v.currentTarget)==null||_.click()}),onKeyDown:Be(n.onKeyDown,v=>{const _=c.searchRef.current!=="";t||_&&v.key===" "||G0.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Bg.displayName=ig;var fk=E.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...o}=n,u=Ow(ig,t),c=ak(t),f=E.useRef(null),h=Xt(e,f),[g,v]=E.useState(!1),[_,w]=E.useState("");return E.useEffect(()=>{const S=f.current;S&&w((S.textContent??"").trim())},[o.children]),x.jsx(Qf.ItemSlot,{scope:t,disabled:r,textValue:s??_,children:x.jsx(P8,{asChild:!0,...c,focusable:!r,children:x.jsx(zt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:h,onPointerMove:Be(n.onPointerMove,Yf(S=>{r?u.onItemLeave(S):(u.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Be(n.onPointerLeave,Yf(S=>u.onItemLeave(S))),onFocus:Be(n.onFocus,()=>v(!0)),onBlur:Be(n.onBlur,()=>v(!1))})})})}),D$="MenuCheckboxItem",hk=E.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return x.jsx(vk,{scope:n.__scopeMenu,checked:t,children:x.jsx(Bg,{role:"menuitemcheckbox","aria-checked":sg(t)?"mixed":t,...s,ref:e,"data-state":Dw(t),onSelect:Be(s.onSelect,()=>r==null?void 0:r(sg(t)?!0:!t),{checkForDefaultPrevented:!1})})})});hk.displayName=D$;var pk="MenuRadioGroup",[M$,L$]=ql(pk,{value:void 0,onValueChange:()=>{}}),mk=E.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,o=ms(r);return x.jsx(M$,{scope:n.__scopeMenu,value:t,onValueChange:o,children:x.jsx(kw,{...s,ref:e})})});mk.displayName=pk;var gk="MenuRadioItem",yk=E.forwardRef((n,e)=>{const{value:t,...r}=n,s=L$(gk,n.__scopeMenu),o=t===s.value;return x.jsx(vk,{scope:n.__scopeMenu,checked:o,children:x.jsx(Bg,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":Dw(o),onSelect:Be(r.onSelect,()=>{var u;return(u=s.onValueChange)==null?void 0:u.call(s,t)},{checkForDefaultPrevented:!1})})})});yk.displayName=gk;var Pw="MenuItemIndicator",[vk,V$]=ql(Pw,{checked:!1}),_k=E.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,o=V$(Pw,t);return x.jsx($l,{present:r||sg(o.checked)||o.checked===!0,children:x.jsx(zt.span,{...s,ref:e,"data-state":Dw(o.checked)})})});_k.displayName=Pw;var j$="MenuSeparator",bk=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return x.jsx(zt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});bk.displayName=j$;var U$="MenuArrow",wk=E.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Fg(t);return x.jsx(Rw,{...s,...r,ref:e})});wk.displayName=U$;var z$="MenuSub",[qG,Ek]=ql(z$),sf="MenuSubTrigger",Tk=E.forwardRef((n,e)=>{const t=Gl(sf,n.__scopeMenu),r=wh(sf,n.__scopeMenu),s=Ek(sf,n.__scopeMenu),o=Ow(sf,n.__scopeMenu),u=E.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=o,h={__scopeMenu:n.__scopeMenu},g=E.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return E.useEffect(()=>g,[g]),E.useEffect(()=>{const v=c.current;return()=>{window.clearTimeout(v),f(null)}},[c,f]),x.jsx(Cw,{asChild:!0,...h,children:x.jsx(fk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":Rk(t.open),...n,ref:Dg(e,s.onTriggerChange),onClick:v=>{var _;(_=n.onClick)==null||_.call(n,v),!(n.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Be(n.onPointerMove,Yf(v=>{o.onItemEnter(v),!v.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(o.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:Be(n.onPointerLeave,Yf(v=>{var w,S;g();const _=(w=t.content)==null?void 0:w.getBoundingClientRect();if(_){const A=(S=t.content)==null?void 0:S.dataset.side,C=A==="right",k=C?-5:5,j=_[C?"left":"right"],L=_[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+k,y:v.clientY},{x:j,y:_.top},{x:L,y:_.top},{x:L,y:_.bottom},{x:j,y:_.bottom}],side:A}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Be(n.onKeyDown,v=>{var w;const _=o.searchRef.current!=="";n.disabled||_&&v.key===" "||b$[r.dir].includes(v.key)&&(t.onOpenChange(!0),(w=t.content)==null||w.focus(),v.preventDefault())})})})});Tk.displayName=sf;var Sk="MenuSubContent",xk=E.forwardRef((n,e)=>{const t=lk(di,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,o=Gl(di,n.__scopeMenu),u=wh(di,n.__scopeMenu),c=Ek(Sk,n.__scopeMenu),f=E.useRef(null),h=Xt(e,f);return x.jsx(Qf.Provider,{scope:n.__scopeMenu,children:x.jsx($l,{present:r||o.open,children:x.jsx(Qf.Slot,{scope:n.__scopeMenu,children:x.jsx(Nw,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var v;u.isUsingKeyboardRef.current&&((v=f.current)==null||v.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Be(n.onFocusOutside,g=>{g.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Be(n.onEscapeKeyDown,g=>{u.onClose(),g.preventDefault()}),onKeyDown:Be(n.onKeyDown,g=>{var w;const v=g.currentTarget.contains(g.target),_=w$[u.dir].includes(g.key);v&&_&&(o.onOpenChange(!1),(w=c.trigger)==null||w.focus(),g.preventDefault())})})})})})});xk.displayName=Sk;function Rk(n){return n?"open":"closed"}function sg(n){return n==="indeterminate"}function Dw(n){return sg(n)?"indeterminate":n?"checked":"unchecked"}function F$(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function B$(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function H$(n,e,t){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let u=B$(n,Math.max(o,0));s.length===1&&(u=u.filter(h=>h!==t));const f=u.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return f!==t?f:void 0}function $$(n,e){const{x:t,y:r}=n;let s=!1;for(let o=0,u=e.length-1;o<e.length;u=o++){const c=e[o],f=e[u],h=c.x,g=c.y,v=f.x,_=f.y;g>r!=_>r&&t<(v-h)*(r-g)/(_-g)+h&&(s=!s)}return s}function q$(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return $$(t,e)}function Yf(n){return e=>e.pointerType==="mouse"?n(e):void 0}var G$=ok,K$=Cw,Q$=uk,Y$=ck,W$=kw,Z$=dk,X$=Bg,J$=hk,eq=mk,tq=yk,nq=_k,rq=bk,iq=wk,sq=Tk,aq=xk,Hg="DropdownMenu",[oq,GG]=Hl(Hg,[sk]),mr=sk(),[lq,Ak]=oq(Hg),Ck=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:o,onOpenChange:u,modal:c=!0}=n,f=mr(e),h=E.useRef(null),[g,v]=qf({prop:s,defaultProp:o??!1,onChange:u,caller:Hg});return x.jsx(lq,{scope:e,triggerId:Ml(),triggerRef:h,contentId:Ml(),open:g,onOpenChange:v,onOpenToggle:E.useCallback(()=>v(_=>!_),[v]),modal:c,children:x.jsx(G$,{...f,open:g,onOpenChange:v,dir:r,modal:c,children:t})})};Ck.displayName=Hg;var Ik="DropdownMenuTrigger",Ok=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,o=Ak(Ik,t),u=mr(t);return x.jsx(K$,{asChild:!0,...u,children:x.jsx(zt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Dg(e,o.triggerRef),onPointerDown:Be(n.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Be(n.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Ok.displayName=Ik;var uq="DropdownMenuPortal",Nk=n=>{const{__scopeDropdownMenu:e,...t}=n,r=mr(e);return x.jsx(Q$,{...r,...t})};Nk.displayName=uq;var kk="DropdownMenuContent",Pk=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Ak(kk,t),o=mr(t),u=E.useRef(!1);return x.jsx(Y$,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:Be(n.onCloseAutoFocus,c=>{var f;u.current||(f=s.triggerRef.current)==null||f.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:Be(n.onInteractOutside,c=>{const f=c.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,g=f.button===2||h;(!s.modal||g)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Pk.displayName=kk;var cq="DropdownMenuGroup",dq=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(W$,{...s,...r,ref:e})});dq.displayName=cq;var fq="DropdownMenuLabel",hq=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(Z$,{...s,...r,ref:e})});hq.displayName=fq;var pq="DropdownMenuItem",Dk=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(X$,{...s,...r,ref:e})});Dk.displayName=pq;var mq="DropdownMenuCheckboxItem",gq=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(J$,{...s,...r,ref:e})});gq.displayName=mq;var yq="DropdownMenuRadioGroup",vq=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(eq,{...s,...r,ref:e})});vq.displayName=yq;var _q="DropdownMenuRadioItem",bq=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(tq,{...s,...r,ref:e})});bq.displayName=_q;var wq="DropdownMenuItemIndicator",Eq=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(nq,{...s,...r,ref:e})});Eq.displayName=wq;var Tq="DropdownMenuSeparator",Sq=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(rq,{...s,...r,ref:e})});Sq.displayName=Tq;var xq="DropdownMenuArrow",Rq=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(iq,{...s,...r,ref:e})});Rq.displayName=xq;var Aq="DropdownMenuSubTrigger",Cq=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(sq,{...s,...r,ref:e})});Cq.displayName=Aq;var Iq="DropdownMenuSubContent",Oq=E.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=mr(t);return x.jsx(aq,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Oq.displayName=Iq;var Nq=Ck,kq=Ok,Pq=Nk,Dq=Pk,Mq=Dk;/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vq=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),gC=n=>{const e=Vq(n);return e.charAt(0).toUpperCase()+e.slice(1)},Mk=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),jq=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=E.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:u,...c},f)=>E.createElement("svg",{ref:f,...Uq,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Mk("lucide",s),...!o&&!jq(c)&&{"aria-hidden":"true"},...c},[...u.map(([h,g])=>E.createElement(h,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=(n,e)=>{const t=E.forwardRef(({className:r,...s},o)=>E.createElement(zq,{ref:o,iconNode:e,className:Mk(`lucide-${Lq(gC(n))}`,`lucide-${n}`,r),...s}));return t.displayName=gC(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bq=$g("check",Fq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lk=$g("chevron-down",Hq);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qq=$g("chevron-up",$q);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Kq=$g("globe",Gq);function Qq({...n}){return x.jsx(Nq,{"data-slot":"dropdown-menu",...n})}function Yq({...n}){return x.jsx(kq,{"data-slot":"dropdown-menu-trigger",...n})}function Wq({className:n,sideOffset:e=4,...t}){return x.jsx(Pq,{children:x.jsx(Dq,{"data-slot":"dropdown-menu-content",sideOffset:e,className:On("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function Zq({className:n,inset:e,variant:t="default",...r}){return x.jsx(Mq,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:On("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function Xq(){const{i18n:n}=Ic(),e=[{code:"zh-TW",name:"繁體中文"},{code:"en",name:"English"},{code:"ja",name:"日本語"}],t=r=>{n.changeLanguage(r)};return x.jsxs(Qq,{children:[x.jsx(Yq,{asChild:!0,children:x.jsx(An,{variant:"ghost",size:"icon",children:x.jsx(Kq,{className:"h-5 w-5"})})}),x.jsx(Wq,{align:"end",children:e.map(r=>x.jsx(Zq,{onClick:()=>t(r.code),className:n.language===r.code?"bg-accent":"",children:r.name},r.code))})]})}function Mw(){const{t:n}=Ic(),e=oa(),{user:t,logout:r}=gh(),s=e.pathname==="/"||e.pathname==="/auth";return x.jsxs("header",{className:"flex-none z-50 flex justify-between items-center p-6 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[!s&&x.jsx(is,{to:"/",className:"text-2xl hover:scale-110 transition-transform",children:"←"}),x.jsx("div",{className:"text-4xl",children:"⚔️"}),x.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-red-600 bg-clip-text text-transparent",children:n("app.title")})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[t&&x.jsx(An,{variant:"outline",size:"sm",onClick:()=>r(),className:"text-sm mr-2",children:n("auth.logout")}),x.jsx(Xq,{}),x.jsx(BB,{})]})]})}function Lw(){const{pathname:n}=oa();return E.useEffect(()=>{const e=document.querySelector("main");e&&(e.scrollTop=0)},[n]),null}function Jq(){return x.jsxs("div",{className:"flex flex-col h-screen overflow-hidden bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 transition-all duration-300",children:[x.jsx(Lw,{}),x.jsx(Mw,{}),x.jsx("main",{className:"flex-1 overflow-auto",children:x.jsx("div",{className:"container mx-auto px-6 py-8",children:x.jsx(A2,{})})})]})}function e7({className:n,...e}){return x.jsx("div",{"data-slot":"card",className:On("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function t7({className:n,...e}){return x.jsx("div",{"data-slot":"card-header",className:On("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function n7({className:n,...e}){return x.jsx("div",{"data-slot":"card-title",className:On("leading-none font-semibold",n),...e})}function r7({className:n,...e}){return x.jsx("div",{"data-slot":"card-content",className:On("px-6",n),...e})}function i7({className:n,...e}){return x.jsx("div",{"data-slot":"card-footer",className:On("flex items-center px-6 [.border-t]:pt-6",n),...e})}const s7=lN("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Vk({className:n,variant:e,asChild:t=!1,...r}){const s=t?iN:"span";return x.jsx(s,{"data-slot":"badge",className:On(s7({variant:e}),n),...r})}const ag={Normal:"bg-gray-400 text-white dark:bg-gray-500",Fire:"bg-red-500 text-white dark:bg-red-600",Water:"bg-blue-500 text-white dark:bg-blue-600",Electric:"bg-yellow-400 text-black dark:bg-yellow-500 dark:text-black",Grass:"bg-green-500 text-white dark:bg-green-600",Ice:"bg-cyan-300 text-black dark:bg-cyan-400 dark:text-black",Fighting:"bg-red-700 text-white dark:bg-red-800",Poison:"bg-purple-500 text-white dark:bg-purple-600",Ground:"bg-yellow-600 text-white dark:bg-yellow-700",Flying:"bg-indigo-400 text-white dark:bg-indigo-500",Psychic:"bg-pink-500 text-white dark:bg-pink-600",Bug:"bg-lime-500 text-white dark:bg-lime-600",Rock:"bg-yellow-800 text-white dark:bg-yellow-900",Ghost:"bg-purple-700 text-white dark:bg-purple-800",Dragon:"bg-indigo-700 text-white dark:bg-indigo-800",Dark:"bg-gray-800 text-white dark:bg-gray-900",Steel:"bg-gray-500 text-white dark:bg-gray-600",Fairy:"bg-pink-300 text-black dark:bg-pink-400 dark:text-black"};function a7({type:n,size:e="md",className:t}){const{t:r}=Ic(),s=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase(),o=ag[s]||ag.Normal,u={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-xs",lg:"px-4 py-1.5 text-sm"};return x.jsx(Vk,{variant:"outline",className:On("rounded-full transition-all duration-200 hover:scale-105",o,u[e],t),children:r(`type.${s}`)||s})}var jk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),o7="VisuallyHidden",Uk=E.forwardRef((n,e)=>x.jsx(zt.span,{...n,ref:e,style:{...jk,...n.style}}));Uk.displayName=o7;var l7=Uk,[qg,KG]=Hl("Tooltip",[zc]),Gg=zc(),zk="TooltipProvider",u7=700,K0="tooltip.open",[c7,Vw]=qg(zk),Fk=n=>{const{__scopeTooltip:e,delayDuration:t=u7,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=n,u=E.useRef(!0),c=E.useRef(!1),f=E.useRef(0);return E.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),x.jsx(c7,{scope:e,isOpenDelayedRef:u,delayDuration:t,onOpen:E.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:E.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};Fk.displayName=zk;var Wf="Tooltip",[d7,Eh]=qg(Wf),Bk=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:u,delayDuration:c}=n,f=Vw(Wf,n.__scopeTooltip),h=Gg(e),[g,v]=E.useState(null),_=Ml(),w=E.useRef(0),S=u??f.disableHoverableContent,A=c??f.delayDuration,C=E.useRef(!1),[k,j]=qf({prop:r,defaultProp:s??!1,onChange:P=>{P?(f.onOpen(),document.dispatchEvent(new CustomEvent(K0))):f.onClose(),o==null||o(P)},caller:Wf}),L=E.useMemo(()=>k?C.current?"delayed-open":"instant-open":"closed",[k]),q=E.useCallback(()=>{window.clearTimeout(w.current),w.current=0,C.current=!1,j(!0)},[j]),H=E.useCallback(()=>{window.clearTimeout(w.current),w.current=0,j(!1)},[j]),U=E.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{C.current=!0,j(!0),w.current=0},A)},[A,j]);return E.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),x.jsx(Tw,{...h,children:x.jsx(d7,{scope:e,contentId:_,open:k,stateAttribute:L,trigger:g,onTriggerChange:v,onTriggerEnter:E.useCallback(()=>{f.isOpenDelayedRef.current?U():q()},[f.isOpenDelayedRef,U,q]),onTriggerLeave:E.useCallback(()=>{S?H():(window.clearTimeout(w.current),w.current=0)},[H,S]),onOpen:q,onClose:H,disableHoverableContent:S,children:t})})};Bk.displayName=Wf;var Q0="TooltipTrigger",Hk=E.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Eh(Q0,t),o=Vw(Q0,t),u=Gg(t),c=E.useRef(null),f=Xt(e,c,s.onTriggerChange),h=E.useRef(!1),g=E.useRef(!1),v=E.useCallback(()=>h.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),x.jsx(Sw,{asChild:!0,...u,children:x.jsx(zt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:f,onPointerMove:Be(n.onPointerMove,_=>{_.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:Be(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:Be(n.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Be(n.onFocus,()=>{h.current||s.onOpen()}),onBlur:Be(n.onBlur,s.onClose),onClick:Be(n.onClick,s.onClose)})})});Hk.displayName=Q0;var jw="TooltipPortal",[f7,h7]=qg(jw,{forceMount:void 0}),$k=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:s}=n,o=Eh(jw,e);return x.jsx(f7,{scope:e,forceMount:t,children:x.jsx($l,{present:t||o.open,children:x.jsx(Ug,{asChild:!0,container:s,children:r})})})};$k.displayName=jw;var Ac="TooltipContent",qk=E.forwardRef((n,e)=>{const t=h7(Ac,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...o}=n,u=Eh(Ac,n.__scopeTooltip);return x.jsx($l,{present:r||u.open,children:u.disableHoverableContent?x.jsx(Gk,{side:s,...o,ref:e}):x.jsx(p7,{side:s,...o,ref:e})})}),p7=E.forwardRef((n,e)=>{const t=Eh(Ac,n.__scopeTooltip),r=Vw(Ac,n.__scopeTooltip),s=E.useRef(null),o=Xt(e,s),[u,c]=E.useState(null),{trigger:f,onClose:h}=t,g=s.current,{onPointerInTransitChange:v}=r,_=E.useCallback(()=>{c(null),v(!1)},[v]),w=E.useCallback((S,A)=>{const C=S.currentTarget,k={x:S.clientX,y:S.clientY},j=v7(k,C.getBoundingClientRect()),L=_7(k,j),q=b7(A.getBoundingClientRect()),H=E7([...L,...q]);c(H),v(!0)},[v]);return E.useEffect(()=>()=>_(),[_]),E.useEffect(()=>{if(f&&g){const S=C=>w(C,g),A=C=>w(C,f);return f.addEventListener("pointerleave",S),g.addEventListener("pointerleave",A),()=>{f.removeEventListener("pointerleave",S),g.removeEventListener("pointerleave",A)}}},[f,g,w,_]),E.useEffect(()=>{if(u){const S=A=>{const C=A.target,k={x:A.clientX,y:A.clientY},j=(f==null?void 0:f.contains(C))||(g==null?void 0:g.contains(C)),L=!w7(k,u);j?_():L&&(_(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,g,u,h,_]),x.jsx(Gk,{...n,ref:o})}),[m7,g7]=qg(Wf,{isInside:!1}),y7=rB("TooltipContent"),Gk=E.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:u,...c}=n,f=Eh(Ac,t),h=Gg(t),{onClose:g}=f;return E.useEffect(()=>(document.addEventListener(K0,g),()=>document.removeEventListener(K0,g)),[g]),E.useEffect(()=>{if(f.trigger){const v=_=>{const w=_.target;w!=null&&w.contains(f.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,g]),x.jsx(Mg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:x.jsxs(xw,{"data-state":f.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(y7,{children:r}),x.jsx(m7,{scope:t,isInside:!0,children:x.jsx(l7,{id:f.contentId,role:"tooltip",children:s||r})})]})})});qk.displayName=Ac;var Kk="TooltipArrow",Qk=E.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Gg(t);return g7(Kk,t).isInside?null:x.jsx(Rw,{...s,...r,ref:e})});Qk.displayName=Kk;function v7(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,r,s,o)){case o:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _7(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function b7(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function w7(n,e){const{x:t,y:r}=n;let s=!1;for(let o=0,u=e.length-1;o<e.length;u=o++){const c=e[o],f=e[u],h=c.x,g=c.y,v=f.x,_=f.y;g>r!=_>r&&t<(v-h)*(r-g)/(_-g)+h&&(s=!s)}return s}function E7(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),T7(e)}function T7(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const o=e[e.length-1],u=e[e.length-2];if((o.x-u.x)*(s.y-u.y)>=(o.y-u.y)*(s.x-u.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const o=t[t.length-1],u=t[t.length-2];if((o.x-u.x)*(s.y-u.y)>=(o.y-u.y)*(s.x-u.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var S7=Fk,x7=Bk,R7=Hk,A7=$k,C7=qk,I7=Qk;function O7({delayDuration:n=0,...e}){return x.jsx(S7,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function N7({...n}){return x.jsx(O7,{children:x.jsx(x7,{"data-slot":"tooltip",...n})})}function k7({...n}){return x.jsx(R7,{"data-slot":"tooltip-trigger",...n})}function P7({className:n,sideOffset:e=0,children:t,...r}){return x.jsx(A7,{children:x.jsxs(C7,{"data-slot":"tooltip-content",sideOffset:e,className:On("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...r,children:[t,x.jsx(I7,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const D7="/pokemon_battle_arena/";let vm={};async function M7(){try{const n=await fetch(`${D7}moves.json`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);vm=await n.json(),console.log("Move data loaded successfully")}catch(n){console.error("Failed to load move data:",n)}}function L7(n){const e=n.toLowerCase().replace(/-/g,"").replace(/\s+/g,"");if(vm[e])return vm[e];const t=Object.entries(vm).find(([,r])=>r.name===e);return t?t[1]:void 0}function V7({move:n,size:e,className:t}){const{t:r}=Ic(),s=L7(n);if(!s)return null;const o=ag[s.type]||ag.Normal,u={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-xs",lg:"px-4 py-1.5 text-sm"};return x.jsxs(N7,{children:[x.jsx(k7,{asChild:!0,children:x.jsx(Vk,{variant:"outline",className:On("rounded-full transition-all duration-200 hover:scale-105",o,u[e],t),children:r(`move.${n}`)})}),x.jsxs(P7,{className:"text-sm",children:[x.jsx("p",{children:x.jsxs("span",{className:"flex gap-2",children:[x.jsxs("span",{className:"bg-red-100 dark:bg-red-900/30 px-2 py-0.5 rounded",children:["Power: ",s.basePower||"N/A"]}),x.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:["Accruacy: ",s.accuracy===!0?"--":s.accuracy]}),x.jsxs("span",{className:"bg-purple-100 dark:bg-purple-900/30 px-2 py-0.5 rounded",children:["Category: ",s.category]}),x.jsxs("span",{className:"bg-green-100 dark:bg-green-900/30 px-2 py-0.5 rounded",children:["PP: ",s.pp]})]})}),x.jsx("p",{className:"font-bold mt-1",children:s.shortDesc})]})]})}function Y0({pokemon:n,isSelected:e,onClick:t,className:r=""}){const{t:s}=Ic();return x.jsxs(e7,{className:`cursor-pointer bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-lg gap-4 p-4 text-center hover:shadow-md transition-all duration-200
        ${e?"ring-2 ring-blue-500 dark:ring-blue-400":""}
        ${r}`,onClick:t,children:[x.jsx(t7,{className:"px-2",children:x.jsxs(n7,{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("h2",{className:"text-xl font-bold",children:s(`pokemon.${n.name}`)}),n.types.map(o=>x.jsx(a7,{type:o,size:"sm"},o))]}),x.jsx("p",{children:n.item?"@"+s(`item.${n.item}`):""})]})}),x.jsxs(r7,{className:"flex flex-col justify-center",children:[x.jsx("img",{src:n.sprite,alt:n.name,className:"w-32 h-32 object-contain mx-auto"}),x.jsx("div",{className:"flex flex-wrap justify-between",children:n.moves.map((o,u)=>x.jsx(V7,{move:o,size:"md",className:"basis-[48%] mt-2"},u))})]}),x.jsxs(i7,{className:"flex justify-between px-4",children:[x.jsxs("div",{className:"text-sm text-left",children:[x.jsxs("div",{children:["Lv. ",n.level]}),x.jsxs("div",{children:[s("tera"),": ",s(`type.${n.teraType}`)]})]}),x.jsxs("div",{className:"text-sm text-right",children:[x.jsxs("div",{children:[n.nature.plus," ↑"]}),x.jsxs("div",{children:[n.nature.minus," ↓"]})]})]})]})}function j7(){const{playerName:n,playerTeam:e,winStreak:t,biggestWinStreak:r,totalWins:s}=Jm();return x.jsx("div",{children:x.jsxs("main",{children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsxs("h2",{className:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:["歡迎回來, ",n,"! ◉"]}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"準備好進入激烈的寶可夢對戰了嗎？選擇你的戰略，訓練你的隊伍，成為最強的訓練師！"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"總勝場"}),x.jsx("p",{className:"text-3xl font-bold text-green-600",children:s})]}),x.jsx("div",{className:"text-4xl",children:"🏆"})]})}),x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"連勝紀錄"}),x.jsx("p",{className:"text-3xl font-bold text-orange-600",children:r})]}),x.jsx("div",{className:"text-4xl",children:"🔥"})]})}),x.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"目前勝場"}),x.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t})]}),x.jsx("div",{className:"text-4xl",children:"⭐"})]})})]}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg border border-gray-200 dark:border-gray-700 mb-12",children:[x.jsxs("h3",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200 flex items-center",children:[x.jsx("span",{className:"mr-3",children:"◆"}),"你的隊伍"]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((o,u)=>x.jsx(Y0,{pokemon:o},u))})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[x.jsx(is,{to:"/battle",className:"block",children:x.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-900/30 dark:to-orange-900/30 rounded-xl p-8 text-center border border-red-200 dark:border-red-800 hover:shadow-lg transition-all duration-200 h-full",children:[x.jsx("div",{className:"text-5xl mb-4",children:"⚔️"}),x.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800 dark:text-gray-200",children:"開始對戰"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"挑戰其他訓練師，測試你的戰術！"}),x.jsx(An,{className:"bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600",children:"進入對戰"})]})}),x.jsx(is,{to:"/team-editor",className:"block",children:x.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-xl p-8 text-center border border-blue-200 dark:border-blue-800 hover:shadow-lg transition-all duration-200 h-full",children:[x.jsx("div",{className:"text-5xl mb-4",children:"📋"}),x.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800 dark:text-gray-200",children:"隊伍編輯"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"組建和調整你的寶可夢隊伍！"}),x.jsx(An,{className:"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600",children:"編輯隊伍"})]})}),x.jsx(is,{to:"/stats",className:"block",children:x.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 dark:from-green-900/30 dark:to-teal-900/30 rounded-xl p-8 text-center border border-green-200 dark:border-green-800 hover:shadow-lg transition-all duration-200 h-full",children:[x.jsx("div",{className:"text-5xl mb-4",children:"📊"}),x.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800 dark:text-gray-200",children:"戰績統計"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"查看你的對戰記錄和數據分析！"}),x.jsx(An,{className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",children:"查看統計"})]})})]}),x.jsxs("div",{className:"mt-16 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-8 border border-blue-200 dark:border-gray-600",children:[x.jsxs("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-gray-200 flex items-center",children:[x.jsx("span",{className:"mr-3",children:"◇"}),"訓練師小貼士"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700 dark:text-gray-300",children:[x.jsxs("div",{className:"flex items-start space-x-3",children:[x.jsx("span",{className:"text-green-500",children:"✓"}),x.jsx("span",{children:"合理搭配寶可夢屬性，克制對手弱點"})]}),x.jsxs("div",{className:"flex items-start space-x-3",children:[x.jsx("span",{className:"text-green-500",children:"✓"}),x.jsx("span",{children:"觀察對手行動模式，預判下一步"})]}),x.jsxs("div",{className:"flex items-start space-x-3",children:[x.jsx("span",{className:"text-green-500",children:"✓"}),x.jsx("span",{children:"善用狀態技能和場地效果"})]}),x.jsxs("div",{className:"flex items-start space-x-3",children:[x.jsx("span",{className:"text-green-500",children:"✓"}),x.jsx("span",{children:"適時切換寶可夢保存實力"})]})]})]})]})})}function U7(){return x.jsx("div",{children:x.jsx("main",{className:"container mx-auto px-6 py-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200",children:"戰鬥頁面"}),x.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-12",children:"這裡將會是激烈的寶可夢對戰場地！"}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 shadow-lg border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"text-6xl mb-6",children:"⚔️"}),x.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"戰鬥系統開發中..."}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"即將推出完整的寶可夢對戰體驗"}),x.jsx(is,{to:"/",children:x.jsx(An,{variant:"outline",size:"lg",children:"返回首頁"})})]})]})})})}function z7({className:n,type:e,...t}){return x.jsx("input",{type:e,"data-slot":"input",className:On("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function yC(n,[e,t]){return Math.min(t,Math.max(e,n))}function F7(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var B7=[" ","Enter","ArrowUp","ArrowDown"],H7=[" ","Enter"],Vl="Select",[Kg,Qg,$7]=dw(Vl),[Fc,QG]=Hl(Vl,[$7,zc]),Yg=zc(),[q7,No]=Fc(Vl),[G7,K7]=Fc(Vl),Yk=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:o,value:u,defaultValue:c,onValueChange:f,dir:h,name:g,autoComplete:v,disabled:_,required:w,form:S}=n,A=Yg(e),[C,k]=E.useState(null),[j,L]=E.useState(null),[q,H]=E.useState(!1),U=fw(h),[P,I]=qf({prop:r,defaultProp:s??!1,onChange:o,caller:Vl}),[N,M]=qf({prop:u,defaultProp:c,onChange:f,caller:Vl}),F=E.useRef(null),$=C?S||!!C.closest("form"):!0,[V,_e]=E.useState(new Set),Ee=Array.from(V).map(K=>K.props.value).join(";");return x.jsx(Tw,{...A,children:x.jsxs(q7,{required:w,scope:e,trigger:C,onTriggerChange:k,valueNode:j,onValueNodeChange:L,valueNodeHasChildren:q,onValueNodeHasChildrenChange:H,contentId:Ml(),value:N,onValueChange:M,open:P,onOpenChange:I,dir:U,triggerPointerDownPosRef:F,disabled:_,children:[x.jsx(Kg.Provider,{scope:e,children:x.jsx(G7,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(K=>{_e(ae=>new Set(ae).add(K))},[]),onNativeOptionRemove:E.useCallback(K=>{_e(ae=>{const Z=new Set(ae);return Z.delete(K),Z})},[]),children:t})}),$?x.jsxs(yP,{"aria-hidden":!0,required:w,tabIndex:-1,name:g,autoComplete:v,value:N,onChange:K=>M(K.target.value),disabled:_,form:S,children:[N===void 0?x.jsx("option",{value:""}):null,Array.from(V)]},Ee):null]})})};Yk.displayName=Vl;var Wk="SelectTrigger",Zk=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...s}=n,o=Yg(t),u=No(Wk,t),c=u.disabled||r,f=Xt(e,u.onTriggerChange),h=Qg(t),g=E.useRef("touch"),[v,_,w]=_P(A=>{const C=h().filter(L=>!L.disabled),k=C.find(L=>L.value===u.value),j=bP(C,A,k);j!==void 0&&u.onValueChange(j.value)}),S=A=>{c||(u.onOpenChange(!0),w()),A&&(u.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return x.jsx(Sw,{asChild:!0,...o,children:x.jsx(zt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":vP(u.value)?"":void 0,...s,ref:f,onClick:Be(s.onClick,A=>{A.currentTarget.focus(),g.current!=="mouse"&&S(A)}),onPointerDown:Be(s.onPointerDown,A=>{g.current=A.pointerType;const C=A.target;C.hasPointerCapture(A.pointerId)&&C.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(S(A),A.preventDefault())}),onKeyDown:Be(s.onKeyDown,A=>{const C=v.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&_(A.key),!(C&&A.key===" ")&&B7.includes(A.key)&&(S(),A.preventDefault())})})})});Zk.displayName=Wk;var Xk="SelectValue",Jk=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,children:o,placeholder:u="",...c}=n,f=No(Xk,t),{onValueNodeHasChildrenChange:h}=f,g=o!==void 0,v=Xt(e,f.onValueNodeChange);return sr(()=>{h(g)},[h,g]),x.jsx(zt.span,{...c,ref:v,style:{pointerEvents:"none"},children:vP(f.value)?x.jsx(x.Fragment,{children:u}):o})});Jk.displayName=Xk;var Q7="SelectIcon",eP=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...s}=n;return x.jsx(zt.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});eP.displayName=Q7;var Y7="SelectPortal",tP=n=>x.jsx(Ug,{asChild:!0,...n});tP.displayName=Y7;var jl="SelectContent",nP=E.forwardRef((n,e)=>{const t=No(jl,n.__scopeSelect),[r,s]=E.useState();if(sr(()=>{s(new DocumentFragment)},[]),!t.open){const o=r;return o?Cc.createPortal(x.jsx(rP,{scope:n.__scopeSelect,children:x.jsx(Kg.Slot,{scope:n.__scopeSelect,children:x.jsx("div",{children:n.children})})}),o):null}return x.jsx(iP,{...n,ref:e})});nP.displayName=jl;var bi=10,[rP,ko]=Fc(jl),W7="SelectContentImpl",Z7=xc("SelectContent.RemoveScroll"),iP=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:u,side:c,sideOffset:f,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:_,collisionPadding:w,sticky:S,hideWhenDetached:A,avoidCollisions:C,...k}=n,j=No(jl,t),[L,q]=E.useState(null),[H,U]=E.useState(null),P=Xt(e,we=>q(we)),[I,N]=E.useState(null),[M,F]=E.useState(null),$=Qg(t),[V,_e]=E.useState(!1),Ee=E.useRef(!1);E.useEffect(()=>{if(L)return ZN(L)},[L]),EN();const K=E.useCallback(we=>{const[Ve,...at]=$().map(ot=>ot.ref.current),[Ue]=at.slice(-1),We=document.activeElement;for(const ot of we)if(ot===We||(ot==null||ot.scrollIntoView({block:"nearest"}),ot===Ve&&H&&(H.scrollTop=0),ot===Ue&&H&&(H.scrollTop=H.scrollHeight),ot==null||ot.focus(),document.activeElement!==We))return},[$,H]),ae=E.useCallback(()=>K([I,L]),[K,I,L]);E.useEffect(()=>{V&&ae()},[V,ae]);const{onOpenChange:Z,triggerPointerDownPosRef:ue}=j;E.useEffect(()=>{if(L){let we={x:0,y:0};const Ve=Ue=>{var We,ot;we={x:Math.abs(Math.round(Ue.pageX)-(((We=ue.current)==null?void 0:We.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((ot=ue.current)==null?void 0:ot.y)??0))}},at=Ue=>{we.x<=10&&we.y<=10?Ue.preventDefault():L.contains(Ue.target)||Z(!1),document.removeEventListener("pointermove",Ve),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",at,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",at,{capture:!0})}}},[L,Z,ue]),E.useEffect(()=>{const we=()=>Z(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[Z]);const[z,re]=_P(we=>{const Ve=$().filter(We=>!We.disabled),at=Ve.find(We=>We.ref.current===document.activeElement),Ue=bP(Ve,we,at);Ue&&setTimeout(()=>Ue.ref.current.focus())}),fe=E.useCallback((we,Ve,at)=>{const Ue=!Ee.current&&!at;(j.value!==void 0&&j.value===Ve||Ue)&&(N(we),Ue&&(Ee.current=!0))},[j.value]),le=E.useCallback(()=>L==null?void 0:L.focus(),[L]),be=E.useCallback((we,Ve,at)=>{const Ue=!Ee.current&&!at;(j.value!==void 0&&j.value===Ve||Ue)&&F(we)},[j.value]),Le=r==="popper"?W0:sP,xe=Le===W0?{side:c,sideOffset:f,align:h,alignOffset:g,arrowPadding:v,collisionBoundary:_,collisionPadding:w,sticky:S,hideWhenDetached:A,avoidCollisions:C}:{};return x.jsx(rP,{scope:t,content:L,viewport:H,onViewportChange:U,itemRefCallback:fe,selectedItem:I,onItemLeave:le,itemTextRefCallback:be,focusSelectedItem:ae,selectedItemText:M,position:r,isPositioned:V,searchRef:z,children:x.jsx(Aw,{as:Z7,allowPinchZoom:!0,children:x.jsx(hw,{asChild:!0,trapped:j.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:Be(s,we=>{var Ve;(Ve=j.trigger)==null||Ve.focus({preventScroll:!0}),we.preventDefault()}),children:x.jsx(Mg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:x.jsx(Le,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:we=>we.preventDefault(),...k,...xe,onPlaced:()=>_e(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Be(k.onKeyDown,we=>{const Ve=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!Ve&&we.key.length===1&&re(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let Ue=$().filter(We=>!We.disabled).map(We=>We.ref.current);if(["ArrowUp","End"].includes(we.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const We=we.target,ot=Ue.indexOf(We);Ue=Ue.slice(ot+1)}setTimeout(()=>K(Ue)),we.preventDefault()}})})})})})})});iP.displayName=W7;var X7="SelectItemAlignedPosition",sP=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...s}=n,o=No(jl,t),u=ko(jl,t),[c,f]=E.useState(null),[h,g]=E.useState(null),v=Xt(e,P=>g(P)),_=Qg(t),w=E.useRef(!1),S=E.useRef(!0),{viewport:A,selectedItem:C,selectedItemText:k,focusSelectedItem:j}=u,L=E.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&A&&C&&k){const P=o.trigger.getBoundingClientRect(),I=h.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),M=k.getBoundingClientRect();if(o.dir!=="rtl"){const We=M.left-I.left,ot=N.left-We,en=P.left-ot,Yt=P.width+en,Sr=Math.max(Yt,I.width),$r=window.innerWidth-bi,un=yC(ot,[bi,Math.max(bi,$r-Sr)]);c.style.minWidth=Yt+"px",c.style.left=un+"px"}else{const We=I.right-M.right,ot=window.innerWidth-N.right-We,en=window.innerWidth-P.right-ot,Yt=P.width+en,Sr=Math.max(Yt,I.width),$r=window.innerWidth-bi,un=yC(ot,[bi,Math.max(bi,$r-Sr)]);c.style.minWidth=Yt+"px",c.style.right=un+"px"}const F=_(),$=window.innerHeight-bi*2,V=A.scrollHeight,_e=window.getComputedStyle(h),Ee=parseInt(_e.borderTopWidth,10),K=parseInt(_e.paddingTop,10),ae=parseInt(_e.borderBottomWidth,10),Z=parseInt(_e.paddingBottom,10),ue=Ee+K+V+Z+ae,z=Math.min(C.offsetHeight*5,ue),re=window.getComputedStyle(A),fe=parseInt(re.paddingTop,10),le=parseInt(re.paddingBottom,10),be=P.top+P.height/2-bi,Le=$-be,xe=C.offsetHeight/2,we=C.offsetTop+xe,Ve=Ee+K+we,at=ue-Ve;if(Ve<=be){const We=F.length>0&&C===F[F.length-1].ref.current;c.style.bottom="0px";const ot=h.clientHeight-A.offsetTop-A.offsetHeight,en=Math.max(Le,xe+(We?le:0)+ot+ae),Yt=Ve+en;c.style.height=Yt+"px"}else{const We=F.length>0&&C===F[0].ref.current;c.style.top="0px";const en=Math.max(be,Ee+A.offsetTop+(We?fe:0)+xe)+at;c.style.height=en+"px",A.scrollTop=Ve-be+A.offsetTop}c.style.margin=`${bi}px 0`,c.style.minHeight=z+"px",c.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[_,o.trigger,o.valueNode,c,h,A,C,k,o.dir,r]);sr(()=>L(),[L]);const[q,H]=E.useState();sr(()=>{h&&H(window.getComputedStyle(h).zIndex)},[h]);const U=E.useCallback(P=>{P&&S.current===!0&&(L(),j==null||j(),S.current=!1)},[L,j]);return x.jsx(eG,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:U,children:x.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:x.jsx(zt.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});sP.displayName=X7;var J7="SelectPopperPosition",W0=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:s=bi,...o}=n,u=Yg(t);return x.jsx(xw,{...u,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});W0.displayName=J7;var[eG,Uw]=Fc(jl,{}),Z0="SelectViewport",aP=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...s}=n,o=ko(Z0,t),u=Uw(Z0,t),c=Xt(e,o.onViewportChange),f=E.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),x.jsx(Kg.Slot,{scope:t,children:x.jsx(zt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Be(s.onScroll,h=>{const g=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:_}=u;if(_!=null&&_.current&&v){const w=Math.abs(f.current-g.scrollTop);if(w>0){const S=window.innerHeight-bi*2,A=parseFloat(v.style.minHeight),C=parseFloat(v.style.height),k=Math.max(A,C);if(k<S){const j=k+w,L=Math.min(S,j),q=j-L;v.style.height=L+"px",v.style.bottom==="0px"&&(g.scrollTop=q>0?q:0,v.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});aP.displayName=Z0;var oP="SelectGroup",[tG,nG]=Fc(oP),rG=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Ml();return x.jsx(tG,{scope:t,id:s,children:x.jsx(zt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});rG.displayName=oP;var lP="SelectLabel",iG=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=nG(lP,t);return x.jsx(zt.div,{id:s.id,...r,ref:e})});iG.displayName=lP;var og="SelectItem",[sG,uP]=Fc(og),cP=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:s=!1,textValue:o,...u}=n,c=No(og,t),f=ko(og,t),h=c.value===r,[g,v]=E.useState(o??""),[_,w]=E.useState(!1),S=Xt(e,j=>{var L;return(L=f.itemRefCallback)==null?void 0:L.call(f,j,r,s)}),A=Ml(),C=E.useRef("touch"),k=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(sG,{scope:t,value:r,disabled:s,textId:A,isSelected:h,onItemTextChange:E.useCallback(j=>{v(L=>L||((j==null?void 0:j.textContent)??"").trim())},[]),children:x.jsx(Kg.ItemSlot,{scope:t,value:r,disabled:s,textValue:g,children:x.jsx(zt.div,{role:"option","aria-labelledby":A,"data-highlighted":_?"":void 0,"aria-selected":h&&_,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...u,ref:S,onFocus:Be(u.onFocus,()=>w(!0)),onBlur:Be(u.onBlur,()=>w(!1)),onClick:Be(u.onClick,()=>{C.current!=="mouse"&&k()}),onPointerUp:Be(u.onPointerUp,()=>{C.current==="mouse"&&k()}),onPointerDown:Be(u.onPointerDown,j=>{C.current=j.pointerType}),onPointerMove:Be(u.onPointerMove,j=>{var L;C.current=j.pointerType,s?(L=f.onItemLeave)==null||L.call(f):C.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Be(u.onPointerLeave,j=>{var L;j.currentTarget===document.activeElement&&((L=f.onItemLeave)==null||L.call(f))}),onKeyDown:Be(u.onKeyDown,j=>{var q;((q=f.searchRef)==null?void 0:q.current)!==""&&j.key===" "||(H7.includes(j.key)&&k(),j.key===" "&&j.preventDefault())})})})})});cP.displayName=og;var af="SelectItemText",dP=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,...o}=n,u=No(af,t),c=ko(af,t),f=uP(af,t),h=K7(af,t),[g,v]=E.useState(null),_=Xt(e,k=>v(k),f.onItemTextChange,k=>{var j;return(j=c.itemTextRefCallback)==null?void 0:j.call(c,k,f.value,f.disabled)}),w=g==null?void 0:g.textContent,S=E.useMemo(()=>x.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:A,onNativeOptionRemove:C}=h;return sr(()=>(A(S),()=>C(S)),[A,C,S]),x.jsxs(x.Fragment,{children:[x.jsx(zt.span,{id:f.textId,...o,ref:_}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Cc.createPortal(o.children,u.valueNode):null]})});dP.displayName=af;var fP="SelectItemIndicator",hP=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return uP(fP,t).isSelected?x.jsx(zt.span,{"aria-hidden":!0,...r,ref:e}):null});hP.displayName=fP;var X0="SelectScrollUpButton",pP=E.forwardRef((n,e)=>{const t=ko(X0,n.__scopeSelect),r=Uw(X0,n.__scopeSelect),[s,o]=E.useState(!1),u=Xt(e,r.onScrollButtonChange);return sr(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=f.scrollTop>0;o(h)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?x.jsx(gP,{...n,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});pP.displayName=X0;var J0="SelectScrollDownButton",mP=E.forwardRef((n,e)=>{const t=ko(J0,n.__scopeSelect),r=Uw(J0,n.__scopeSelect),[s,o]=E.useState(!1),u=Xt(e,r.onScrollButtonChange);return sr(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<h;o(g)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?x.jsx(gP,{...n,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});mP.displayName=J0;var gP=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...s}=n,o=ko("SelectScrollButton",t),u=E.useRef(null),c=Qg(t),f=E.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return E.useEffect(()=>()=>f(),[f]),sr(()=>{var g;const h=c().find(v=>v.ref.current===document.activeElement);(g=h==null?void 0:h.ref.current)==null||g.scrollIntoView({block:"nearest"})},[c]),x.jsx(zt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Be(s.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:Be(s.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:Be(s.onPointerLeave,()=>{f()})})}),aG="SelectSeparator",oG=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return x.jsx(zt.div,{"aria-hidden":!0,...r,ref:e})});oG.displayName=aG;var eb="SelectArrow",lG=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Yg(t),o=No(eb,t),u=ko(eb,t);return o.open&&u.position==="popper"?x.jsx(Rw,{...s,...r,ref:e}):null});lG.displayName=eb;var uG="SelectBubbleInput",yP=E.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const s=E.useRef(null),o=Xt(r,s),u=F7(e);return E.useEffect(()=>{const c=s.current;if(!c)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==e&&g){const v=new Event("change",{bubbles:!0});g.call(c,e),c.dispatchEvent(v)}},[u,e]),x.jsx(zt.select,{...t,style:{...jk,...t.style},ref:o,defaultValue:e})});yP.displayName=uG;function vP(n){return n===""||n===void 0}function _P(n){const e=ms(n),t=E.useRef(""),r=E.useRef(0),s=E.useCallback(u=>{const c=t.current+u;e(c),function f(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),o=E.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,o]}function bP(n,e,t){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let u=cG(n,Math.max(o,0));s.length===1&&(u=u.filter(h=>h!==t));const f=u.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==t?f:void 0}function cG(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var dG=Yk,fG=Zk,hG=Jk,pG=eP,mG=tP,gG=nP,yG=aP,vG=cP,_G=dP,bG=hP,wG=pP,EG=mP;function TG({...n}){return x.jsx(dG,{"data-slot":"select",...n})}function SG({...n}){return x.jsx(hG,{"data-slot":"select-value",...n})}function xG({className:n,size:e="default",children:t,...r}){return x.jsxs(fG,{"data-slot":"select-trigger","data-size":e,className:On("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,x.jsx(pG,{asChild:!0,children:x.jsx(Lk,{className:"size-4 opacity-50"})})]})}function RG({className:n,children:e,position:t="popper",...r}){return x.jsx(mG,{children:x.jsxs(gG,{"data-slot":"select-content",className:On("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[x.jsx(CG,{}),x.jsx(yG,{className:On("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),x.jsx(IG,{})]})})}function AG({className:n,children:e,...t}){return x.jsxs(vG,{"data-slot":"select-item",className:On("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[x.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:x.jsx(bG,{children:x.jsx(Bq,{className:"size-4"})})}),x.jsx(_G,{children:e})]})}function CG({className:n,...e}){return x.jsx(wG,{"data-slot":"select-scroll-up-button",className:On("flex cursor-default items-center justify-center py-1",n),...e,children:x.jsx(qq,{className:"size-4"})})}function IG({className:n,...e}){return x.jsx(EG,{"data-slot":"select-scroll-down-button",className:On("flex cursor-default items-center justify-center py-1",n),...e,children:x.jsx(Lk,{className:"size-4"})})}function OG({currentPage:n,totalPages:e,onPageChange:t,maxPageButtons:r=5}){if(e<=1)return null;let s=Math.max(1,n-Math.floor(r/2));const o=Math.min(e,s+r-1);o-s+1<r&&(s=Math.max(1,o-r+1));const u=Array.from({length:o-s+1},(c,f)=>s+f);return x.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[s>1&&x.jsx(An,{variant:"outline",size:"sm",onClick:()=>t(1),className:"hidden sm:flex",children:"首頁"}),x.jsx(An,{variant:"outline",size:"sm",onClick:()=>t(n-1),disabled:n===1,children:"上一頁"}),u.map(c=>x.jsx(An,{variant:n===c?"default":"outline",size:"sm",onClick:()=>t(c),className:"hidden sm:flex",children:c},c)),x.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 sm:hidden",children:[n," / ",e]}),x.jsx(An,{variant:"outline",size:"sm",onClick:()=>t(n+1),disabled:n===e,children:"下一頁"}),o<e&&x.jsx(An,{variant:"outline",size:"sm",onClick:()=>t(e),className:"hidden sm:flex",children:"末頁"})]})}function NG(){const{t:n}=Ic(),{playerTeam:e,replacePokemonAtIndex:t}=Jm(),[r,s]=E.useState(null),o=E.useMemo(()=>J5(),[]),[u,c]=E.useState(""),[f,h]=E.useState("All"),[g,v]=E.useState(1),_=6,w=E.useMemo(()=>o.filter(H=>{if(!H.name)return!1;const U=H.name.toLowerCase().includes(u.toLowerCase())||n(`pokemon.${H.name}`).toLowerCase().includes(u.toLowerCase()),P=f==="All"||H.types.includes(f);return U&&P}),[o,u,f,n]),S=Math.ceil(w.length/_),A=E.useMemo(()=>{const H=(g-1)*_;return w.slice(H,H+_)},[w,g,_]),C=H=>{v(H)},k=H=>{s(H)},j=H=>{r!==null&&t&&(t(r,H),s(null))},L=()=>{c(""),h("All"),v(1)},q=["All","Fire","Water","Grass","Electric","Normal","Flying","Ice","Fighting","Poison","Ground","Rock","Bug","Ghost","Steel","Psychic","Dark","Dragon","Fairy"];return x.jsx("div",{children:x.jsxs("main",{className:"container mx-auto px-6 py-8",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-800 dark:text-gray-200",children:n("nav.teamEditor")}),x.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"在這裡管理你的寶可夢隊伍配置！"})]}),x.jsxs("div",{className:"mb-12",children:[x.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"當前隊伍"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((H,U)=>x.jsx(Y0,{pokemon:H,isSelected:r===U,onClick:()=>k(U)},`team-${U}`))}),r!==null&&x.jsx("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg",children:x.jsxs("p",{className:"text-amber-800 dark:text-amber-300",children:["已選擇 ",n(`pokemon.${e[r].name}`),"，請從下方選擇要替換的寶可夢"]})})]}),x.jsxs("div",{className:"mb-8 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[x.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"尋找寶可夢"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"名稱搜索"}),x.jsx(z7,{type:"text",placeholder:"輸入寶可夢名稱...",value:u,onChange:H=>{c(H.target.value),v(1)},className:"w-full"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"類型過濾"}),x.jsxs(TG,{value:f,onValueChange:H=>{h(H),v(1)},children:[x.jsx(xG,{className:"w-full",children:x.jsx(SG,{placeholder:"選擇類型"})}),x.jsx(RG,{children:q.map(H=>x.jsx(AG,{value:H,children:H==="All"?"全部類型":n(`type.${H}`)},H))})]})]})]}),x.jsx("div",{className:"mt-4 flex justify-end",children:x.jsx(An,{variant:"outline",onClick:L,children:"重置過濾器"})})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"可用寶可夢"}),w.length===0?x.jsx("div",{className:"text-center p-8 bg-gray-50 dark:bg-gray-700 rounded-lg",children:x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"沒有找到符合條件的寶可夢"})}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:A.map(H=>x.jsx(Y0,{pokemon:H,className:r!==null?"hover:ring-2 hover:ring-green-500":"opacity-70",onClick:()=>r!==null&&j(H)},`default-${H.name}`))}),x.jsx("div",{className:"mt-8",children:x.jsx(OG,{currentPage:g,totalPages:S,onPageChange:C,maxPageButtons:5})})]})]}),x.jsxs("div",{className:"mt-12 flex justify-center gap-4",children:[x.jsx(An,{variant:"outline",onClick:()=>s(null),disabled:r===null,children:"取消選擇"}),x.jsx(is,{to:"/",children:x.jsx(An,{variant:"default",children:"返回首頁"})})]})]})})}function kG(){return x.jsx("div",{children:x.jsx("main",{className:"container mx-auto px-6 py-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200",children:"戰績統計"}),x.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-12",children:"查看你的詳細戰鬥記錄和統計數據！"}),x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 shadow-lg border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"text-6xl mb-6",children:"■"}),x.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"統計系統開發中..."}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"即將推出詳細的戰績分析功能"}),x.jsx(is,{to:"/",children:x.jsx(An,{variant:"outline",size:"lg",children:"返回首頁"})})]})]})})})}function PG(){const[n,e]=E.useState(!0),[t,r]=E.useState(""),[s,o]=E.useState(""),[u,c]=E.useState(""),{signIn:f,signUp:h,signInWithGoogle:g,loading:v,error:_,clearError:w,user:S}=gh(),A=lb();E.useEffect(()=>{S&&A("/")},[S,A]);const C=async j=>{if(j.preventDefault(),w(),!n&&s!==u){alert("密碼確認不符！");return}try{n?await f(t,s):await h(t,s)}catch(L){console.error(L)}},k=async()=>{w();try{await g()}catch(j){console.error(j)}};return x.jsxs("div",{className:"flex flex-col h-screen overflow-hidden bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 transition-all duration-300",children:[x.jsx(Lw,{}),x.jsx(Mw,{}),x.jsx("main",{className:"flex-1 overflow-auto flex items-center justify-center",children:x.jsx("div",{className:"container mx-auto px-6 py-8",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg border border-gray-200 dark:border-gray-700 w-full max-w-md",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),x.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:n?"歡迎回來！":"加入戰鬥！"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n?"登入你的訓練師帳號":"創建新的訓練師帳號"})]}),x.jsxs("form",{onSubmit:C,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"電子郵件"}),x.jsx("input",{type:"email",value:t,onChange:j=>r(j.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"your@email.com",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"密碼"}),x.jsx("input",{type:"password",value:s,onChange:j=>o(j.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"••••••••",required:!0,minLength:6})]}),!n&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"確認密碼"}),x.jsx("input",{type:"password",value:u,onChange:j=>c(j.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"••••••••",required:!0,minLength:6})]}),_&&x.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:x.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:_})}),x.jsx(An,{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-indigo-500 to-cyan-500 hover:from-indigo-600 hover:to-cyan-600 text-white font-semibold py-2 px-4 rounded-md transition-all duration-200",children:v?"處理中...":n?"登入":"註冊"})]}),x.jsxs("div",{className:"mt-4 relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"或"})})]}),x.jsxs(An,{type:"button",onClick:k,disabled:v,className:"mt-4 w-full flex items-center justify-center space-x-2 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 font-medium py-2 px-4 rounded-md transition-all duration-200",children:[x.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[x.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),x.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),x.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),x.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),x.jsxs("span",{children:["使用 Google 帳號",n?"登入":"註冊"]})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n?"還沒有帳號？":"已經有帳號了？",x.jsx("button",{type:"button",onClick:()=>{e(!n),w(),r(""),o(""),c("")},className:"ml-1 text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 font-medium",children:n?"立即註冊":"立即登入"})]})}),x.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"登入即表示你同意我們的服務條款和隱私政策"})})]})})})]})}function DG(){return x.jsxs("div",{className:"flex flex-col h-screen overflow-hidden bg-gradient-to-br from-yellow-50 to-red-50 dark:from-gray-900 dark:to-gray-800 transition-all duration-300",children:[x.jsx(Lw,{}),x.jsx(Mw,{}),x.jsx("main",{className:"flex-1 overflow-auto flex items-center justify-center",children:x.jsx("div",{className:"container mx-auto px-6 py-8",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 shadow-lg border border-gray-200 dark:border-gray-700 text-center max-w-md mx-auto",children:[x.jsx("div",{className:"text-8xl mb-6",children:"😵"}),x.jsx("h2",{className:"text-4xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:"404"}),x.jsx("h3",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-300 mb-6",children:"頁面走失了！"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"看來這隻寶可夢跑到野外去了，我們找不到您要訪問的頁面。"}),x.jsx(is,{to:"/",children:x.jsx(An,{size:"lg",className:"bg-gradient-to-r from-yellow-500 to-red-500 hover:from-yellow-600 hover:to-red-600 text-white",children:"返回首頁"})})]})})})]})}const MG="/pokemon_battle_arena/",LG=X2([{path:"/",element:x.jsx(o_,{children:x.jsx(tB,{children:x.jsx(Jq,{})})}),children:[{index:!0,element:x.jsx(j7,{})},{path:"battle",element:x.jsx(U7,{})},{path:"team-editor",element:x.jsx(NG,{})},{path:"stats",element:x.jsx(kG,{})}]},{path:"/auth",element:x.jsx(o_,{children:x.jsx(PG,{})})},{path:"*",element:x.jsx(o_,{children:x.jsx(DG,{})})}],{basename:MG}),VG=new IL({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30}}});M7().catch(console.error);nM.createRoot(document.getElementById("root")).render(x.jsx(E.StrictMode,{children:x.jsx(DL,{client:VG,children:x.jsx(dL,{router:LG})})}));export{UG as c,AC as g};
