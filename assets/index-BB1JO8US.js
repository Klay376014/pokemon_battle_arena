var KD=Object.defineProperty;var bS=n=>{throw TypeError(n)};var QD=(n,e,t)=>e in n?KD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Kt=(n,e,t)=>QD(n,typeof e!="symbol"?e+"":e,t),Cv=(n,e,t)=>e.has(n)||bS("Cannot "+t);var Y=(n,e,t)=>(Cv(n,e,"read from private field"),t?t.call(n):e.get(n)),We=(n,e,t)=>e.has(n)?bS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Oe=(n,e,t,r)=>(Cv(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Et=(n,e,t)=>(Cv(n,e,"access private method"),t);var Sp=(n,e,t,r)=>({set _(s){Oe(n,e,s,t)},get _(){return Y(n,e,r)}});function YD(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var M7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Iv={exports:{}},Rd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function WD(){if(wS)return Rd;wS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Rd.Fragment=e,Rd.jsx=t,Rd.jsxs=t,Rd}var ES;function ZD(){return ES||(ES=1,Iv.exports=WD()),Iv.exports}var k=ZD(),Ov={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function XD(){if(TS)return it;TS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function C(V,ie,pe){this.props=V,this.context=ie,this.refs=R,this.updater=pe||w}C.prototype.isReactComponent={},C.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function D(){}D.prototype=C.prototype;function B(V,ie,pe){this.props=V,this.context=ie,this.refs=R,this.updater=pe||w}var j=B.prototype=new D;j.constructor=B,S(j,C.prototype),j.isPureReactComponent=!0;var $=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function P(V,ie,pe,oe,_e,Ue){return pe=Ue.ref,{$$typeof:n,type:V,key:ie,ref:pe!==void 0?pe:null,props:Ue}}function A(V,ie){return P(V.type,ie,void 0,void 0,void 0,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function M(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(pe){return ie[pe]})}var z=/\/+/g;function H(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):ie.toString(36)}function L(){}function we(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(L,L):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ee(V,ie,pe,oe,_e){var Ue=typeof V;(Ue==="undefined"||Ue==="boolean")&&(V=null);var Ce=!1;if(V===null)Ce=!0;else switch(Ue){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(V.$$typeof){case n:case e:Ce=!0;break;case g:return Ce=V._init,Ee(Ce(V._payload),ie,pe,oe,_e)}}if(Ce)return _e=_e(V),Ce=oe===""?"."+H(V,0):oe,$(_e)?(pe="",Ce!=null&&(pe=Ce.replace(z,"$&/")+"/"),Ee(_e,ie,pe,"",function(Dt){return Dt})):_e!=null&&(O(_e)&&(_e=A(_e,pe+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(z,"$&/")+"/")+Ce)),ie.push(_e)),1;Ce=0;var Ge=oe===""?".":oe+":";if($(V))for(var ht=0;ht<V.length;ht++)oe=V[ht],Ue=Ge+H(oe,ht),Ce+=Ee(oe,ie,pe,Ue,_e);else if(ht=_(V),typeof ht=="function")for(V=ht.call(V),ht=0;!(oe=V.next()).done;)oe=oe.value,Ue=Ge+H(oe,ht++),Ce+=Ee(oe,ie,pe,Ue,_e);else if(Ue==="object"){if(typeof V.then=="function")return Ee(we(V),ie,pe,oe,_e);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function K(V,ie,pe){if(V==null)return V;var oe=[],_e=0;return Ee(V,oe,"","",function(Ue){return ie.call(pe,Ue,_e++)}),oe}function le(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=pe)},function(pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=pe)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var te=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function de(){}return it.Children={map:K,forEach:function(V,ie,pe){K(V,function(){ie.apply(this,arguments)},pe)},count:function(V){var ie=0;return K(V,function(){ie++}),ie},toArray:function(V){return K(V,function(ie){return ie})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},it.Component=C,it.Fragment=t,it.Profiler=s,it.PureComponent=B,it.StrictMode=r,it.Suspense=f,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,it.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Q.H.useMemoCache(V)}},it.cache=function(V){return function(){return V.apply(null,arguments)}},it.cloneElement=function(V,ie,pe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=S({},V.props),_e=V.key,Ue=void 0;if(ie!=null)for(Ce in ie.ref!==void 0&&(Ue=void 0),ie.key!==void 0&&(_e=""+ie.key),ie)!U.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(oe[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)oe.children=pe;else if(1<Ce){for(var Ge=Array(Ce),ht=0;ht<Ce;ht++)Ge[ht]=arguments[ht+2];oe.children=Ge}return P(V.type,_e,void 0,void 0,Ue,oe)},it.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},it.createElement=function(V,ie,pe){var oe,_e={},Ue=null;if(ie!=null)for(oe in ie.key!==void 0&&(Ue=""+ie.key),ie)U.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=ie[oe]);var Ce=arguments.length-2;if(Ce===1)_e.children=pe;else if(1<Ce){for(var Ge=Array(Ce),ht=0;ht<Ce;ht++)Ge[ht]=arguments[ht+2];_e.children=Ge}if(V&&V.defaultProps)for(oe in Ce=V.defaultProps,Ce)_e[oe]===void 0&&(_e[oe]=Ce[oe]);return P(V,Ue,void 0,void 0,null,_e)},it.createRef=function(){return{current:null}},it.forwardRef=function(V){return{$$typeof:d,render:V}},it.isValidElement=O,it.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:le}},it.memo=function(V,ie){return{$$typeof:h,type:V,compare:ie===void 0?null:ie}},it.startTransition=function(V){var ie=Q.T,pe={};Q.T=pe;try{var oe=V(),_e=Q.S;_e!==null&&_e(pe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(de,te)}catch(Ue){te(Ue)}finally{Q.T=ie}},it.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},it.use=function(V){return Q.H.use(V)},it.useActionState=function(V,ie,pe){return Q.H.useActionState(V,ie,pe)},it.useCallback=function(V,ie){return Q.H.useCallback(V,ie)},it.useContext=function(V){return Q.H.useContext(V)},it.useDebugValue=function(){},it.useDeferredValue=function(V,ie){return Q.H.useDeferredValue(V,ie)},it.useEffect=function(V,ie,pe){var oe=Q.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(V,ie)},it.useId=function(){return Q.H.useId()},it.useImperativeHandle=function(V,ie,pe){return Q.H.useImperativeHandle(V,ie,pe)},it.useInsertionEffect=function(V,ie){return Q.H.useInsertionEffect(V,ie)},it.useLayoutEffect=function(V,ie){return Q.H.useLayoutEffect(V,ie)},it.useMemo=function(V,ie){return Q.H.useMemo(V,ie)},it.useOptimistic=function(V,ie){return Q.H.useOptimistic(V,ie)},it.useReducer=function(V,ie,pe){return Q.H.useReducer(V,ie,pe)},it.useRef=function(V){return Q.H.useRef(V)},it.useState=function(V){return Q.H.useState(V)},it.useSyncExternalStore=function(V,ie,pe){return Q.H.useSyncExternalStore(V,ie,pe)},it.useTransition=function(){return Q.H.useTransition()},it.version="19.1.0",it}var SS;function k0(){return SS||(SS=1,Ov.exports=XD()),Ov.exports}var x=k0();const $i=WA(x),ZA=YD({__proto__:null,default:$i},[x]);var kv={exports:{}},Ad={},Nv={exports:{}},Dv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function JD(){return xS||(xS=1,function(n){function e(K,le){var te=K.length;K.push(le);e:for(;0<te;){var de=te-1>>>1,V=K[de];if(0<s(V,le))K[de]=le,K[te]=V,te=de;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var le=K[0],te=K.pop();if(te!==le){K[0]=te;e:for(var de=0,V=K.length,ie=V>>>1;de<ie;){var pe=2*(de+1)-1,oe=K[pe],_e=pe+1,Ue=K[_e];if(0>s(oe,te))_e<V&&0>s(Ue,oe)?(K[de]=Ue,K[_e]=te,de=_e):(K[de]=oe,K[pe]=te,de=pe);else if(_e<V&&0>s(Ue,te))K[de]=Ue,K[_e]=te,de=_e;else break e}}return le}function s(K,le){var te=K.sortIndex-le.sortIndex;return te!==0?te:K.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,v=null,_=3,w=!1,S=!1,R=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function $(K){for(var le=t(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=K)r(h),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(h)}}function Q(K){if(R=!1,$(K),!S)if(t(f)!==null)S=!0,U||(U=!0,H());else{var le=t(h);le!==null&&Ee(Q,le.startTime-K)}}var U=!1,P=-1,A=5,O=-1;function M(){return C?!0:!(n.unstable_now()-O<A)}function z(){if(C=!1,U){var K=n.unstable_now();O=K;var le=!0;try{e:{S=!1,R&&(R=!1,B(P),P=-1),w=!0;var te=_;try{t:{for($(K),v=t(f);v!==null&&!(v.expirationTime>K&&M());){var de=v.callback;if(typeof de=="function"){v.callback=null,_=v.priorityLevel;var V=de(v.expirationTime<=K);if(K=n.unstable_now(),typeof V=="function"){v.callback=V,$(K),le=!0;break t}v===t(f)&&r(f),$(K)}else r(f);v=t(f)}if(v!==null)le=!0;else{var ie=t(h);ie!==null&&Ee(Q,ie.startTime-K),le=!1}}break e}finally{v=null,_=te,w=!1}le=void 0}}finally{le?H():U=!1}}}var H;if(typeof j=="function")H=function(){j(z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,we=L.port2;L.port1.onmessage=z,H=function(){we.postMessage(null)}}else H=function(){D(z,0)};function Ee(K,le){P=D(function(){K(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(K){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var te=_;_=le;try{return K()}finally{_=te}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var te=_;_=K;try{return le()}finally{_=te}},n.unstable_scheduleCallback=function(K,le,te){var de=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?de+te:de):te=de,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=te+V,K={id:g++,callback:le,priorityLevel:K,startTime:te,expirationTime:V,sortIndex:-1},te>de?(K.sortIndex=te,e(h,K),t(f)===null&&K===t(h)&&(R?(B(P),P=-1):R=!0,Ee(Q,te-de))):(K.sortIndex=V,e(f,K),S||w||(S=!0,U||(U=!0,H()))),K},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(K){var le=_;return function(){var te=_;_=le;try{return K.apply(this,arguments)}finally{_=te}}}}(Dv)),Dv}var RS;function eP(){return RS||(RS=1,Nv.exports=JD()),Nv.exports}var Pv={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function tP(){if(AS)return Gn;AS=1;var n=k0();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:h,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gn.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},Gn.flushSync=function(f){var h=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=g,r.d.f()}},Gn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Gn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Gn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,v=d(g,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Gn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Gn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=d(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Gn.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Gn.requestFormReset=function(f){r.d.r(f)},Gn.unstable_batchedUpdates=function(f,h){return f(h)},Gn.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},Gn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var CS;function XA(){if(CS)return Pv.exports;CS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pv.exports=tP(),Pv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS;function nP(){if(IS)return Ad;IS=1;var n=eP(),e=k0(),t=XA();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),i;if(y===c)return d(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var T=!1,I=m.child;I;){if(I===l){T=!0,l=m,c=y;break}if(I===c){T=!0,c=m,l=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===l){T=!0,l=y,c=m;break}if(I===c){T=!0,c=y,l=m;break}I=I.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function h(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=h(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var L=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===L?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case C:return"Profiler";case R:return"StrictMode";case Q:return"Suspense";case U:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case j:return(i.displayName||"Context")+".Provider";case B:return(i._context.displayName||"Context")+".Consumer";case $:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:we(i.type)||"Memo";case A:a=i._payload,i=i._init;try{return we(i(a))}catch{}}return null}var Ee=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},de=[],V=-1;function ie(i){return{current:i}}function pe(i){0>V||(i.current=de[V],de[V]=null,V--)}function oe(i,a){V++,de[V]=i.current,i.current=a}var _e=ie(null),Ue=ie(null),Ce=ie(null),Ge=ie(null);function ht(i,a){switch(oe(Ce,a),oe(Ue,i),oe(_e,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?QT(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=QT(a),i=YT(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}pe(_e),oe(_e,i)}function Dt(){pe(_e),pe(Ue),pe(Ce)}function bt(i){i.memoizedState!==null&&oe(Ge,i);var a=_e.current,l=YT(a,i.type);a!==l&&(oe(Ue,i),oe(_e,l))}function Yt(i){Ue.current===i&&(pe(_e),pe(Ue)),Ge.current===i&&(pe(Ge),wd._currentValue=te)}var Tn=Object.prototype.hasOwnProperty,rr=n.unstable_scheduleCallback,Sn=n.unstable_cancelCallback,ps=n.unstable_shouldYield,ia=n.unstable_requestPaint,kn=n.unstable_now,Co=n.unstable_getCurrentPriorityLevel,zr=n.unstable_ImmediatePriority,sa=n.unstable_UserBlockingPriority,ms=n.unstable_NormalPriority,ci=n.unstable_LowPriority,Fr=n.unstable_IdlePriority,aa=n.log,oa=n.unstable_setDisableYieldValue,kt=null,ot=null;function Hn(i){if(typeof aa=="function"&&oa(i),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(kt,i)}catch{}}var on=Math.clz32?Math.clz32:Ri,Ul=Math.log,Br=Math.LN2;function Ri(i){return i>>>=0,i===0?32:31-(Ul(i)/Br|0)|0}var Ai=256,Ci=4194304;function wr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function gs(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var I=c&134217727;return I!==0?(c=I&~y,c!==0?m=wr(c):(T&=I,T!==0?m=wr(T):l||(l=I&~i,l!==0&&(m=wr(l))))):(I=c&~y,I!==0?m=wr(I):T!==0?m=wr(T):l||(l=c&~i,l!==0&&(m=wr(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function Hr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function la(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(){var i=Ai;return Ai<<=1,(Ai&4194048)===0&&(Ai=256),i}function Io(){var i=Ci;return Ci<<=1,(Ci&62914560)===0&&(Ci=4194304),i}function qr(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function di(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ua(i,a,l,c,m,y){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var I=i.entanglements,F=i.expirationTimes,ne=i.hiddenUpdates;for(l=T&~l;0<l;){var ue=31-on(l),he=1<<ue;I[ue]=0,F[ue]=-1;var re=ne[ue];if(re!==null)for(ne[ue]=null,ue=0;ue<re.length;ue++){var se=re[ue];se!==null&&(se.lane&=-536870913)}l&=~he}c!==0&&ir(i,c,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(T&~a))}function ir(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-on(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Ii(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-on(l),m=1<<c;m&a|i[c]&a&&(i[c]|=a),l&=~m}}function Oi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ca(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function q(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:pS(i.type))}function Z(i,a){var l=le.p;try{return le.p=i,a()}finally{le.p=l}}var ee=Math.random().toString(36).slice(2),fe="__reactFiber$"+ee,ve="__reactProps$"+ee,xe="__reactContainer$"+ee,je="__reactEvents$"+ee,Ae="__reactListeners$"+ee,De="__reactHandles$"+ee,Le="__reactResources$"+ee,Fe="__reactMarker$"+ee;function Pe(i){delete i[fe],delete i[ve],delete i[je],delete i[Ae],delete i[De]}function qe(i){var a=i[fe];if(a)return a;for(var l=i.parentNode;l;){if(a=l[xe]||l[fe]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=JT(i);i!==null;){if(l=i[fe])return l;i=JT(i)}return a}i=l,l=i.parentNode}return null}function pt(i){if(i=i[fe]||i[xe]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Pt(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function It(i){var a=i[Le];return a||(a=i[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function wt(i){i[Fe]=!0}var dt=new Set,$r={};function pn(i,a){sr(i,a),sr(i+"Capture",a)}function sr(i,a){for($r[i]=a,i=0;i<a.length;i++)dt.add(a[i])}var Nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ki={},Er={};function da(i){return Tn.call(Er,i)?!0:Tn.call(ki,i)?!1:Nn.test(i)?Er[i]=!0:(ki[i]=!0,!1)}function qn(i,a,l){if(da(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function ar(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Je(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var ln,Tr;function hr(i){if(ln===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ln=a&&a[1]||"",Tr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ln+i+Tr}var Ni=!1;function qt(i,a){if(!i||Ni)return"";Ni=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var re=se}Reflect.construct(i,[],he)}else{try{he.call()}catch(se){re=se}i.call(he.prototype)}}else{try{throw Error()}catch(se){re=se}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&re&&typeof se.stack=="string")return[se.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var F=T.split(`
`),ne=I.split(`
`);for(m=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ne.length&&!ne[m].includes("DetermineComponentFrameRoot");)m++;if(c===F.length||m===ne.length)for(c=F.length-1,m=ne.length-1;1<=c&&0<=m&&F[c]!==ne[m];)m--;for(;1<=c&&0<=m;c--,m--)if(F[c]!==ne[m]){if(c!==1||m!==1)do if(c--,m--,0>m||F[c]!==ne[m]){var ue=`
`+F[c].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=c&&0<=m);break}}}finally{Ni=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?hr(l):""}function Gr(i){switch(i.tag){case 26:case 27:case 5:return hr(i.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 15:return qt(i.type,!1);case 11:return qt(i.type.render,!1);case 1:return qt(i.type,!0);case 31:return hr("Activity");default:return""}}function vs(i){try{var a="";do a+=Gr(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ic(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ng(i){var a=Ic(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function jl(i){i._valueTracker||(i._valueTracker=Ng(i))}function Oc(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=Ic(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Oo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Dg=/[\n"\\]/g;function un(i){return i.replace(Dg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Sr(i,a,l,c,m,y,T,I){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Dn(a)):i.value!==""+Dn(a)&&(i.value=""+Dn(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?fa(i,T,Dn(a)):l!=null?fa(i,T,Dn(l)):c!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+Dn(I):i.removeAttribute("name")}function ko(i,a,l,c,m,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Dn(l):"",a=a!=null?""+Dn(a):l,I||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=I?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function fa(i,a,l){a==="number"&&Oo(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function _s(i,a,l,c){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Dn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function zt(i,a,l){if(a!=null&&(a=""+Dn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Dn(l):""}function No(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ee(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Dn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Kr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Do=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uh(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||Do.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function kc(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&uh(i,m,c)}else for(var y in a)a.hasOwnProperty(y)&&uh(i,y,a[y])}function Nc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(i){return Mg.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var bs=null;function Qr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ws=null,Es=null;function Dc(i){var a=pt(i);if(a&&(i=a.stateNode)){var l=i[ve]||null;e:switch(i=a.stateNode,a.type){case"input":if(Sr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+un(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var m=c[ve]||null;if(!m)throw Error(r(90));Sr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&Oc(c)}break e;case"textarea":zt(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&_s(i,!!l.multiple,a,!1)}}}var Di=!1;function ch(i,a,l){if(Di)return i(a,l);Di=!0;try{var c=i(a);return c}finally{if(Di=!1,(ws!==null||Es!==null)&&(rp(),ws&&(a=ws,i=Es,Es=ws=null,Dc(a),i)))for(a=0;a<i.length;a++)Dc(i[a])}}function Po(i,a){var l=i.stateNode;if(l===null)return null;var c=l[ve]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(fi)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{Yr=!1}var Pi=null,ha=null,Ts=null;function Pc(){if(Ts)return Ts;var i,a=ha,l=a.length,c,m="value"in Pi?Pi.value:Pi.textContent,y=m.length;for(i=0;i<l&&a[i]===m[i];i++);var T=l-i;for(c=1;c<=T&&a[l-c]===m[y-c];c++);return Ts=m.slice(i,1<c?1-c:void 0)}function Mi(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Li(){return!0}function Mc(){return!1}function xn(i){function a(l,c,m,y,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Li:Mc,this.isPropagationStopped=Mc,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),a}var Mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=xn(Mt),Lo=g({},Mt,{view:0,detail:0}),dh=xn(Lo),Bl,Hl,Vi,Vo=g({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vi&&(Vi&&i.type==="mousemove"?(Bl=i.screenX-Vi.screenX,Hl=i.screenY-Vi.screenY):Hl=Bl=0,Vi=i),Bl)},movementY:function(i){return"movementY"in i?i.movementY:Hl}}),Wr=xn(Vo),fh=g({},Vo,{dataTransfer:0}),Lg=xn(fh),Uo=g({},Lo,{relatedTarget:0}),ql=xn(Uo),Lc=g({},Mt,{animationName:0,elapsedTime:0,pseudoElement:0}),$l=xn(Lc),hh=g({},Mt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gl=xn(hh),Vg=g({},Mt,{data:0}),Vc=xn(Vg),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=mh[i])?!!a[i]:!1}function zo(){return Uc}var gh=g({},Lo,{key:function(i){if(i.key){var a=jo[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Mi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ph[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zo,charCode:function(i){return i.type==="keypress"?Mi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Kl=xn(gh),yh=g({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=xn(yh),Ss=g({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zo}),vh=xn(Ss),_h=g({},Mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bh=xn(_h),wh=g({},Vo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ql=xn(wh),or=g({},Mt,{newState:0,oldState:0}),Eh=xn(or),Th=[9,13,27,32],Ui=fi&&"CompositionEvent"in window,p=null;fi&&"documentMode"in document&&(p=document.documentMode);var b=fi&&"TextEvent"in window&&!p,E=fi&&(!Ui||p&&8<p&&11>=p),N=" ",X=!1;function ae(i,a){switch(i){case"keyup":return Th.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var St=!1;function mn(i,a){switch(i){case"compositionend":return be(a);case"keypress":return a.which!==32?null:(X=!0,N);case"textInput":return i=a.data,i===N&&X?null:i;default:return null}}function xt(i,a){if(St)return i==="compositionend"||!Ui&&ae(i,a)?(i=Pc(),Ts=ha=Pi=null,St=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Rn[i.type]:a==="textarea"}function xs(i,a,l,c){ws?Es?Es.push(c):Es=[c]:ws=c,a=up(a,"onChange"),0<a.length&&(l=new Fl("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var Pn=null,ji=null;function zc(i){HT(i,0)}function Sh(i){var a=Pt(i);if(Oc(a))return i}function cw(i,a){if(i==="change")return a}var dw=!1;if(fi){var Ug;if(fi){var jg="oninput"in document;if(!jg){var fw=document.createElement("div");fw.setAttribute("oninput","return;"),jg=typeof fw.oninput=="function"}Ug=jg}else Ug=!1;dw=Ug&&(!document.documentMode||9<document.documentMode)}function hw(){Pn&&(Pn.detachEvent("onpropertychange",pw),ji=Pn=null)}function pw(i){if(i.propertyName==="value"&&Sh(ji)){var a=[];xs(a,ji,i,Qr(i)),ch(zc,a)}}function TN(i,a,l){i==="focusin"?(hw(),Pn=a,ji=l,Pn.attachEvent("onpropertychange",pw)):i==="focusout"&&hw()}function SN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Sh(ji)}function xN(i,a){if(i==="click")return Sh(a)}function RN(i,a){if(i==="input"||i==="change")return Sh(a)}function AN(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var xr=typeof Object.is=="function"?Object.is:AN;function Fc(i,a){if(xr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Tn.call(a,m)||!xr(i[m],a[m]))return!1}return!0}function mw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gw(i,a){var l=mw(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=mw(l)}}function yw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?yw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function vw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Oo(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Oo(i.document)}return a}function zg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var CN=fi&&"documentMode"in document&&11>=document.documentMode,Yl=null,Fg=null,Bc=null,Bg=!1;function _w(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bg||Yl==null||Yl!==Oo(c)||(c=Yl,"selectionStart"in c&&zg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bc&&Fc(Bc,c)||(Bc=c,c=up(Fg,"onSelect"),0<c.length&&(a=new Fl("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=Yl)))}function Fo(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Wl={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionrun:Fo("Transition","TransitionRun"),transitionstart:Fo("Transition","TransitionStart"),transitioncancel:Fo("Transition","TransitionCancel"),transitionend:Fo("Transition","TransitionEnd")},Hg={},bw={};fi&&(bw=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function Bo(i){if(Hg[i])return Hg[i];if(!Wl[i])return i;var a=Wl[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in bw)return Hg[i]=a[l];return i}var ww=Bo("animationend"),Ew=Bo("animationiteration"),Tw=Bo("animationstart"),IN=Bo("transitionrun"),ON=Bo("transitionstart"),kN=Bo("transitioncancel"),Sw=Bo("transitionend"),xw=new Map,qg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qg.push("scrollEnd");function hi(i,a){xw.set(i,a),pn(a,[i])}var Rw=new WeakMap;function Zr(i,a){if(typeof i=="object"&&i!==null){var l=Rw.get(i);return l!==void 0?l:(a={value:i,source:a,stack:vs(a)},Rw.set(i,a),a)}return{value:i,source:a,stack:vs(a)}}var Xr=[],Zl=0,$g=0;function xh(){for(var i=Zl,a=$g=Zl=0;a<i;){var l=Xr[a];Xr[a++]=null;var c=Xr[a];Xr[a++]=null;var m=Xr[a];Xr[a++]=null;var y=Xr[a];if(Xr[a++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&Aw(l,m,y)}}function Rh(i,a,l,c){Xr[Zl++]=i,Xr[Zl++]=a,Xr[Zl++]=l,Xr[Zl++]=c,$g|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Gg(i,a,l,c){return Rh(i,a,l,c),Ah(i)}function Xl(i,a){return Rh(i,null,null,a),Ah(i)}function Aw(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&a!==null&&(m=31-on(l),i=y.hiddenUpdates,c=i[m],c===null?i[m]=[a]:c.push(a),a.lane=l|536870912),y):null}function Ah(i){if(50<hd)throw hd=0,Xy=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Jl={};function NN(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(i,a,l,c){return new NN(i,a,l,c)}function Kg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Rs(i,a){var l=i.alternate;return l===null?(l=Rr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Cw(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Ch(i,a,l,c,m,y){var T=0;if(c=i,typeof i=="function")Kg(i)&&(T=1);else if(typeof i=="string")T=PD(i,l,_e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=Rr(31,l,a,m),i.elementType=O,i.lanes=y,i;case S:return Ho(l.children,m,y,a);case R:T=8,m|=24;break;case C:return i=Rr(12,l,a,m|2),i.elementType=C,i.lanes=y,i;case Q:return i=Rr(13,l,a,m),i.elementType=Q,i.lanes=y,i;case U:return i=Rr(19,l,a,m),i.elementType=U,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:case j:T=10;break e;case B:T=9;break e;case $:T=11;break e;case P:T=14;break e;case A:T=16,c=null;break e}T=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Rr(T,l,a,m),a.elementType=i,a.type=c,a.lanes=y,a}function Ho(i,a,l,c){return i=Rr(7,i,c,a),i.lanes=l,i}function Qg(i,a,l){return i=Rr(6,i,null,a),i.lanes=l,i}function Yg(i,a,l){return a=Rr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var eu=[],tu=0,Ih=null,Oh=0,Jr=[],ei=0,qo=null,As=1,Cs="";function $o(i,a){eu[tu++]=Oh,eu[tu++]=Ih,Ih=i,Oh=a}function Iw(i,a,l){Jr[ei++]=As,Jr[ei++]=Cs,Jr[ei++]=qo,qo=i;var c=As;i=Cs;var m=32-on(c)-1;c&=~(1<<m),l+=1;var y=32-on(a)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,As=1<<32-on(a)+m|l<<m|c,Cs=y+i}else As=1<<y|l<<m|c,Cs=i}function Wg(i){i.return!==null&&($o(i,1),Iw(i,1,0))}function Zg(i){for(;i===Ih;)Ih=eu[--tu],eu[tu]=null,Oh=eu[--tu],eu[tu]=null;for(;i===qo;)qo=Jr[--ei],Jr[ei]=null,Cs=Jr[--ei],Jr[ei]=null,As=Jr[--ei],Jr[ei]=null}var lr=null,Jt=null,Nt=!1,Go=null,zi=!1,Xg=Error(r(519));function Ko(i){var a=Error(r(418,""));throw $c(Zr(a,i)),Xg}function Ow(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[fe]=i,a[ve]=c,l){case"dialog":gt("cancel",a),gt("close",a);break;case"iframe":case"object":case"embed":gt("load",a);break;case"video":case"audio":for(l=0;l<md.length;l++)gt(md[l],a);break;case"source":gt("error",a);break;case"img":case"image":case"link":gt("error",a),gt("load",a);break;case"details":gt("toggle",a);break;case"input":gt("invalid",a),ko(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),jl(a);break;case"select":gt("invalid",a);break;case"textarea":gt("invalid",a),No(a,c.value,c.defaultValue,c.children),jl(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||KT(a.textContent,l)?(c.popover!=null&&(gt("beforetoggle",a),gt("toggle",a)),c.onScroll!=null&&gt("scroll",a),c.onScrollEnd!=null&&gt("scrollend",a),c.onClick!=null&&(a.onclick=cp),a=!0):a=!1,a||Ko(i)}function kw(i){for(lr=i.return;lr;)switch(lr.tag){case 5:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:lr=lr.return}}function Hc(i){if(i!==lr)return!1;if(!Nt)return kw(i),Nt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||pv(i.type,i.memoizedProps)),l=!l),l&&Jt&&Ko(i),kw(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Jt=mi(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Jt=null}}else a===27?(a=Jt,Ia(i.type)?(i=vv,vv=null,Jt=i):Jt=a):Jt=lr?mi(i.stateNode.nextSibling):null;return!0}function qc(){Jt=lr=null,Nt=!1}function Nw(){var i=Go;return i!==null&&(gr===null?gr=i:gr.push.apply(gr,i),Go=null),i}function $c(i){Go===null?Go=[i]:Go.push(i)}var Jg=ie(null),Qo=null,Is=null;function pa(i,a,l){oe(Jg,a._currentValue),a._currentValue=l}function Os(i){i._currentValue=Jg.current,pe(Jg)}function ey(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function ty(i,a,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=m;for(var F=0;F<a.length;F++)if(I.context===a[F]){y.lanes|=l,I=y.alternate,I!==null&&(I.lanes|=l),ey(y.return,l,i),c||(T=null);break e}y=I.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(r(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),ey(T,l,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Gc(i,a,l,c){i=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var I=m.type;xr(m.pendingProps.value,T.value)||(i!==null?i.push(I):i=[I])}}else if(m===Ge.current){if(T=m.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(wd):i=[wd])}m=m.return}i!==null&&ty(a,i,l,c),a.flags|=262144}function kh(i){for(i=i.firstContext;i!==null;){if(!xr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Yo(i){Qo=i,Is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function $n(i){return Dw(Qo,i)}function Nh(i,a){return Qo===null&&Yo(i),Dw(i,a)}function Dw(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Is===null){if(i===null)throw Error(r(308));Is=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Is=Is.next=a;return l}var DN=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},PN=n.unstable_scheduleCallback,MN=n.unstable_NormalPriority,yn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ny(){return{controller:new DN,data:new Map,refCount:0}}function Kc(i){i.refCount--,i.refCount===0&&PN(MN,function(){i.controller.abort()})}var Qc=null,ry=0,nu=0,ru=null;function LN(i,a){if(Qc===null){var l=Qc=[];ry=0,nu=sv(),ru={status:"pending",value:void 0,then:function(c){l.push(c)}}}return ry++,a.then(Pw,Pw),a}function Pw(){if(--ry===0&&Qc!==null){ru!==null&&(ru.status="fulfilled");var i=Qc;Qc=null,nu=0,ru=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function VN(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var Mw=K.S;K.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&LN(i,a),Mw!==null&&Mw(i,a)};var Wo=ie(null);function iy(){var i=Wo.current;return i!==null?i:Gt.pooledCache}function Dh(i,a){a===null?oe(Wo,Wo.current):oe(Wo,a.pool)}function Lw(){var i=iy();return i===null?null:{parent:yn._currentValue,pool:i}}var Yc=Error(r(460)),Vw=Error(r(474)),Ph=Error(r(542)),sy={then:function(){}};function Uw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Mh(){}function jw(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Mh,Mh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Fw(i),i;default:if(typeof a.status=="string")a.then(Mh,Mh);else{if(i=Gt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Fw(i),i}throw Wc=a,Yc}}var Wc=null;function zw(){if(Wc===null)throw Error(r(459));var i=Wc;return Wc=null,i}function Fw(i){if(i===Yc||i===Ph)throw Error(r(483))}var ma=!1;function ay(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oy(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ga(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ya(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ut&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Ah(i),Aw(i,null,l),a}return Rh(i,c,a,l),Ah(i)}function Zc(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Ii(i,l)}}function ly(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var uy=!1;function Xc(){if(uy){var i=ru;if(i!==null)throw i}}function Jc(i,a,l,c){uy=!1;var m=i.updateQueue;ma=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var F=I,ne=F.next;F.next=null,T===null?y=ne:T.next=ne,T=F;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,I=ue.lastBaseUpdate,I!==T&&(I===null?ue.firstBaseUpdate=ne:I.next=ne,ue.lastBaseUpdate=F))}if(y!==null){var he=m.baseState;T=0,ue=ne=F=null,I=y;do{var re=I.lane&-536870913,se=re!==I.lane;if(se?(Rt&re)===re:(c&re)===re){re!==0&&re===nu&&(uy=!0),ue!==null&&(ue=ue.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ye=i,Be=I;re=a;var Ht=l;switch(Be.tag){case 1:if(Ye=Be.payload,typeof Ye=="function"){he=Ye.call(Ht,he,re);break e}he=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Be.payload,re=typeof Ye=="function"?Ye.call(Ht,he,re):Ye,re==null)break e;he=g({},he,re);break e;case 2:ma=!0}}re=I.callback,re!==null&&(i.flags|=64,se&&(i.flags|=8192),se=m.callbacks,se===null?m.callbacks=[re]:se.push(re))}else se={lane:re,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ue===null?(ne=ue=se,F=he):ue=ue.next=se,T|=re;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;se=I,I=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);ue===null&&(F=he),m.baseState=F,m.firstBaseUpdate=ne,m.lastBaseUpdate=ue,y===null&&(m.shared.lanes=0),xa|=T,i.lanes=T,i.memoizedState=he}}function Bw(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Hw(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Bw(l[i],a)}var iu=ie(null),Lh=ie(0);function qw(i,a){i=Vs,oe(Lh,i),oe(iu,a),Vs=i|a.baseLanes}function cy(){oe(Lh,Vs),oe(iu,iu.current)}function dy(){Vs=Lh.current,pe(iu),pe(Lh)}var va=0,lt=null,Ft=null,cn=null,Vh=!1,su=!1,Zo=!1,Uh=0,ed=0,au=null,UN=0;function rn(){throw Error(r(321))}function fy(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!xr(i[l],a[l]))return!1;return!0}function hy(i,a,l,c,m,y){return va=y,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=i===null||i.memoizedState===null?AE:CE,Zo=!1,y=l(c,m),Zo=!1,su&&(y=Gw(a,l,c,m)),$w(i),y}function $w(i){K.H=qh;var a=Ft!==null&&Ft.next!==null;if(va=0,cn=Ft=lt=null,Vh=!1,ed=0,au=null,a)throw Error(r(300));i===null||An||(i=i.dependencies,i!==null&&kh(i)&&(An=!0))}function Gw(i,a,l,c){lt=i;var m=0;do{if(su&&(au=null),ed=0,su=!1,25<=m)throw Error(r(301));if(m+=1,cn=Ft=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=$N,y=a(l,c)}while(su);return y}function jN(){var i=K.H,a=i.useState()[0];return a=typeof a.then=="function"?td(a):a,i=i.useState()[0],(Ft!==null?Ft.memoizedState:null)!==i&&(lt.flags|=1024),a}function py(){var i=Uh!==0;return Uh=0,i}function my(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function gy(i){if(Vh){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Vh=!1}va=0,cn=Ft=lt=null,su=!1,ed=Uh=0,au=null}function pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?lt.memoizedState=cn=i:cn=cn.next=i,cn}function dn(){if(Ft===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Ft.next;var a=cn===null?lt.memoizedState:cn.next;if(a!==null)cn=a,Ft=i;else{if(i===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Ft=i,i={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},cn===null?lt.memoizedState=cn=i:cn=cn.next=i}return cn}function yy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function td(i){var a=ed;return ed+=1,au===null&&(au=[]),i=jw(au,i,a),a=lt,(cn===null?a.memoizedState:cn.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?AE:CE),i}function jh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return td(i);if(i.$$typeof===j)return $n(i)}throw Error(r(438,String(i)))}function vy(i){var a=null,l=lt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=lt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=yy(),lt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=M;return a.index++,l}function ks(i,a){return typeof a=="function"?a(i):a}function zh(i){var a=dn();return _y(a,Ft,i)}function _y(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}a.baseQueue=m=y,c.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{a=m.next;var I=T=null,F=null,ne=a,ue=!1;do{var he=ne.lane&-536870913;if(he!==ne.lane?(Rt&he)===he:(va&he)===he){var re=ne.revertLane;if(re===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),he===nu&&(ue=!0);else if((va&re)===re){ne=ne.next,re===nu&&(ue=!0);continue}else he={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},F===null?(I=F=he,T=y):F=F.next=he,lt.lanes|=re,xa|=re;he=ne.action,Zo&&l(y,he),y=ne.hasEagerState?ne.eagerState:l(y,he)}else re={lane:he,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},F===null?(I=F=re,T=y):F=F.next=re,lt.lanes|=he,xa|=he;ne=ne.next}while(ne!==null&&ne!==a);if(F===null?T=y:F.next=I,!xr(y,i.memoizedState)&&(An=!0,ue&&(l=ru,l!==null)))throw l;i.memoizedState=y,i.baseState=T,i.baseQueue=F,c.lastRenderedState=y}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function by(i){var a=dn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);xr(y,a.memoizedState)||(An=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function Kw(i,a,l){var c=lt,m=dn(),y=Nt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var T=!xr((Ft||m).memoizedState,l);T&&(m.memoizedState=l,An=!0),m=m.queue;var I=Ww.bind(null,c,m,i);if(nd(2048,8,I,[i]),m.getSnapshot!==a||T||cn!==null&&cn.memoizedState.tag&1){if(c.flags|=2048,ou(9,Fh(),Yw.bind(null,c,m,l,a),null),Gt===null)throw Error(r(349));y||(va&124)!==0||Qw(c,a,l)}return l}function Qw(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=lt.updateQueue,a===null?(a=yy(),lt.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Yw(i,a,l,c){a.value=l,a.getSnapshot=c,Zw(a)&&Xw(i)}function Ww(i,a,l){return l(function(){Zw(a)&&Xw(i)})}function Zw(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!xr(i,l)}catch{return!0}}function Xw(i){var a=Xl(i,2);a!==null&&kr(a,i,2)}function wy(i){var a=pr();if(typeof i=="function"){var l=i;if(i=l(),Zo){Hn(!0);try{l()}finally{Hn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:i},a}function Jw(i,a,l,c){return i.baseState=l,_y(i,Ft,typeof c=="function"?c:ks)}function zN(i,a,l,c,m){if(Hh(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};K.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,eE(a,y)):(y.next=l.next,a.pending=l.next=y)}}function eE(i,a){var l=a.action,c=a.payload,m=i.state;if(a.isTransition){var y=K.T,T={};K.T=T;try{var I=l(m,c),F=K.S;F!==null&&F(T,I),tE(i,a,I)}catch(ne){Ey(i,a,ne)}finally{K.T=y}}else try{y=l(m,c),tE(i,a,y)}catch(ne){Ey(i,a,ne)}}function tE(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){nE(i,a,c)},function(c){return Ey(i,a,c)}):nE(i,a,l)}function nE(i,a,l){a.status="fulfilled",a.value=l,rE(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,eE(i,l)))}function Ey(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,rE(a),a=a.next;while(a!==c)}i.action=null}function rE(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function iE(i,a){return a}function sE(i,a){if(Nt){var l=Gt.formState;if(l!==null){e:{var c=lt;if(Nt){if(Jt){t:{for(var m=Jt,y=zi;m.nodeType!==8;){if(!y){m=null;break t}if(m=mi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Jt=mi(m.nextSibling),c=m.data==="F!";break e}}Ko(c)}c=!1}c&&(a=l[0])}}return l=pr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iE,lastRenderedState:a},l.queue=c,l=SE.bind(null,lt,c),c.dispatch=l,c=wy(!1),y=Ay.bind(null,lt,!1,c.queue),c=pr(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,l=zN.bind(null,lt,m,y,l),m.dispatch=l,c.memoizedState=i,[a,l,!1]}function aE(i){var a=dn();return oE(a,Ft,i)}function oE(i,a,l){if(a=_y(i,a,iE)[0],i=zh(ks)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=td(a)}catch(T){throw T===Yc?Ph:T}else c=a;a=dn();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(lt.flags|=2048,ou(9,Fh(),FN.bind(null,m,l),null)),[c,y,i]}function FN(i,a){i.action=a}function lE(i){var a=dn(),l=Ft;if(l!==null)return oE(a,l,i);dn(),a=a.memoizedState,l=dn();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function ou(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=lt.updateQueue,a===null&&(a=yy(),lt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function Fh(){return{destroy:void 0,resource:void 0}}function uE(){return dn().memoizedState}function Bh(i,a,l,c){var m=pr();c=c===void 0?null:c,lt.flags|=i,m.memoizedState=ou(1|a,Fh(),l,c)}function nd(i,a,l,c){var m=dn();c=c===void 0?null:c;var y=m.memoizedState.inst;Ft!==null&&c!==null&&fy(c,Ft.memoizedState.deps)?m.memoizedState=ou(a,y,l,c):(lt.flags|=i,m.memoizedState=ou(1|a,y,l,c))}function cE(i,a){Bh(8390656,8,i,a)}function dE(i,a){nd(2048,8,i,a)}function fE(i,a){return nd(4,2,i,a)}function hE(i,a){return nd(4,4,i,a)}function pE(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function mE(i,a,l){l=l!=null?l.concat([i]):null,nd(4,4,pE.bind(null,a,i),l)}function Ty(){}function gE(i,a){var l=dn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&fy(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function yE(i,a){var l=dn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&fy(a,c[1]))return c[0];if(c=i(),Zo){Hn(!0);try{i()}finally{Hn(!1)}}return l.memoizedState=[c,a],c}function Sy(i,a,l){return l===void 0||(va&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=bT(),lt.lanes|=i,xa|=i,l)}function vE(i,a,l,c){return xr(l,a)?l:iu.current!==null?(i=Sy(i,l,c),xr(i,a)||(An=!0),i):(va&42)===0?(An=!0,i.memoizedState=l):(i=bT(),lt.lanes|=i,xa|=i,a)}function _E(i,a,l,c,m){var y=le.p;le.p=y!==0&&8>y?y:8;var T=K.T,I={};K.T=I,Ay(i,!1,a,l);try{var F=m(),ne=K.S;if(ne!==null&&ne(I,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ue=VN(F,c);rd(i,a,ue,Or(i))}else rd(i,a,c,Or(i))}catch(he){rd(i,a,{then:function(){},status:"rejected",reason:he},Or())}finally{le.p=y,K.T=T}}function BN(){}function xy(i,a,l,c){if(i.tag!==5)throw Error(r(476));var m=bE(i).queue;_E(i,m,a,te,l===null?BN:function(){return wE(i),l(c)})}function bE(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:te},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function wE(i){var a=bE(i).next.queue;rd(i,a,{},Or())}function Ry(){return $n(wd)}function EE(){return dn().memoizedState}function TE(){return dn().memoizedState}function HN(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Or();i=ga(l);var c=ya(a,i,l);c!==null&&(kr(c,a,l),Zc(c,a,l)),a={cache:ny()},i.payload=a;return}a=a.return}}function qN(i,a,l){var c=Or();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Hh(i)?xE(a,l):(l=Gg(i,a,l,c),l!==null&&(kr(l,i,c),RE(l,a,c)))}function SE(i,a,l){var c=Or();rd(i,a,l,c)}function rd(i,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hh(i))xE(a,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,I=y(T,l);if(m.hasEagerState=!0,m.eagerState=I,xr(I,T))return Rh(i,a,m,0),Gt===null&&xh(),!1}catch{}finally{}if(l=Gg(i,a,m,c),l!==null)return kr(l,i,c),RE(l,a,c),!0}return!1}function Ay(i,a,l,c){if(c={lane:2,revertLane:sv(),action:c,hasEagerState:!1,eagerState:null,next:null},Hh(i)){if(a)throw Error(r(479))}else a=Gg(i,l,c,2),a!==null&&kr(a,i,2)}function Hh(i){var a=i.alternate;return i===lt||a!==null&&a===lt}function xE(i,a){su=Vh=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function RE(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Ii(i,l)}}var qh={readContext:$n,use:jh,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},AE={readContext:$n,use:jh,useCallback:function(i,a){return pr().memoizedState=[i,a===void 0?null:a],i},useContext:$n,useEffect:cE,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Bh(4194308,4,pE.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Bh(4194308,4,i,a)},useInsertionEffect:function(i,a){Bh(4,2,i,a)},useMemo:function(i,a){var l=pr();a=a===void 0?null:a;var c=i();if(Zo){Hn(!0);try{i()}finally{Hn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=pr();if(l!==void 0){var m=l(a);if(Zo){Hn(!0);try{l(a)}finally{Hn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=qN.bind(null,lt,i),[c.memoizedState,i]},useRef:function(i){var a=pr();return i={current:i},a.memoizedState=i},useState:function(i){i=wy(i);var a=i.queue,l=SE.bind(null,lt,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Ty,useDeferredValue:function(i,a){var l=pr();return Sy(l,i,a)},useTransition:function(){var i=wy(!1);return i=_E.bind(null,lt,i.queue,!0,!1),pr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=lt,m=pr();if(Nt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Gt===null)throw Error(r(349));(Rt&124)!==0||Qw(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,cE(Ww.bind(null,c,y,i),[i]),c.flags|=2048,ou(9,Fh(),Yw.bind(null,c,y,l,a),null),l},useId:function(){var i=pr(),a=Gt.identifierPrefix;if(Nt){var l=Cs,c=As;l=(c&~(1<<32-on(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=Uh++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=UN++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:Ry,useFormState:sE,useActionState:sE,useOptimistic:function(i){var a=pr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ay.bind(null,lt,!0,l),l.dispatch=a,[i,a]},useMemoCache:vy,useCacheRefresh:function(){return pr().memoizedState=HN.bind(null,lt)}},CE={readContext:$n,use:jh,useCallback:gE,useContext:$n,useEffect:dE,useImperativeHandle:mE,useInsertionEffect:fE,useLayoutEffect:hE,useMemo:yE,useReducer:zh,useRef:uE,useState:function(){return zh(ks)},useDebugValue:Ty,useDeferredValue:function(i,a){var l=dn();return vE(l,Ft.memoizedState,i,a)},useTransition:function(){var i=zh(ks)[0],a=dn().memoizedState;return[typeof i=="boolean"?i:td(i),a]},useSyncExternalStore:Kw,useId:EE,useHostTransitionStatus:Ry,useFormState:aE,useActionState:aE,useOptimistic:function(i,a){var l=dn();return Jw(l,Ft,i,a)},useMemoCache:vy,useCacheRefresh:TE},$N={readContext:$n,use:jh,useCallback:gE,useContext:$n,useEffect:dE,useImperativeHandle:mE,useInsertionEffect:fE,useLayoutEffect:hE,useMemo:yE,useReducer:by,useRef:uE,useState:function(){return by(ks)},useDebugValue:Ty,useDeferredValue:function(i,a){var l=dn();return Ft===null?Sy(l,i,a):vE(l,Ft.memoizedState,i,a)},useTransition:function(){var i=by(ks)[0],a=dn().memoizedState;return[typeof i=="boolean"?i:td(i),a]},useSyncExternalStore:Kw,useId:EE,useHostTransitionStatus:Ry,useFormState:lE,useActionState:lE,useOptimistic:function(i,a){var l=dn();return Ft!==null?Jw(l,Ft,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:vy,useCacheRefresh:TE},lu=null,id=0;function $h(i){var a=id;return id+=1,lu===null&&(lu=[]),jw(lu,i,a)}function sd(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Gh(i,a){throw a.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function IE(i){var a=i._init;return a(i._payload)}function OE(i){function a(W,G){if(i){var J=W.deletions;J===null?(W.deletions=[G],W.flags|=16):J.push(G)}}function l(W,G){if(!i)return null;for(;G!==null;)a(W,G),G=G.sibling;return null}function c(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function m(W,G){return W=Rs(W,G),W.index=0,W.sibling=null,W}function y(W,G,J){return W.index=J,i?(J=W.alternate,J!==null?(J=J.index,J<G?(W.flags|=67108866,G):J):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function T(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function I(W,G,J,ce){return G===null||G.tag!==6?(G=Qg(J,W.mode,ce),G.return=W,G):(G=m(G,J),G.return=W,G)}function F(W,G,J,ce){var Ie=J.type;return Ie===S?ue(W,G,J.props.children,ce,J.key):G!==null&&(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&IE(Ie)===G.type)?(G=m(G,J.props),sd(G,J),G.return=W,G):(G=Ch(J.type,J.key,J.props,null,W.mode,ce),sd(G,J),G.return=W,G)}function ne(W,G,J,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=Yg(J,W.mode,ce),G.return=W,G):(G=m(G,J.children||[]),G.return=W,G)}function ue(W,G,J,ce,Ie){return G===null||G.tag!==7?(G=Ho(J,W.mode,ce,Ie),G.return=W,G):(G=m(G,J),G.return=W,G)}function he(W,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Qg(""+G,W.mode,J),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return J=Ch(G.type,G.key,G.props,null,W.mode,J),sd(J,G),J.return=W,J;case w:return G=Yg(G,W.mode,J),G.return=W,G;case A:var ce=G._init;return G=ce(G._payload),he(W,G,J)}if(Ee(G)||H(G))return G=Ho(G,W.mode,J,null),G.return=W,G;if(typeof G.then=="function")return he(W,$h(G),J);if(G.$$typeof===j)return he(W,Nh(W,G),J);Gh(W,G)}return null}function re(W,G,J,ce){var Ie=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ie!==null?null:I(W,G,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Ie?F(W,G,J,ce):null;case w:return J.key===Ie?ne(W,G,J,ce):null;case A:return Ie=J._init,J=Ie(J._payload),re(W,G,J,ce)}if(Ee(J)||H(J))return Ie!==null?null:ue(W,G,J,ce,null);if(typeof J.then=="function")return re(W,G,$h(J),ce);if(J.$$typeof===j)return re(W,G,Nh(W,J),ce);Gh(W,J)}return null}function se(W,G,J,ce,Ie){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return W=W.get(J)||null,I(G,W,""+ce,Ie);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return W=W.get(ce.key===null?J:ce.key)||null,F(G,W,ce,Ie);case w:return W=W.get(ce.key===null?J:ce.key)||null,ne(G,W,ce,Ie);case A:var ft=ce._init;return ce=ft(ce._payload),se(W,G,J,ce,Ie)}if(Ee(ce)||H(ce))return W=W.get(J)||null,ue(G,W,ce,Ie,null);if(typeof ce.then=="function")return se(W,G,J,$h(ce),Ie);if(ce.$$typeof===j)return se(W,G,J,Nh(G,ce),Ie);Gh(G,ce)}return null}function Ye(W,G,J,ce){for(var Ie=null,ft=null,Ve=G,$e=G=0,In=null;Ve!==null&&$e<J.length;$e++){Ve.index>$e?(In=Ve,Ve=null):In=Ve.sibling;var Ot=re(W,Ve,J[$e],ce);if(Ot===null){Ve===null&&(Ve=In);break}i&&Ve&&Ot.alternate===null&&a(W,Ve),G=y(Ot,G,$e),ft===null?Ie=Ot:ft.sibling=Ot,ft=Ot,Ve=In}if($e===J.length)return l(W,Ve),Nt&&$o(W,$e),Ie;if(Ve===null){for(;$e<J.length;$e++)Ve=he(W,J[$e],ce),Ve!==null&&(G=y(Ve,G,$e),ft===null?Ie=Ve:ft.sibling=Ve,ft=Ve);return Nt&&$o(W,$e),Ie}for(Ve=c(Ve);$e<J.length;$e++)In=se(Ve,W,$e,J[$e],ce),In!==null&&(i&&In.alternate!==null&&Ve.delete(In.key===null?$e:In.key),G=y(In,G,$e),ft===null?Ie=In:ft.sibling=In,ft=In);return i&&Ve.forEach(function(Pa){return a(W,Pa)}),Nt&&$o(W,$e),Ie}function Be(W,G,J,ce){if(J==null)throw Error(r(151));for(var Ie=null,ft=null,Ve=G,$e=G=0,In=null,Ot=J.next();Ve!==null&&!Ot.done;$e++,Ot=J.next()){Ve.index>$e?(In=Ve,Ve=null):In=Ve.sibling;var Pa=re(W,Ve,Ot.value,ce);if(Pa===null){Ve===null&&(Ve=In);break}i&&Ve&&Pa.alternate===null&&a(W,Ve),G=y(Pa,G,$e),ft===null?Ie=Pa:ft.sibling=Pa,ft=Pa,Ve=In}if(Ot.done)return l(W,Ve),Nt&&$o(W,$e),Ie;if(Ve===null){for(;!Ot.done;$e++,Ot=J.next())Ot=he(W,Ot.value,ce),Ot!==null&&(G=y(Ot,G,$e),ft===null?Ie=Ot:ft.sibling=Ot,ft=Ot);return Nt&&$o(W,$e),Ie}for(Ve=c(Ve);!Ot.done;$e++,Ot=J.next())Ot=se(Ve,W,$e,Ot.value,ce),Ot!==null&&(i&&Ot.alternate!==null&&Ve.delete(Ot.key===null?$e:Ot.key),G=y(Ot,G,$e),ft===null?Ie=Ot:ft.sibling=Ot,ft=Ot);return i&&Ve.forEach(function(GD){return a(W,GD)}),Nt&&$o(W,$e),Ie}function Ht(W,G,J,ce){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Ie=J.key;G!==null;){if(G.key===Ie){if(Ie=J.type,Ie===S){if(G.tag===7){l(W,G.sibling),ce=m(G,J.props.children),ce.return=W,W=ce;break e}}else if(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&IE(Ie)===G.type){l(W,G.sibling),ce=m(G,J.props),sd(ce,J),ce.return=W,W=ce;break e}l(W,G);break}else a(W,G);G=G.sibling}J.type===S?(ce=Ho(J.props.children,W.mode,ce,J.key),ce.return=W,W=ce):(ce=Ch(J.type,J.key,J.props,null,W.mode,ce),sd(ce,J),ce.return=W,W=ce)}return T(W);case w:e:{for(Ie=J.key;G!==null;){if(G.key===Ie)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){l(W,G.sibling),ce=m(G,J.children||[]),ce.return=W,W=ce;break e}else{l(W,G);break}else a(W,G);G=G.sibling}ce=Yg(J,W.mode,ce),ce.return=W,W=ce}return T(W);case A:return Ie=J._init,J=Ie(J._payload),Ht(W,G,J,ce)}if(Ee(J))return Ye(W,G,J,ce);if(H(J)){if(Ie=H(J),typeof Ie!="function")throw Error(r(150));return J=Ie.call(J),Be(W,G,J,ce)}if(typeof J.then=="function")return Ht(W,G,$h(J),ce);if(J.$$typeof===j)return Ht(W,G,Nh(W,J),ce);Gh(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(l(W,G.sibling),ce=m(G,J),ce.return=W,W=ce):(l(W,G),ce=Qg(J,W.mode,ce),ce.return=W,W=ce),T(W)):l(W,G)}return function(W,G,J,ce){try{id=0;var Ie=Ht(W,G,J,ce);return lu=null,Ie}catch(Ve){if(Ve===Yc||Ve===Ph)throw Ve;var ft=Rr(29,Ve,null,W.mode);return ft.lanes=ce,ft.return=W,ft}finally{}}}var uu=OE(!0),kE=OE(!1),ti=ie(null),Fi=null;function _a(i){var a=i.alternate;oe(vn,vn.current&1),oe(ti,i),Fi===null&&(a===null||iu.current!==null||a.memoizedState!==null)&&(Fi=i)}function NE(i){if(i.tag===22){if(oe(vn,vn.current),oe(ti,i),Fi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Fi=i)}}else ba()}function ba(){oe(vn,vn.current),oe(ti,ti.current)}function Ns(i){pe(ti),Fi===i&&(Fi=null),pe(vn)}var vn=ie(0);function Kh(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||yv(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Cy(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Iy={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=Or(),m=ga(c);m.payload=a,l!=null&&(m.callback=l),a=ya(i,m,c),a!==null&&(kr(a,i,c),Zc(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=Or(),m=ga(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=ya(i,m,c),a!==null&&(kr(a,i,c),Zc(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Or(),c=ga(l);c.tag=2,a!=null&&(c.callback=a),a=ya(i,c,l),a!==null&&(kr(a,i,l),Zc(a,i,l))}};function DE(i,a,l,c,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,T):a.prototype&&a.prototype.isPureReactComponent?!Fc(l,c)||!Fc(m,y):!0}function PE(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Iy.enqueueReplaceState(a,a.state,null)}function Xo(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=g({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var Qh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function ME(i){Qh(i)}function LE(i){console.error(i)}function VE(i){Qh(i)}function Yh(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function UE(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Oy(i,a,l){return l=ga(l),l.tag=3,l.payload={element:null},l.callback=function(){Yh(i,a)},l}function jE(i){return i=ga(i),i.tag=3,i}function zE(i,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;i.payload=function(){return m(y)},i.callback=function(){UE(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){UE(a,l,c),typeof m!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function GN(i,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Gc(a,l,m,!0),l=ti.current,l!==null){switch(l.tag){case 13:return Fi===null?ev():l.alternate===null&&en===0&&(en=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===sy?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),nv(i,c,m)),!1;case 22:return l.flags|=65536,c===sy?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),nv(i,c,m)),!1}throw Error(r(435,l.tag))}return nv(i,c,m),ev(),!1}if(Nt)return a=ti.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==Xg&&(i=Error(r(422),{cause:c}),$c(Zr(i,l)))):(c!==Xg&&(a=Error(r(423),{cause:c}),$c(Zr(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Zr(c,l),m=Oy(i.stateNode,c,m),ly(i,m),en!==4&&(en=2)),!1;var y=Error(r(520),{cause:c});if(y=Zr(y,l),fd===null?fd=[y]:fd.push(y),en!==4&&(en=2),a===null)return!0;c=Zr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Oy(l.stateNode,c,i),ly(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ra===null||!Ra.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=jE(m),zE(m,i,l,c),ly(l,m),!1}l=l.return}while(l!==null);return!1}var FE=Error(r(461)),An=!1;function Mn(i,a,l,c){a.child=i===null?kE(a,null,l,c):uu(a,i.child,l,c)}function BE(i,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var T={};for(var I in c)I!=="ref"&&(T[I]=c[I])}else T=c;return Yo(a),c=hy(i,a,l,T,y,m),I=py(),i!==null&&!An?(my(i,a,m),Ds(i,a,m)):(Nt&&I&&Wg(a),a.flags|=1,Mn(i,a,c,m),a.child)}function HE(i,a,l,c,m){if(i===null){var y=l.type;return typeof y=="function"&&!Kg(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,qE(i,a,y,c,m)):(i=Ch(l.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!Uy(i,m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Fc,l(T,c)&&i.ref===a.ref)return Ds(i,a,m)}return a.flags|=1,i=Rs(y,c),i.ref=a.ref,i.return=a,a.child=i}function qE(i,a,l,c,m){if(i!==null){var y=i.memoizedProps;if(Fc(y,c)&&i.ref===a.ref)if(An=!1,a.pendingProps=c=y,Uy(i,m))(i.flags&131072)!==0&&(An=!0);else return a.lanes=i.lanes,Ds(i,a,m)}return ky(i,a,l,c,m)}function $E(i,a,l){var c=a.pendingProps,m=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(m=a.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return GE(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Dh(a,y!==null?y.cachePool:null),y!==null?qw(a,y):cy(),NE(a);else return a.lanes=a.childLanes=536870912,GE(i,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Dh(a,y.cachePool),qw(a,y),ba(),a.memoizedState=null):(i!==null&&Dh(a,null),cy(),ba());return Mn(i,a,m,l),a.child}function GE(i,a,l,c){var m=iy();return m=m===null?null:{parent:yn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},i!==null&&Dh(a,null),cy(),NE(a),i!==null&&Gc(i,a,c,!0),null}function Wh(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function ky(i,a,l,c,m){return Yo(a),l=hy(i,a,l,c,void 0,m),c=py(),i!==null&&!An?(my(i,a,m),Ds(i,a,m)):(Nt&&c&&Wg(a),a.flags|=1,Mn(i,a,l,m),a.child)}function KE(i,a,l,c,m,y){return Yo(a),a.updateQueue=null,l=Gw(a,c,l,m),$w(i),c=py(),i!==null&&!An?(my(i,a,y),Ds(i,a,y)):(Nt&&c&&Wg(a),a.flags|=1,Mn(i,a,l,y),a.child)}function QE(i,a,l,c,m){if(Yo(a),a.stateNode===null){var y=Jl,T=l.contextType;typeof T=="object"&&T!==null&&(y=$n(T)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Iy,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},ay(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?$n(T):Jl,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Cy(a,l,T,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Iy.enqueueReplaceState(y,y.state,null),Jc(a,c,y,m),Xc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){y=a.stateNode;var I=a.memoizedProps,F=Xo(l,I);y.props=F;var ne=y.context,ue=l.contextType;T=Jl,typeof ue=="object"&&ue!==null&&(T=$n(ue));var he=l.getDerivedStateFromProps;ue=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||ne!==T)&&PE(a,y,c,T),ma=!1;var re=a.memoizedState;y.state=re,Jc(a,c,y,m),Xc(),ne=a.memoizedState,I||re!==ne||ma?(typeof he=="function"&&(Cy(a,l,he,c),ne=a.memoizedState),(F=ma||DE(a,l,F,c,re,ne,T))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=ne),y.props=c,y.state=ne,y.context=T,c=F):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,oy(i,a),T=a.memoizedProps,ue=Xo(l,T),y.props=ue,he=a.pendingProps,re=y.context,ne=l.contextType,F=Jl,typeof ne=="object"&&ne!==null&&(F=$n(ne)),I=l.getDerivedStateFromProps,(ne=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==he||re!==F)&&PE(a,y,c,F),ma=!1,re=a.memoizedState,y.state=re,Jc(a,c,y,m),Xc();var se=a.memoizedState;T!==he||re!==se||ma||i!==null&&i.dependencies!==null&&kh(i.dependencies)?(typeof I=="function"&&(Cy(a,l,I,c),se=a.memoizedState),(ue=ma||DE(a,l,ue,c,re,se,F)||i!==null&&i.dependencies!==null&&kh(i.dependencies))?(ne||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,se,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,se,F)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=se),y.props=c,y.state=se,y.context=F,c=ue):(typeof y.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),c=!1)}return y=c,Wh(i,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&c?(a.child=uu(a,i.child,null,m),a.child=uu(a,null,l,m)):Mn(i,a,l,m),a.memoizedState=y.state,i=a.child):i=Ds(i,a,m),i}function YE(i,a,l,c){return qc(),a.flags|=256,Mn(i,a,l,c),a.child}var Ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dy(i){return{baseLanes:i,cachePool:Lw()}}function Py(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=ni),i}function WE(i,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=i!==null&&i.memoizedState===null?!1:(vn.current&2)!==0),T&&(m=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(Nt){if(m?_a(a):ba(),Nt){var I=Jt,F;if(F=I){e:{for(F=I,I=zi;F.nodeType!==8;){if(!I){I=null;break e}if(F=mi(F.nextSibling),F===null){I=null;break e}}I=F}I!==null?(a.memoizedState={dehydrated:I,treeContext:qo!==null?{id:As,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},F=Rr(18,null,null,0),F.stateNode=I,F.return=a,a.child=F,lr=a,Jt=null,F=!0):F=!1}F||Ko(a)}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return yv(I)?a.lanes=32:a.lanes=536870912,null;Ns(a)}return I=c.children,c=c.fallback,m?(ba(),m=a.mode,I=Zh({mode:"hidden",children:I},m),c=Ho(c,m,l,null),I.return=a,c.return=a,I.sibling=c,a.child=I,m=a.child,m.memoizedState=Dy(l),m.childLanes=Py(i,T,l),a.memoizedState=Ny,c):(_a(a),My(a,I))}if(F=i.memoizedState,F!==null&&(I=F.dehydrated,I!==null)){if(y)a.flags&256?(_a(a),a.flags&=-257,a=Ly(i,a,l)):a.memoizedState!==null?(ba(),a.child=i.child,a.flags|=128,a=null):(ba(),m=c.fallback,I=a.mode,c=Zh({mode:"visible",children:c.children},I),m=Ho(m,I,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,uu(a,i.child,null,l),c=a.child,c.memoizedState=Dy(l),c.childLanes=Py(i,T,l),a.memoizedState=Ny,a=m);else if(_a(a),yv(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var ne=T.dgst;T=ne,c=Error(r(419)),c.stack="",c.digest=T,$c({value:c,source:null,stack:null}),a=Ly(i,a,l)}else if(An||Gc(i,a,l,!1),T=(l&i.childLanes)!==0,An||T){if(T=Gt,T!==null&&(c=l&-l,c=(c&42)!==0?1:Oi(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,Xl(i,c),kr(T,i,c),FE;I.data==="$?"||ev(),a=Ly(i,a,l)}else I.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=F.treeContext,Jt=mi(I.nextSibling),lr=a,Nt=!0,Go=null,zi=!1,i!==null&&(Jr[ei++]=As,Jr[ei++]=Cs,Jr[ei++]=qo,As=i.id,Cs=i.overflow,qo=a),a=My(a,c.children),a.flags|=4096);return a}return m?(ba(),m=c.fallback,I=a.mode,F=i.child,ne=F.sibling,c=Rs(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,ne!==null?m=Rs(ne,m):(m=Ho(m,I,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,I=i.child.memoizedState,I===null?I=Dy(l):(F=I.cachePool,F!==null?(ne=yn._currentValue,F=F.parent!==ne?{parent:ne,pool:ne}:F):F=Lw(),I={baseLanes:I.baseLanes|l,cachePool:F}),m.memoizedState=I,m.childLanes=Py(i,T,l),a.memoizedState=Ny,c):(_a(a),l=i.child,i=l.sibling,l=Rs(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=l,a.memoizedState=null,l)}function My(i,a){return a=Zh({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Zh(i,a){return i=Rr(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ly(i,a,l){return uu(a,i.child,null,l),i=My(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function ZE(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),ey(i.return,a,l)}function Vy(i,a,l,c,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function XE(i,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(Mn(i,a,c.children,l),c=vn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ZE(i,l,a);else if(i.tag===19)ZE(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(oe(vn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&Kh(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Vy(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Kh(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Vy(a,!0,l,null,y);break;case"together":Vy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ds(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),xa|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Gc(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Rs(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Rs(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Uy(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&kh(i)))}function KN(i,a,l){switch(a.tag){case 3:ht(a,a.stateNode.containerInfo),pa(a,yn,i.memoizedState.cache),qc();break;case 27:case 5:bt(a);break;case 4:ht(a,a.stateNode.containerInfo);break;case 10:pa(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(_a(a),a.flags|=128,null):(l&a.child.childLanes)!==0?WE(i,a,l):(_a(a),i=Ds(i,a,l),i!==null?i.sibling:null);_a(a);break;case 19:var m=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Gc(i,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return XE(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(vn,vn.current),c)break;return null;case 22:case 23:return a.lanes=0,$E(i,a,l);case 24:pa(a,yn,i.memoizedState.cache)}return Ds(i,a,l)}function JE(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)An=!0;else{if(!Uy(i,l)&&(a.flags&128)===0)return An=!1,KN(i,a,l);An=(i.flags&131072)!==0}else An=!1,Nt&&(a.flags&1048576)!==0&&Iw(a,Oh,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")Kg(c)?(i=Xo(c,i),a.tag=1,a=QE(null,a,c,i,l)):(a.tag=0,a=ky(null,a,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===$){a.tag=11,a=BE(null,a,c,i,l);break e}else if(m===P){a.tag=14,a=HE(null,a,c,i,l);break e}}throw a=we(c)||c,Error(r(306,a,""))}}return a;case 0:return ky(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Xo(c,a.pendingProps),QE(i,a,c,m,l);case 3:e:{if(ht(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;m=y.element,oy(i,a),Jc(a,c,null,l);var T=a.memoizedState;if(c=T.cache,pa(a,yn,c),c!==y.cache&&ty(a,[yn],l,!0),Xc(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=YE(i,a,c,l);break e}else if(c!==m){m=Zr(Error(r(424)),a),$c(m),a=YE(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Jt=mi(i.firstChild),lr=a,Nt=!0,Go=null,zi=!0,l=kE(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(qc(),c===m){a=Ds(i,a,l);break e}Mn(i,a,c,l)}a=a.child}return a;case 26:return Wh(i,a),i===null?(l=rS(a.type,null,a.pendingProps,null))?a.memoizedState=l:Nt||(l=a.type,i=a.pendingProps,c=dp(Ce.current).createElement(l),c[fe]=a,c[ve]=i,Vn(c,l,i),wt(c),a.stateNode=c):a.memoizedState=rS(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return bt(a),i===null&&Nt&&(c=a.stateNode=eS(a.type,a.pendingProps,Ce.current),lr=a,zi=!0,m=Jt,Ia(a.type)?(vv=m,Jt=mi(c.firstChild)):Jt=m),Mn(i,a,a.pendingProps.children,l),Wh(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Nt&&((m=c=Jt)&&(c=wD(c,a.type,a.pendingProps,zi),c!==null?(a.stateNode=c,lr=a,Jt=mi(c.firstChild),zi=!1,m=!0):m=!1),m||Ko(a)),bt(a),m=a.type,y=a.pendingProps,T=i!==null?i.memoizedProps:null,c=y.children,pv(m,y)?c=null:T!==null&&pv(m,T)&&(a.flags|=32),a.memoizedState!==null&&(m=hy(i,a,jN,null,null,l),wd._currentValue=m),Wh(i,a),Mn(i,a,c,l),a.child;case 6:return i===null&&Nt&&((i=l=Jt)&&(l=ED(l,a.pendingProps,zi),l!==null?(a.stateNode=l,lr=a,Jt=null,i=!0):i=!1),i||Ko(a)),null;case 13:return WE(i,a,l);case 4:return ht(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=uu(a,null,c,l):Mn(i,a,c,l),a.child;case 11:return BE(i,a,a.type,a.pendingProps,l);case 7:return Mn(i,a,a.pendingProps,l),a.child;case 8:return Mn(i,a,a.pendingProps.children,l),a.child;case 12:return Mn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,pa(a,a.type,c.value),Mn(i,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Yo(a),m=$n(m),c=c(m),a.flags|=1,Mn(i,a,c,l),a.child;case 14:return HE(i,a,a.type,a.pendingProps,l);case 15:return qE(i,a,a.type,a.pendingProps,l);case 19:return XE(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=Zh(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Rs(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return $E(i,a,l);case 24:return Yo(a),c=$n(yn),i===null?(m=iy(),m===null&&(m=Gt,y=ny(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},ay(a),pa(a,yn,m)):((i.lanes&l)!==0&&(oy(i,a),Jc(a,null,null,l),Xc()),m=i.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),pa(a,yn,c)):(c=y.cache,pa(a,yn,c),c!==m.cache&&ty(a,[yn],l,!0))),Mn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ps(i){i.flags|=4}function eT(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!lS(a)){if(a=ti.current,a!==null&&((Rt&4194048)===Rt?Fi!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||a!==Fi))throw Wc=sy,Vw;i.flags|=8192}}function Xh(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Io():536870912,i.lanes|=a,hu|=a)}function ad(i,a){if(!Nt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Wt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function QN(i,a,l){var c=a.pendingProps;switch(Zg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(a),null;case 1:return Wt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Os(yn),Dt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Hc(a)?Ps(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nw())),Wt(a),null;case 26:return l=a.memoizedState,i===null?(Ps(a),l!==null?(Wt(a),eT(a,l)):(Wt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Ps(a),Wt(a),eT(a,l)):(Wt(a),a.flags&=-16777217):(i.memoizedProps!==c&&Ps(a),Wt(a),a.flags&=-16777217),null;case 27:Yt(a),l=Ce.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Ps(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Wt(a),null}i=_e.current,Hc(a)?Ow(a):(i=eS(m,c,l),a.stateNode=i,Ps(a))}return Wt(a),null;case 5:if(Yt(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Ps(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Wt(a),null}if(i=_e.current,Hc(a))Ow(a);else{switch(m=dp(Ce.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[fe]=a,i[ve]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(Vn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ps(a)}}return Wt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Ps(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ce.current,Hc(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,m=lr,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[fe]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||KT(i.nodeValue,l)),i||Ko(a)}else i=dp(i).createTextNode(c),i[fe]=a,a.stateNode=i}return Wt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Hc(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[fe]=a}else qc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Wt(a),m=!1}else m=Nw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Ns(a),a):(Ns(a),null)}if(Ns(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Xh(a,a.updateQueue),Wt(a),null;case 4:return Dt(),i===null&&uv(a.stateNode.containerInfo),Wt(a),null;case 10:return Os(a.type),Wt(a),null;case 19:if(pe(vn),m=a.memoizedState,m===null)return Wt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)ad(m,!1);else{if(en!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=Kh(i),y!==null){for(a.flags|=128,ad(m,!1),i=y.updateQueue,a.updateQueue=i,Xh(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Cw(l,i),l=l.sibling;return oe(vn,vn.current&1|2),a.child}i=i.sibling}m.tail!==null&&kn()>tp&&(a.flags|=128,c=!0,ad(m,!1),a.lanes=4194304)}else{if(!c)if(i=Kh(y),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Xh(a,i),ad(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Nt)return Wt(a),null}else 2*kn()-m.renderingStartTime>tp&&l!==536870912&&(a.flags|=128,c=!0,ad(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(i=m.last,i!==null?i.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=kn(),a.sibling=null,i=vn.current,oe(vn,c?i&1|2:i&1),a):(Wt(a),null);case 22:case 23:return Ns(a),dy(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Wt(a),a.subtreeFlags&6&&(a.flags|=8192)):Wt(a),l=a.updateQueue,l!==null&&Xh(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&pe(Wo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Os(yn),Wt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function YN(i,a){switch(Zg(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Os(yn),Dt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Yt(a),null;case 13:if(Ns(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));qc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return pe(vn),null;case 4:return Dt(),null;case 10:return Os(a.type),null;case 22:case 23:return Ns(a),dy(),i!==null&&pe(Wo),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Os(yn),null;case 25:return null;default:return null}}function tT(i,a){switch(Zg(a),a.tag){case 3:Os(yn),Dt();break;case 26:case 27:case 5:Yt(a);break;case 4:Dt();break;case 13:Ns(a);break;case 19:pe(vn);break;case 10:Os(a.type);break;case 22:case 23:Ns(a),dy(),i!==null&&pe(Wo);break;case 24:Os(yn)}}function od(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==m)}}catch(I){$t(a,a.return,I)}}function wa(i,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&i)===i){var T=c.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,m=a;var F=l,ne=I;try{ne()}catch(ue){$t(m,F,ue)}}}c=c.next}while(c!==y)}}catch(ue){$t(a,a.return,ue)}}function nT(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Hw(a,l)}catch(c){$t(i,i.return,c)}}}function rT(i,a,l){l.props=Xo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){$t(i,a,c)}}function ld(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){$t(i,a,m)}}function Bi(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){$t(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){$t(i,a,m)}else l.current=null}function iT(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){$t(i,i.return,m)}}function jy(i,a,l){try{var c=i.stateNode;gD(c,i.type,l,a),c[ve]=a}catch(m){$t(i,i.return,m)}}function sT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ia(i.type)||i.tag===4}function zy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||sT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ia(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Fy(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=cp));else if(c!==4&&(c===27&&Ia(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Fy(i,a,l),i=i.sibling;i!==null;)Fy(i,a,l),i=i.sibling}function Jh(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&Ia(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Jh(i,a,l),i=i.sibling;i!==null;)Jh(i,a,l),i=i.sibling}function aT(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Vn(a,c,l),a[fe]=i,a[ve]=l}catch(y){$t(i,i.return,y)}}var Ms=!1,sn=!1,By=!1,oT=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function WN(i,a){if(i=i.containerInfo,fv=yp,i=vw(i),zg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,I=-1,F=-1,ne=0,ue=0,he=i,re=null;t:for(;;){for(var se;he!==l||m!==0&&he.nodeType!==3||(I=T+m),he!==y||c!==0&&he.nodeType!==3||(F=T+c),he.nodeType===3&&(T+=he.nodeValue.length),(se=he.firstChild)!==null;)re=he,he=se;for(;;){if(he===i)break t;if(re===l&&++ne===m&&(I=T),re===y&&++ue===c&&(F=T),(se=he.nextSibling)!==null)break;he=re,re=he.parentNode}he=se}l=I===-1||F===-1?null:{start:I,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(hv={focusedElem:i,selectionRange:l},yp=!1,Cn=a;Cn!==null;)if(a=Cn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Cn=i;else for(;Cn!==null;){switch(a=Cn,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ye=Xo(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ye,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Be){$t(l,l.return,Be)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)gv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":gv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Cn=i;break}Cn=a.return}}function lT(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ea(i,l),c&4&&od(5,l);break;case 1:if(Ea(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(T){$t(l,l.return,T)}else{var m=Xo(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(T){$t(l,l.return,T)}}c&64&&nT(l),c&512&&ld(l,l.return);break;case 3:if(Ea(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Hw(i,a)}catch(T){$t(l,l.return,T)}}break;case 27:a===null&&c&4&&aT(l);case 26:case 5:Ea(i,l),a===null&&c&4&&iT(l),c&512&&ld(l,l.return);break;case 12:Ea(i,l);break;case 13:Ea(i,l),c&4&&dT(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=sD.bind(null,l),TD(i,l))));break;case 22:if(c=l.memoizedState!==null||Ms,!c){a=a!==null&&a.memoizedState!==null||sn,m=Ms;var y=sn;Ms=c,(sn=a)&&!y?Ta(i,l,(l.subtreeFlags&8772)!==0):Ea(i,l),Ms=m,sn=y}break;case 30:break;default:Ea(i,l)}}function uT(i){var a=i.alternate;a!==null&&(i.alternate=null,uT(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Pe(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Qt=null,mr=!1;function Ls(i,a,l){for(l=l.child;l!==null;)cT(i,a,l),l=l.sibling}function cT(i,a,l){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(kt,l)}catch{}switch(l.tag){case 26:sn||Bi(l,a),Ls(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:sn||Bi(l,a);var c=Qt,m=mr;Ia(l.type)&&(Qt=l.stateNode,mr=!1),Ls(i,a,l),yd(l.stateNode),Qt=c,mr=m;break;case 5:sn||Bi(l,a);case 6:if(c=Qt,m=mr,Qt=null,Ls(i,a,l),Qt=c,mr=m,Qt!==null)if(mr)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(l.stateNode)}catch(y){$t(l,a,y)}else try{Qt.removeChild(l.stateNode)}catch(y){$t(l,a,y)}break;case 18:Qt!==null&&(mr?(i=Qt,XT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),xd(i)):XT(Qt,l.stateNode));break;case 4:c=Qt,m=mr,Qt=l.stateNode.containerInfo,mr=!0,Ls(i,a,l),Qt=c,mr=m;break;case 0:case 11:case 14:case 15:sn||wa(2,l,a),sn||wa(4,l,a),Ls(i,a,l);break;case 1:sn||(Bi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&rT(l,a,c)),Ls(i,a,l);break;case 21:Ls(i,a,l);break;case 22:sn=(c=sn)||l.memoizedState!==null,Ls(i,a,l),sn=c;break;default:Ls(i,a,l)}}function dT(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xd(i)}catch(l){$t(a,a.return,l)}}function ZN(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new oT),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new oT),a;default:throw Error(r(435,i.tag))}}function Hy(i,a){var l=ZN(i);a.forEach(function(c){var m=aD.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function Ar(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=i,T=a,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(Ia(I.type)){Qt=I.stateNode,mr=!1;break e}break;case 5:Qt=I.stateNode,mr=!1;break e;case 3:case 4:Qt=I.stateNode.containerInfo,mr=!0;break e}I=I.return}if(Qt===null)throw Error(r(160));cT(y,T,m),Qt=null,mr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)fT(a,i),a=a.sibling}var pi=null;function fT(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ar(a,i),Cr(i),c&4&&(wa(3,i,i.return),od(3,i),wa(5,i,i.return));break;case 1:Ar(a,i),Cr(i),c&512&&(sn||l===null||Bi(l,l.return)),c&64&&Ms&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=pi;if(Ar(a,i),Cr(i),c&512&&(sn||l===null||Bi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Fe]||y[fe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Vn(y,c,l),y[fe]=i,wt(y),c=y;break e;case"link":var T=aS("link","href",m).get(c+(l.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(I,1);break t}}y=m.createElement(c),Vn(y,c,l),m.head.appendChild(y);break;case"meta":if(T=aS("meta","content",m).get(c+(l.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(I,1);break t}}y=m.createElement(c),Vn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[fe]=i,wt(y),c=y}i.stateNode=c}else oS(m,i.type,i.stateNode);else i.stateNode=sS(m,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?oS(m,i.type,i.stateNode):sS(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&jy(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ar(a,i),Cr(i),c&512&&(sn||l===null||Bi(l,l.return)),l!==null&&c&4&&jy(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ar(a,i),Cr(i),c&512&&(sn||l===null||Bi(l,l.return)),i.flags&32){m=i.stateNode;try{Kr(m,"")}catch(se){$t(i,i.return,se)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,jy(i,m,l!==null?l.memoizedProps:m)),c&1024&&(By=!0);break;case 6:if(Ar(a,i),Cr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(se){$t(i,i.return,se)}}break;case 3:if(pp=null,m=pi,pi=fp(a.containerInfo),Ar(a,i),pi=m,Cr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{xd(a.containerInfo)}catch(se){$t(i,i.return,se)}By&&(By=!1,hT(i));break;case 4:c=pi,pi=fp(i.stateNode.containerInfo),Ar(a,i),Cr(i),pi=c;break;case 12:Ar(a,i),Cr(i);break;case 13:Ar(a,i),Cr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yy=kn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Hy(i,c)));break;case 22:m=i.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,ne=Ms,ue=sn;if(Ms=ne||m,sn=ue||F,Ar(a,i),sn=ue,Ms=ne,Cr(i),c&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||F||Ms||sn||Jo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){F=l=a;try{if(y=F.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=F.stateNode;var he=F.memoizedProps.style,re=he!=null&&he.hasOwnProperty("display")?he.display:null;I.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(se){$t(F,F.return,se)}}}else if(a.tag===6){if(l===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(se){$t(F,F.return,se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Hy(i,l))));break;case 19:Ar(a,i),Cr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Hy(i,c)));break;case 30:break;case 21:break;default:Ar(a,i),Cr(i)}}function Cr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(sT(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=zy(i);Jh(i,y,m);break;case 5:var T=l.stateNode;l.flags&32&&(Kr(T,""),l.flags&=-33);var I=zy(i);Jh(i,I,T);break;case 3:case 4:var F=l.stateNode.containerInfo,ne=zy(i);Fy(i,ne,F);break;default:throw Error(r(161))}}catch(ue){$t(i,i.return,ue)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function hT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;hT(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ea(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)lT(i,a.alternate,a),a=a.sibling}function Jo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:wa(4,a,a.return),Jo(a);break;case 1:Bi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&rT(a,a.return,l),Jo(a);break;case 27:yd(a.stateNode);case 26:case 5:Bi(a,a.return),Jo(a);break;case 22:a.memoizedState===null&&Jo(a);break;case 30:Jo(a);break;default:Jo(a)}i=i.sibling}}function Ta(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:Ta(m,y,l),od(4,y);break;case 1:if(Ta(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ne){$t(c,c.return,ne)}if(c=y,m=c.updateQueue,m!==null){var I=c.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)Bw(F[m],I)}catch(ne){$t(c,c.return,ne)}}l&&T&64&&nT(y),ld(y,y.return);break;case 27:aT(y);case 26:case 5:Ta(m,y,l),l&&c===null&&T&4&&iT(y),ld(y,y.return);break;case 12:Ta(m,y,l);break;case 13:Ta(m,y,l),l&&T&4&&dT(m,y);break;case 22:y.memoizedState===null&&Ta(m,y,l),ld(y,y.return);break;case 30:break;default:Ta(m,y,l)}a=a.sibling}}function qy(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Kc(l))}function $y(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Kc(i))}function Hi(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pT(i,a,l,c),a=a.sibling}function pT(i,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Hi(i,a,l,c),m&2048&&od(9,a);break;case 1:Hi(i,a,l,c);break;case 3:Hi(i,a,l,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Kc(i)));break;case 12:if(m&2048){Hi(i,a,l,c),i=a.stateNode;try{var y=a.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){$t(a,a.return,F)}}else Hi(i,a,l,c);break;case 13:Hi(i,a,l,c);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?Hi(i,a,l,c):ud(i,a):y._visibility&2?Hi(i,a,l,c):(y._visibility|=2,cu(i,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&qy(T,a);break;case 24:Hi(i,a,l,c),m&2048&&$y(a.alternate,a);break;default:Hi(i,a,l,c)}}function cu(i,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,T=a,I=l,F=c,ne=T.flags;switch(T.tag){case 0:case 11:case 15:cu(y,T,I,F,m),od(8,T);break;case 23:break;case 22:var ue=T.stateNode;T.memoizedState!==null?ue._visibility&2?cu(y,T,I,F,m):ud(y,T):(ue._visibility|=2,cu(y,T,I,F,m)),m&&ne&2048&&qy(T.alternate,T);break;case 24:cu(y,T,I,F,m),m&&ne&2048&&$y(T.alternate,T);break;default:cu(y,T,I,F,m)}a=a.sibling}}function ud(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,m=c.flags;switch(c.tag){case 22:ud(l,c),m&2048&&qy(c.alternate,c);break;case 24:ud(l,c),m&2048&&$y(c.alternate,c);break;default:ud(l,c)}a=a.sibling}}var cd=8192;function du(i){if(i.subtreeFlags&cd)for(i=i.child;i!==null;)mT(i),i=i.sibling}function mT(i){switch(i.tag){case 26:du(i),i.flags&cd&&i.memoizedState!==null&&LD(pi,i.memoizedState,i.memoizedProps);break;case 5:du(i);break;case 3:case 4:var a=pi;pi=fp(i.stateNode.containerInfo),du(i),pi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=cd,cd=16777216,du(i),cd=a):du(i));break;default:du(i)}}function gT(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function dd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Cn=c,vT(c,i)}gT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yT(i),i=i.sibling}function yT(i){switch(i.tag){case 0:case 11:case 15:dd(i),i.flags&2048&&wa(9,i,i.return);break;case 3:dd(i);break;case 12:dd(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,ep(i)):dd(i);break;default:dd(i)}}function ep(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Cn=c,vT(c,i)}gT(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:wa(8,a,a.return),ep(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ep(a));break;default:ep(a)}i=i.sibling}}function vT(i,a){for(;Cn!==null;){var l=Cn;switch(l.tag){case 0:case 11:case 15:wa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Kc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Cn=c;else e:for(l=i;Cn!==null;){c=Cn;var m=c.sibling,y=c.return;if(uT(c),c===l){Cn=null;break e}if(m!==null){m.return=y,Cn=m;break e}Cn=y}}}var XN={getCacheForType:function(i){var a=$n(yn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},JN=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Gt=null,mt=null,Rt=0,jt=0,Ir=null,Sa=!1,fu=!1,Gy=!1,Vs=0,en=0,xa=0,el=0,Ky=0,ni=0,hu=0,fd=null,gr=null,Qy=!1,Yy=0,tp=1/0,np=null,Ra=null,Ln=0,Aa=null,pu=null,mu=0,Wy=0,Zy=null,_T=null,hd=0,Xy=null;function Or(){if((Ut&2)!==0&&Rt!==0)return Rt&-Rt;if(K.T!==null){var i=nu;return i!==0?i:sv()}return q()}function bT(){ni===0&&(ni=(Rt&536870912)===0||Nt?ys():536870912);var i=ti.current;return i!==null&&(i.flags|=32),ni}function kr(i,a,l){(i===Gt&&(jt===2||jt===9)||i.cancelPendingCommit!==null)&&(gu(i,0),Ca(i,Rt,ni,!1)),di(i,l),((Ut&2)===0||i!==Gt)&&(i===Gt&&((Ut&2)===0&&(el|=l),en===4&&Ca(i,Rt,ni,!1)),qi(i))}function wT(i,a,l){if((Ut&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||Hr(i,a),m=c?nD(i,a):tv(i,a,!0),y=c;do{if(m===0){fu&&!c&&Ca(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!eD(l)){m=tv(i,a,!1),y=!1;continue}if(m===2){if(y=a,i.errorRecoveryDisabledLanes&y)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var I=i;m=fd;var F=I.current.memoizedState.isDehydrated;if(F&&(gu(I,T).flags|=256),T=tv(I,T,!1),T!==2){if(Gy&&!F){I.errorRecoveryDisabledLanes|=y,el|=y,m=4;break e}y=gr,gr=m,y!==null&&(gr===null?gr=y:gr.push.apply(gr,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){gu(i,0),Ca(i,a,0,!0);break}e:{switch(c=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ca(c,a,ni,!Sa);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=Yy+300-kn(),10<m)){if(Ca(c,a,ni,!Sa),gs(c,0,!0)!==0)break e;c.timeoutHandle=WT(ET.bind(null,c,l,gr,np,Qy,a,ni,el,hu,Sa,y,2,-0,0),m);break e}ET(c,l,gr,np,Qy,a,ni,el,hu,Sa,y,0,-0,0)}}break}while(!0);qi(i)}function ET(i,a,l,c,m,y,T,I,F,ne,ue,he,re,se){if(i.timeoutHandle=-1,he=a.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(bd={stylesheets:null,count:0,unsuspend:MD},mT(a),he=VD(),he!==null)){i.cancelPendingCommit=he(IT.bind(null,i,a,y,l,c,m,T,I,F,ue,1,re,se)),Ca(i,y,T,!ne);return}IT(i,a,y,l,c,m,T,I,F)}function eD(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!xr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ca(i,a,l,c){a&=~Ky,a&=~el,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var y=31-on(m),T=1<<y;c[y]=-1,m&=~T}l!==0&&ir(i,l,a)}function rp(){return(Ut&6)===0?(pd(0),!1):!0}function Jy(){if(mt!==null){if(jt===0)var i=mt.return;else i=mt,Is=Qo=null,gy(i),lu=null,id=0,i=mt;for(;i!==null;)tT(i.alternate,i),i=i.return;mt=null}}function gu(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,vD(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Jy(),Gt=i,mt=l=Rs(i.current,null),Rt=a,jt=0,Ir=null,Sa=!1,fu=Hr(i,a),Gy=!1,hu=ni=Ky=el=xa=en=0,gr=fd=null,Qy=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-on(c),y=1<<m;a|=i[m],c&=~y}return Vs=a,xh(),l}function TT(i,a){lt=null,K.H=qh,a===Yc||a===Ph?(a=zw(),jt=3):a===Vw?(a=zw(),jt=4):jt=a===FE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ir=a,mt===null&&(en=1,Yh(i,Zr(a,i.current)))}function ST(){var i=K.H;return K.H=qh,i===null?qh:i}function xT(){var i=K.A;return K.A=XN,i}function ev(){en=4,Sa||(Rt&4194048)!==Rt&&ti.current!==null||(fu=!0),(xa&134217727)===0&&(el&134217727)===0||Gt===null||Ca(Gt,Rt,ni,!1)}function tv(i,a,l){var c=Ut;Ut|=2;var m=ST(),y=xT();(Gt!==i||Rt!==a)&&(np=null,gu(i,a)),a=!1;var T=en;e:do try{if(jt!==0&&mt!==null){var I=mt,F=Ir;switch(jt){case 8:Jy(),T=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(a=!0);var ne=jt;if(jt=0,Ir=null,yu(i,I,F,ne),l&&fu){T=0;break e}break;default:ne=jt,jt=0,Ir=null,yu(i,I,F,ne)}}tD(),T=en;break}catch(ue){TT(i,ue)}while(!0);return a&&i.shellSuspendCounter++,Is=Qo=null,Ut=c,K.H=m,K.A=y,mt===null&&(Gt=null,Rt=0,xh()),T}function tD(){for(;mt!==null;)RT(mt)}function nD(i,a){var l=Ut;Ut|=2;var c=ST(),m=xT();Gt!==i||Rt!==a?(np=null,tp=kn()+500,gu(i,a)):fu=Hr(i,a);e:do try{if(jt!==0&&mt!==null){a=mt;var y=Ir;t:switch(jt){case 1:jt=0,Ir=null,yu(i,a,y,1);break;case 2:case 9:if(Uw(y)){jt=0,Ir=null,AT(a);break}a=function(){jt!==2&&jt!==9||Gt!==i||(jt=7),qi(i)},y.then(a,a);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:Uw(y)?(jt=0,Ir=null,AT(a)):(jt=0,Ir=null,yu(i,a,y,7));break;case 5:var T=null;switch(mt.tag){case 26:T=mt.memoizedState;case 5:case 27:var I=mt;if(!T||lS(T)){jt=0,Ir=null;var F=I.sibling;if(F!==null)mt=F;else{var ne=I.return;ne!==null?(mt=ne,ip(ne)):mt=null}break t}}jt=0,Ir=null,yu(i,a,y,5);break;case 6:jt=0,Ir=null,yu(i,a,y,6);break;case 8:Jy(),en=6;break e;default:throw Error(r(462))}}rD();break}catch(ue){TT(i,ue)}while(!0);return Is=Qo=null,K.H=c,K.A=m,Ut=l,mt!==null?0:(Gt=null,Rt=0,xh(),en)}function rD(){for(;mt!==null&&!ps();)RT(mt)}function RT(i){var a=JE(i.alternate,i,Vs);i.memoizedProps=i.pendingProps,a===null?ip(i):mt=a}function AT(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=KE(l,a,a.pendingProps,a.type,void 0,Rt);break;case 11:a=KE(l,a,a.pendingProps,a.type.render,a.ref,Rt);break;case 5:gy(a);default:tT(l,a),a=mt=Cw(a,Vs),a=JE(l,a,Vs)}i.memoizedProps=i.pendingProps,a===null?ip(i):mt=a}function yu(i,a,l,c){Is=Qo=null,gy(a),lu=null,id=0;var m=a.return;try{if(GN(i,m,a,l,Rt)){en=1,Yh(i,Zr(l,i.current)),mt=null;return}}catch(y){if(m!==null)throw mt=m,y;en=1,Yh(i,Zr(l,i.current)),mt=null;return}a.flags&32768?(Nt||c===1?i=!0:fu||(Rt&536870912)!==0?i=!1:(Sa=i=!0,(c===2||c===9||c===3||c===6)&&(c=ti.current,c!==null&&c.tag===13&&(c.flags|=16384))),CT(a,i)):ip(a)}function ip(i){var a=i;do{if((a.flags&32768)!==0){CT(a,Sa);return}i=a.return;var l=QN(a.alternate,a,Vs);if(l!==null){mt=l;return}if(a=a.sibling,a!==null){mt=a;return}mt=a=i}while(a!==null);en===0&&(en=5)}function CT(i,a){do{var l=YN(i.alternate,i);if(l!==null){l.flags&=32767,mt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){mt=i;return}mt=i=l}while(i!==null);en=6,mt=null}function IT(i,a,l,c,m,y,T,I,F){i.cancelPendingCommit=null;do sp();while(Ln!==0);if((Ut&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=$g,ua(i,l,y,T,I,F),i===Gt&&(mt=Gt=null,Rt=0),pu=a,Aa=i,mu=l,Wy=y,Zy=m,_T=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oD(ms,function(){return PT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,m=le.p,le.p=2,T=Ut,Ut|=4;try{WN(i,a,l)}finally{Ut=T,le.p=m,K.T=c}}Ln=1,OT(),kT(),NT()}}function OT(){if(Ln===1){Ln=0;var i=Aa,a=pu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var c=le.p;le.p=2;var m=Ut;Ut|=4;try{fT(a,i);var y=hv,T=vw(i.containerInfo),I=y.focusedElem,F=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&yw(I.ownerDocument.documentElement,I)){if(F!==null&&zg(I)){var ne=F.start,ue=F.end;if(ue===void 0&&(ue=ne),"selectionStart"in I)I.selectionStart=ne,I.selectionEnd=Math.min(ue,I.value.length);else{var he=I.ownerDocument||document,re=he&&he.defaultView||window;if(re.getSelection){var se=re.getSelection(),Ye=I.textContent.length,Be=Math.min(F.start,Ye),Ht=F.end===void 0?Be:Math.min(F.end,Ye);!se.extend&&Be>Ht&&(T=Ht,Ht=Be,Be=T);var W=gw(I,Be),G=gw(I,Ht);if(W&&G&&(se.rangeCount!==1||se.anchorNode!==W.node||se.anchorOffset!==W.offset||se.focusNode!==G.node||se.focusOffset!==G.offset)){var J=he.createRange();J.setStart(W.node,W.offset),se.removeAllRanges(),Be>Ht?(se.addRange(J),se.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),se.addRange(J))}}}}for(he=[],se=I;se=se.parentNode;)se.nodeType===1&&he.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<he.length;I++){var ce=he[I];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}yp=!!fv,hv=fv=null}finally{Ut=m,le.p=c,K.T=l}}i.current=a,Ln=2}}function kT(){if(Ln===2){Ln=0;var i=Aa,a=pu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var c=le.p;le.p=2;var m=Ut;Ut|=4;try{lT(i,a.alternate,a)}finally{Ut=m,le.p=c,K.T=l}}Ln=3}}function NT(){if(Ln===4||Ln===3){Ln=0,ia();var i=Aa,a=pu,l=mu,c=_T;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ln=5:(Ln=0,pu=Aa=null,DT(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ra=null),ca(l),a=a.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(kt,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=K.T,m=le.p,le.p=2,K.T=null;try{for(var y=i.onRecoverableError,T=0;T<c.length;T++){var I=c[T];y(I.value,{componentStack:I.stack})}}finally{K.T=a,le.p=m}}(mu&3)!==0&&sp(),qi(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Xy?hd++:(hd=0,Xy=i):hd=0,pd(0)}}function DT(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Kc(a)))}function sp(i){return OT(),kT(),NT(),PT()}function PT(){if(Ln!==5)return!1;var i=Aa,a=Wy;Wy=0;var l=ca(mu),c=K.T,m=le.p;try{le.p=32>l?32:l,K.T=null,l=Zy,Zy=null;var y=Aa,T=mu;if(Ln=0,pu=Aa=null,mu=0,(Ut&6)!==0)throw Error(r(331));var I=Ut;if(Ut|=4,yT(y.current),pT(y,y.current,T,l),Ut=I,pd(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(kt,y)}catch{}return!0}finally{le.p=m,K.T=c,DT(i,a)}}function MT(i,a,l){a=Zr(l,a),a=Oy(i.stateNode,a,2),i=ya(i,a,2),i!==null&&(di(i,2),qi(i))}function $t(i,a,l){if(i.tag===3)MT(i,i,l);else for(;a!==null;){if(a.tag===3){MT(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ra===null||!Ra.has(c))){i=Zr(l,i),l=jE(2),c=ya(a,l,2),c!==null&&(zE(l,c,a,i),di(c,2),qi(c));break}}a=a.return}}function nv(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new JN;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(Gy=!0,m.add(l),i=iD.bind(null,i,a,l),a.then(i,i))}function iD(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Gt===i&&(Rt&l)===l&&(en===4||en===3&&(Rt&62914560)===Rt&&300>kn()-Yy?(Ut&2)===0&&gu(i,0):Ky|=l,hu===Rt&&(hu=0)),qi(i)}function LT(i,a){a===0&&(a=Io()),i=Xl(i,a),i!==null&&(di(i,a),qi(i))}function sD(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),LT(i,l)}function aD(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),LT(i,l)}function oD(i,a){return rr(i,a)}var ap=null,vu=null,rv=!1,op=!1,iv=!1,tl=0;function qi(i){i!==vu&&i.next===null&&(vu===null?ap=vu=i:vu=vu.next=i),op=!0,rv||(rv=!0,uD())}function pd(i,a){if(!iv&&op){iv=!0;do for(var l=!1,c=ap;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,I=c.pingedLanes;y=(1<<31-on(42|i)+1)-1,y&=m&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,zT(c,y))}else y=Rt,y=gs(c,c===Gt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Hr(c,y)||(l=!0,zT(c,y));c=c.next}while(l);iv=!1}}function lD(){VT()}function VT(){op=rv=!1;var i=0;tl!==0&&(yD()&&(i=tl),tl=0);for(var a=kn(),l=null,c=ap;c!==null;){var m=c.next,y=UT(c,a);y===0?(c.next=null,l===null?ap=m:l.next=m,m===null&&(vu=l)):(l=c,(i!==0||(y&3)!==0)&&(op=!0)),c=m}pd(i)}function UT(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var T=31-on(y),I=1<<T,F=m[T];F===-1?((I&l)===0||(I&c)!==0)&&(m[T]=la(I,a)):F<=a&&(i.expiredLanes|=I),y&=~I}if(a=Gt,l=Rt,l=gs(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(jt===2||jt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Sn(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Hr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Sn(c),ca(l)){case 2:case 8:l=sa;break;case 32:l=ms;break;case 268435456:l=Fr;break;default:l=ms}return c=jT.bind(null,i),l=rr(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Sn(c),i.callbackPriority=2,i.callbackNode=null,2}function jT(i,a){if(Ln!==0&&Ln!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(sp()&&i.callbackNode!==l)return null;var c=Rt;return c=gs(i,i===Gt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(wT(i,c,a),UT(i,kn()),i.callbackNode!=null&&i.callbackNode===l?jT.bind(null,i):null)}function zT(i,a){if(sp())return null;wT(i,a,!0)}function uD(){_D(function(){(Ut&6)!==0?rr(zr,lD):VT()})}function sv(){return tl===0&&(tl=ys()),tl}function FT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:zl(""+i)}function BT(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function cD(i,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=FT((m[ve]||null).action),T=c.submitter;T&&(a=(a=T[ve]||null)?FT(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var I=new Fl("action","action",null,c,m);i.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(tl!==0){var F=T?BT(m,T):new FormData(m);xy(l,{pending:!0,data:F,method:m.method,action:y},null,F)}}else typeof y=="function"&&(I.preventDefault(),F=T?BT(m,T):new FormData(m),xy(l,{pending:!0,data:F,method:m.method,action:y},y,F))},currentTarget:m}]})}}for(var av=0;av<qg.length;av++){var ov=qg[av],dD=ov.toLowerCase(),fD=ov[0].toUpperCase()+ov.slice(1);hi(dD,"on"+fD)}hi(ww,"onAnimationEnd"),hi(Ew,"onAnimationIteration"),hi(Tw,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(IN,"onTransitionRun"),hi(ON,"onTransitionStart"),hi(kN,"onTransitionCancel"),hi(Sw,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(md));function HT(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var T=c.length-1;0<=T;T--){var I=c[T],F=I.instance,ne=I.currentTarget;if(I=I.listener,F!==y&&m.isPropagationStopped())break e;y=I,m.currentTarget=ne;try{y(m)}catch(ue){Qh(ue)}m.currentTarget=null,y=F}else for(T=0;T<c.length;T++){if(I=c[T],F=I.instance,ne=I.currentTarget,I=I.listener,F!==y&&m.isPropagationStopped())break e;y=I,m.currentTarget=ne;try{y(m)}catch(ue){Qh(ue)}m.currentTarget=null,y=F}}}}function gt(i,a){var l=a[je];l===void 0&&(l=a[je]=new Set);var c=i+"__bubble";l.has(c)||(qT(a,i,2,!1),l.add(c))}function lv(i,a,l){var c=0;a&&(c|=4),qT(l,i,c,a)}var lp="_reactListening"+Math.random().toString(36).slice(2);function uv(i){if(!i[lp]){i[lp]=!0,dt.forEach(function(l){l!=="selectionchange"&&(hD.has(l)||lv(l,!1,i),lv(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[lp]||(a[lp]=!0,lv("selectionchange",!1,a))}}function qT(i,a,l,c){switch(pS(a)){case 2:var m=zD;break;case 8:m=FD;break;default:m=Tv}l=m.bind(null,a,l,i),m=void 0,!Yr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function cv(i,a,l,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var I=c.stateNode.containerInfo;if(I===m)break;if(T===4)for(T=c.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;I!==null;){if(T=qe(I),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){c=y=T;continue e}I=I.parentNode}}c=c.return}ch(function(){var ne=y,ue=Qr(l),he=[];e:{var re=xw.get(i);if(re!==void 0){var se=Fl,Ye=i;switch(i){case"keypress":if(Mi(l)===0)break e;case"keydown":case"keyup":se=Kl;break;case"focusin":Ye="focus",se=ql;break;case"focusout":Ye="blur",se=ql;break;case"beforeblur":case"afterblur":se=ql;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=vh;break;case ww:case Ew:case Tw:se=$l;break;case Sw:se=bh;break;case"scroll":case"scrollend":se=dh;break;case"wheel":se=Ql;break;case"copy":case"cut":case"paste":se=Gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=jc;break;case"toggle":case"beforetoggle":se=Eh}var Be=(a&4)!==0,Ht=!Be&&(i==="scroll"||i==="scrollend"),W=Be?re!==null?re+"Capture":null:re;Be=[];for(var G=ne,J;G!==null;){var ce=G;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||W===null||(ce=Po(G,W),ce!=null&&Be.push(gd(G,ce,J))),Ht)break;G=G.return}0<Be.length&&(re=new se(re,Ye,null,l,ue),he.push({event:re,listeners:Be}))}}if((a&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",re&&l!==bs&&(Ye=l.relatedTarget||l.fromElement)&&(qe(Ye)||Ye[xe]))break e;if((se||re)&&(re=ue.window===ue?ue:(re=ue.ownerDocument)?re.defaultView||re.parentWindow:window,se?(Ye=l.relatedTarget||l.toElement,se=ne,Ye=Ye?qe(Ye):null,Ye!==null&&(Ht=o(Ye),Be=Ye.tag,Ye!==Ht||Be!==5&&Be!==27&&Be!==6)&&(Ye=null)):(se=null,Ye=ne),se!==Ye)){if(Be=Wr,ce="onMouseLeave",W="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Be=jc,ce="onPointerLeave",W="onPointerEnter",G="pointer"),Ht=se==null?re:Pt(se),J=Ye==null?re:Pt(Ye),re=new Be(ce,G+"leave",se,l,ue),re.target=Ht,re.relatedTarget=J,ce=null,qe(ue)===ne&&(Be=new Be(W,G+"enter",Ye,l,ue),Be.target=J,Be.relatedTarget=Ht,ce=Be),Ht=ce,se&&Ye)t:{for(Be=se,W=Ye,G=0,J=Be;J;J=_u(J))G++;for(J=0,ce=W;ce;ce=_u(ce))J++;for(;0<G-J;)Be=_u(Be),G--;for(;0<J-G;)W=_u(W),J--;for(;G--;){if(Be===W||W!==null&&Be===W.alternate)break t;Be=_u(Be),W=_u(W)}Be=null}else Be=null;se!==null&&$T(he,re,se,Be,!1),Ye!==null&&Ht!==null&&$T(he,Ht,Ye,Be,!0)}}e:{if(re=ne?Pt(ne):window,se=re.nodeName&&re.nodeName.toLowerCase(),se==="select"||se==="input"&&re.type==="file")var Ie=cw;else if(gn(re))if(dw)Ie=RN;else{Ie=SN;var ft=TN}else se=re.nodeName,!se||se.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&Nc(ne.elementType)&&(Ie=cw):Ie=xN;if(Ie&&(Ie=Ie(i,ne))){xs(he,Ie,l,ue);break e}ft&&ft(i,re,ne),i==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&fa(re,"number",re.value)}switch(ft=ne?Pt(ne):window,i){case"focusin":(gn(ft)||ft.contentEditable==="true")&&(Yl=ft,Fg=ne,Bc=null);break;case"focusout":Bc=Fg=Yl=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,_w(he,l,ue);break;case"selectionchange":if(CN)break;case"keydown":case"keyup":_w(he,l,ue)}var Ve;if(Ui)e:{switch(i){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else St?ae(i,l)&&($e="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(E&&l.locale!=="ko"&&(St||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&St&&(Ve=Pc()):(Pi=ue,ha="value"in Pi?Pi.value:Pi.textContent,St=!0)),ft=up(ne,$e),0<ft.length&&($e=new Vc($e,i,null,l,ue),he.push({event:$e,listeners:ft}),Ve?$e.data=Ve:(Ve=be(l),Ve!==null&&($e.data=Ve)))),(Ve=b?mn(i,l):xt(i,l))&&($e=up(ne,"onBeforeInput"),0<$e.length&&(ft=new Vc("onBeforeInput","beforeinput",null,l,ue),he.push({event:ft,listeners:$e}),ft.data=Ve)),cD(he,i,ne,l,ue)}HT(he,a)})}function gd(i,a,l){return{instance:i,listener:a,currentTarget:l}}function up(i,a){for(var l=a+"Capture",c=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Po(i,l),m!=null&&c.unshift(gd(i,m,y)),m=Po(i,a),m!=null&&c.push(gd(i,m,y))),i.tag===3)return c;i=i.return}return[]}function _u(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $T(i,a,l,c,m){for(var y=a._reactName,T=[];l!==null&&l!==c;){var I=l,F=I.alternate,ne=I.stateNode;if(I=I.tag,F!==null&&F===c)break;I!==5&&I!==26&&I!==27||ne===null||(F=ne,m?(ne=Po(l,y),ne!=null&&T.unshift(gd(l,ne,F))):m||(ne=Po(l,y),ne!=null&&T.push(gd(l,ne,F)))),l=l.return}T.length!==0&&i.push({event:a,listeners:T})}var pD=/\r\n?/g,mD=/\u0000|\uFFFD/g;function GT(i){return(typeof i=="string"?i:""+i).replace(pD,`
`).replace(mD,"")}function KT(i,a){return a=GT(a),GT(i)===a}function cp(){}function Bt(i,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Kr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Kr(i,""+c);break;case"className":ar(i,"class",c);break;case"tabIndex":ar(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(i,l,c);break;case"style":kc(i,c,y);break;case"data":if(a!=="object"){ar(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=zl(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Bt(i,a,"name",m.name,m,null),Bt(i,a,"formEncType",m.formEncType,m,null),Bt(i,a,"formMethod",m.formMethod,m,null),Bt(i,a,"formTarget",m.formTarget,m,null)):(Bt(i,a,"encType",m.encType,m,null),Bt(i,a,"method",m.method,m,null),Bt(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=zl(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=cp);break;case"onScroll":c!=null&&gt("scroll",i);break;case"onScrollEnd":c!=null&&gt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=zl(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":gt("beforetoggle",i),gt("toggle",i),qn(i,"popover",c);break;case"xlinkActuate":Je(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Je(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Je(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Je(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Je(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Je(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Je(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Je(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Je(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qn(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Pg.get(l)||l,qn(i,l,c))}}function dv(i,a,l,c,m,y){switch(l){case"style":kc(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Kr(i,c):(typeof c=="number"||typeof c=="bigint")&&Kr(i,""+c);break;case"onScroll":c!=null&&gt("scroll",i);break;case"onScrollEnd":c!=null&&gt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=cp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=i[ve]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):qn(i,l,c)}}}function Vn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",i),gt("load",i);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Bt(i,a,y,T,l,null)}}m&&Bt(i,a,"srcSet",l.srcSet,l,null),c&&Bt(i,a,"src",l.src,l,null);return;case"input":gt("invalid",i);var I=y=T=m=null,F=null,ne=null;for(c in l)if(l.hasOwnProperty(c)){var ue=l[c];if(ue!=null)switch(c){case"name":m=ue;break;case"type":T=ue;break;case"checked":F=ue;break;case"defaultChecked":ne=ue;break;case"value":y=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,a));break;default:Bt(i,a,c,ue,l,null)}}ko(i,y,I,F,ne,T,m,!1),jl(i);return;case"select":gt("invalid",i),c=T=y=null;for(m in l)if(l.hasOwnProperty(m)&&(I=l[m],I!=null))switch(m){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":c=I;default:Bt(i,a,m,I,l,null)}a=y,l=T,i.multiple=!!c,a!=null?_s(i,!!c,a,!1):l!=null&&_s(i,!!c,l,!0);return;case"textarea":gt("invalid",i),y=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(I=l[T],I!=null))switch(T){case"value":c=I;break;case"defaultValue":m=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Bt(i,a,T,I,l,null)}No(i,c,m,y),jl(i);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Bt(i,a,F,c,l,null)}return;case"dialog":gt("beforetoggle",i),gt("toggle",i),gt("cancel",i),gt("close",i);break;case"iframe":case"object":gt("load",i);break;case"video":case"audio":for(c=0;c<md.length;c++)gt(md[c],i);break;case"image":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"embed":case"source":case"link":gt("error",i),gt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(c=l[ne],c!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Bt(i,a,ne,c,l,null)}return;default:if(Nc(a)){for(ue in l)l.hasOwnProperty(ue)&&(c=l[ue],c!==void 0&&dv(i,a,ue,c,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(c=l[I],c!=null&&Bt(i,a,I,c,l,null))}function gD(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,I=null,F=null,ne=null,ue=null;for(se in l){var he=l[se];if(l.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":F=he;default:c.hasOwnProperty(se)||Bt(i,a,se,null,c,he)}}for(var re in c){var se=c[re];if(he=l[re],c.hasOwnProperty(re)&&(se!=null||he!=null))switch(re){case"type":y=se;break;case"name":m=se;break;case"checked":ne=se;break;case"defaultChecked":ue=se;break;case"value":T=se;break;case"defaultValue":I=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,a));break;default:se!==he&&Bt(i,a,re,se,c,he)}}Sr(i,T,I,F,ne,ue,y,m);return;case"select":se=T=I=re=null;for(y in l)if(F=l[y],l.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":se=F;default:c.hasOwnProperty(y)||Bt(i,a,y,null,c,F)}for(m in c)if(y=c[m],F=l[m],c.hasOwnProperty(m)&&(y!=null||F!=null))switch(m){case"value":re=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==F&&Bt(i,a,m,y,c,F)}a=I,l=T,c=se,re!=null?_s(i,!!l,re,!1):!!c!=!!l&&(a!=null?_s(i,!!l,a,!0):_s(i,!!l,l?[]:"",!1));return;case"textarea":se=re=null;for(I in l)if(m=l[I],l.hasOwnProperty(I)&&m!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Bt(i,a,I,null,c,m)}for(T in c)if(m=c[T],y=l[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":re=m;break;case"defaultValue":se=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&Bt(i,a,T,m,c,y)}zt(i,re,se);return;case"option":for(var Ye in l)if(re=l[Ye],l.hasOwnProperty(Ye)&&re!=null&&!c.hasOwnProperty(Ye))switch(Ye){case"selected":i.selected=!1;break;default:Bt(i,a,Ye,null,c,re)}for(F in c)if(re=c[F],se=l[F],c.hasOwnProperty(F)&&re!==se&&(re!=null||se!=null))switch(F){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Bt(i,a,F,re,c,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)re=l[Be],l.hasOwnProperty(Be)&&re!=null&&!c.hasOwnProperty(Be)&&Bt(i,a,Be,null,c,re);for(ne in c)if(re=c[ne],se=l[ne],c.hasOwnProperty(ne)&&re!==se&&(re!=null||se!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:Bt(i,a,ne,re,c,se)}return;default:if(Nc(a)){for(var Ht in l)re=l[Ht],l.hasOwnProperty(Ht)&&re!==void 0&&!c.hasOwnProperty(Ht)&&dv(i,a,Ht,void 0,c,re);for(ue in c)re=c[ue],se=l[ue],!c.hasOwnProperty(ue)||re===se||re===void 0&&se===void 0||dv(i,a,ue,re,c,se);return}}for(var W in l)re=l[W],l.hasOwnProperty(W)&&re!=null&&!c.hasOwnProperty(W)&&Bt(i,a,W,null,c,re);for(he in c)re=c[he],se=l[he],!c.hasOwnProperty(he)||re===se||re==null&&se==null||Bt(i,a,he,re,c,se)}var fv=null,hv=null;function dp(i){return i.nodeType===9?i:i.ownerDocument}function QT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YT(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function pv(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mv=null;function yD(){var i=window.event;return i&&i.type==="popstate"?i===mv?!1:(mv=i,!0):(mv=null,!1)}var WT=typeof setTimeout=="function"?setTimeout:void 0,vD=typeof clearTimeout=="function"?clearTimeout:void 0,ZT=typeof Promise=="function"?Promise:void 0,_D=typeof queueMicrotask=="function"?queueMicrotask:typeof ZT<"u"?function(i){return ZT.resolve(null).then(i).catch(bD)}:WT;function bD(i){setTimeout(function(){throw i})}function Ia(i){return i==="head"}function XT(i,a){var l=a,c=0,m=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=i.ownerDocument;if(l&1&&yd(T.documentElement),l&2&&yd(T.body),l&4)for(l=T.head,yd(l),T=l.firstChild;T;){var I=T.nextSibling,F=T.nodeName;T[Fe]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=I}}if(m===0){i.removeChild(y),xd(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);xd(a)}function gv(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":gv(l),Pe(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function wD(i,a,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Fe])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=mi(i.nextSibling),i===null)break}return null}function ED(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=mi(i.nextSibling),i===null))return null;return i}function yv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function TD(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function mi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var vv=null;function JT(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function eS(i,a,l){switch(a=dp(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function yd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Pe(i)}var ri=new Map,tS=new Set;function fp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Us=le.d;le.d={f:SD,r:xD,D:RD,C:AD,L:CD,m:ID,X:kD,S:OD,M:ND};function SD(){var i=Us.f(),a=rp();return i||a}function xD(i){var a=pt(i);a!==null&&a.tag===5&&a.type==="form"?wE(a):Us.r(i)}var bu=typeof document>"u"?null:document;function nS(i,a,l){var c=bu;if(c&&typeof a=="string"&&a){var m=un(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),tS.has(m)||(tS.add(m),i={rel:i,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Vn(a,"link",i),wt(a),c.head.appendChild(a)))}}function RD(i){Us.D(i),nS("dns-prefetch",i,null)}function AD(i,a){Us.C(i,a),nS("preconnect",i,a)}function CD(i,a,l){Us.L(i,a,l);var c=bu;if(c&&i&&a){var m='link[rel="preload"][as="'+un(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+un(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+un(l.imageSizes)+'"]')):m+='[href="'+un(i)+'"]';var y=m;switch(a){case"style":y=wu(i);break;case"script":y=Eu(i)}ri.has(y)||(i=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),ri.set(y,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(vd(y))||a==="script"&&c.querySelector(_d(y))||(a=c.createElement("link"),Vn(a,"link",i),wt(a),c.head.appendChild(a)))}}function ID(i,a){Us.m(i,a);var l=bu;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+un(c)+'"][href="'+un(i)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Eu(i)}if(!ri.has(y)&&(i=g({rel:"modulepreload",href:i},a),ri.set(y,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_d(y)))return}c=l.createElement("link"),Vn(c,"link",i),wt(c),l.head.appendChild(c)}}}function OD(i,a,l){Us.S(i,a,l);var c=bu;if(c&&i){var m=It(c).hoistableStyles,y=wu(i);a=a||"default";var T=m.get(y);if(!T){var I={loading:0,preload:null};if(T=c.querySelector(vd(y)))I.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},l),(l=ri.get(y))&&_v(i,l);var F=T=c.createElement("link");wt(F),Vn(F,"link",i),F._p=new Promise(function(ne,ue){F.onload=ne,F.onerror=ue}),F.addEventListener("load",function(){I.loading|=1}),F.addEventListener("error",function(){I.loading|=2}),I.loading|=4,hp(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:I},m.set(y,T)}}}function kD(i,a){Us.X(i,a);var l=bu;if(l&&i){var c=It(l).hoistableScripts,m=Eu(i),y=c.get(m);y||(y=l.querySelector(_d(m)),y||(i=g({src:i,async:!0},a),(a=ri.get(m))&&bv(i,a),y=l.createElement("script"),wt(y),Vn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function ND(i,a){Us.M(i,a);var l=bu;if(l&&i){var c=It(l).hoistableScripts,m=Eu(i),y=c.get(m);y||(y=l.querySelector(_d(m)),y||(i=g({src:i,async:!0,type:"module"},a),(a=ri.get(m))&&bv(i,a),y=l.createElement("script"),wt(y),Vn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function rS(i,a,l,c){var m=(m=Ce.current)?fp(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=wu(l.href),l=It(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=wu(l.href);var y=It(m).hoistableStyles,T=y.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,T),(y=m.querySelector(vd(i)))&&!y._p&&(T.instance=y,T.state.loading=5),ri.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ri.set(i,l),y||DD(m,i,l,T.state))),a&&c===null)throw Error(r(528,""));return T}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Eu(l),l=It(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function wu(i){return'href="'+un(i)+'"'}function vd(i){return'link[rel="stylesheet"]['+i+"]"}function iS(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function DD(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Vn(a,"link",l),wt(a),i.head.appendChild(a))}function Eu(i){return'[src="'+un(i)+'"]'}function _d(i){return"script[async]"+i}function sS(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+un(l.href)+'"]');if(c)return a.instance=c,wt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),wt(c),Vn(c,"style",m),hp(c,l.precedence,i),a.instance=c;case"stylesheet":m=wu(l.href);var y=i.querySelector(vd(m));if(y)return a.state.loading|=4,a.instance=y,wt(y),y;c=iS(l),(m=ri.get(m))&&_v(c,m),y=(i.ownerDocument||i).createElement("link"),wt(y);var T=y;return T._p=new Promise(function(I,F){T.onload=I,T.onerror=F}),Vn(y,"link",c),a.state.loading|=4,hp(y,l.precedence,i),a.instance=y;case"script":return y=Eu(l.src),(m=i.querySelector(_d(y)))?(a.instance=m,wt(m),m):(c=l,(m=ri.get(y))&&(c=g({},l),bv(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),wt(m),Vn(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,hp(c,l.precedence,i));return a.instance}function hp(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var I=c[T];if(I.dataset.precedence===a)y=I;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function _v(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function bv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var pp=null;function aS(i,a,l){if(pp===null){var c=new Map,m=pp=new Map;m.set(l,c)}else m=pp,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var y=l[m];if(!(y[Fe]||y[fe]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=i+T;var I=c.get(T);I?I.push(y):c.set(T,[y])}}return c}function oS(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function PD(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function lS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var bd=null;function MD(){}function LD(i,a,l){if(bd===null)throw Error(r(475));var c=bd;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=wu(l.href),y=i.querySelector(vd(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=mp.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=y,wt(y);return}y=i.ownerDocument||i,l=iS(l),(m=ri.get(m))&&_v(l,m),y=y.createElement("link"),wt(y);var T=y;T._p=new Promise(function(I,F){T.onload=I,T.onerror=F}),Vn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=mp.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function VD(){if(bd===null)throw Error(r(475));var i=bd;return i.stylesheets&&i.count===0&&wv(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&wv(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function mp(){if(this.count--,this.count===0){if(this.stylesheets)wv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gp=null;function wv(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gp=new Map,a.forEach(UD,i),gp=null,mp.call(i))}function UD(i,a){if(!(a.state.loading&4)){var l=gp.get(i);if(l)var c=l.get(null);else{l=new Map,gp.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=a.instance,T=m.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,m),l.set(T,m),this.count++,c=mp.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var wd={$$typeof:j,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function jD(i,a,l,c,m,y,T,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.hiddenUpdates=qr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function uS(i,a,l,c,m,y,T,I,F,ne,ue,he){return i=new jD(i,a,l,T,I,F,ne,he),a=1,y===!0&&(a|=24),y=Rr(3,null,null,a),i.current=y,y.stateNode=i,a=ny(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},ay(y),i}function cS(i){return i?(i=Jl,i):Jl}function dS(i,a,l,c,m,y){m=cS(m),c.context===null?c.context=m:c.pendingContext=m,c=ga(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=ya(i,c,a),l!==null&&(kr(l,i,a),Zc(l,i,a))}function fS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Ev(i,a){fS(i,a),(i=i.alternate)&&fS(i,a)}function hS(i){if(i.tag===13){var a=Xl(i,67108864);a!==null&&kr(a,i,67108864),Ev(i,67108864)}}var yp=!0;function zD(i,a,l,c){var m=K.T;K.T=null;var y=le.p;try{le.p=2,Tv(i,a,l,c)}finally{le.p=y,K.T=m}}function FD(i,a,l,c){var m=K.T;K.T=null;var y=le.p;try{le.p=8,Tv(i,a,l,c)}finally{le.p=y,K.T=m}}function Tv(i,a,l,c){if(yp){var m=Sv(c);if(m===null)cv(i,a,c,vp,l),mS(i,c);else if(HD(m,i,a,l,c))c.stopPropagation();else if(mS(i,c),a&4&&-1<BD.indexOf(i)){for(;m!==null;){var y=pt(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=wr(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var F=1<<31-on(T);I.entanglements[1]|=F,T&=~F}qi(y),(Ut&6)===0&&(tp=kn()+500,pd(0))}}break;case 13:I=Xl(y,2),I!==null&&kr(I,y,2),rp(),Ev(y,2)}if(y=Sv(c),y===null&&cv(i,a,c,vp,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else cv(i,a,c,null,l)}}function Sv(i){return i=Qr(i),xv(i)}var vp=null;function xv(i){if(vp=null,i=qe(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return vp=i,null}function pS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Co()){case zr:return 2;case sa:return 8;case ms:case ci:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var Rv=!1,Oa=null,ka=null,Na=null,Ed=new Map,Td=new Map,Da=[],BD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mS(i,a){switch(i){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":Ed.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Td.delete(a.pointerId)}}function Sd(i,a,l,c,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=pt(a),a!==null&&hS(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function HD(i,a,l,c,m){switch(a){case"focusin":return Oa=Sd(Oa,i,a,l,c,m),!0;case"dragenter":return ka=Sd(ka,i,a,l,c,m),!0;case"mouseover":return Na=Sd(Na,i,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return Ed.set(y,Sd(Ed.get(y)||null,i,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Td.set(y,Sd(Td.get(y)||null,i,a,l,c,m)),!0}return!1}function gS(i){var a=qe(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,Z(i.priority,function(){if(l.tag===13){var c=Or();c=Oi(c);var m=Xl(l,c);m!==null&&kr(m,l,c),Ev(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _p(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Sv(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);bs=c,l.target.dispatchEvent(c),bs=null}else return a=pt(l),a!==null&&hS(a),i.blockedOn=l,!1;a.shift()}return!0}function yS(i,a,l){_p(i)&&l.delete(a)}function qD(){Rv=!1,Oa!==null&&_p(Oa)&&(Oa=null),ka!==null&&_p(ka)&&(ka=null),Na!==null&&_p(Na)&&(Na=null),Ed.forEach(yS),Td.forEach(yS)}function bp(i,a){i.blockedOn===a&&(i.blockedOn=null,Rv||(Rv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qD)))}var wp=null;function vS(i){wp!==i&&(wp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wp===i&&(wp=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(xv(c||l)===null)continue;break}var y=pt(l);y!==null&&(i.splice(a,3),a-=3,xy(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function xd(i){function a(F){return bp(F,i)}Oa!==null&&bp(Oa,i),ka!==null&&bp(ka,i),Na!==null&&bp(Na,i),Ed.forEach(a),Td.forEach(a);for(var l=0;l<Da.length;l++){var c=Da[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Da.length&&(l=Da[0],l.blockedOn===null);)gS(l),l.blockedOn===null&&Da.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],T=m[ve]||null;if(typeof y=="function")T||vS(l);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[ve]||null)I=T.formAction;else if(xv(m)!==null)continue}else I=T.action;typeof I=="function"?l[c+1]=I:(l.splice(c,3),c-=3),vS(l)}}}function Av(i){this._internalRoot=i}Ep.prototype.render=Av.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Or();dS(l,c,i,a,null,null)},Ep.prototype.unmount=Av.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;dS(i.current,2,null,i,null,null),rp(),a[xe]=null}};function Ep(i){this._internalRoot=i}Ep.prototype.unstable_scheduleHydration=function(i){if(i){var a=q();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Da.length&&a!==0&&a<Da[l].priority;l++);Da.splice(l,0,i),l===0&&gS(i)}};var _S=e.version;if(_S!=="19.1.0")throw Error(r(527,_S,"19.1.0"));le.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var $D={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{kt=Tp.inject($D),ot=Tp}catch{}}return Ad.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",m=ME,y=LE,T=VE,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=uS(i,1,!1,null,null,l,c,m,y,T,I,null),i[xe]=a.current,uv(i),new Av(a)},Ad.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,m="",y=ME,T=LE,I=VE,F=null,ne=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(ne=l.formState)),a=uS(i,1,!0,a,l??null,c,m,y,T,I,F,ne),a.context=cS(null),l=a.current,c=Or(),c=Oi(c),m=ga(c),m.callback=null,ya(l,m,c),l=c,a.current.lanes=l,di(a,l),qi(a),i[xe]=a.current,uv(i),new Ep(a)},Ad.version="19.1.0",Ad}var OS;function rP(){if(OS)return kv.exports;OS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kv.exports=nP(),kv.exports}var iP=rP(),Cd={},kS;function sP(){if(kS)return Cd;kS=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.parse=u,Cd.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,w){const S=new o,R=_.length;if(R<2)return S;const C=(w==null?void 0:w.decode)||g;let D=0;do{const B=_.indexOf("=",D);if(B===-1)break;const j=_.indexOf(";",D),$=j===-1?R:j;if(B>$){D=_.lastIndexOf(";",B-1)+1;continue}const Q=d(_,D,B),U=f(_,B,Q),P=_.slice(Q,U);if(S[P]===void 0){let A=d(_,B+1,$),O=f(_,$,A);const M=C(_.slice(A,O));S[P]=M}D=$+1}while(D<R);return S}function d(_,w,S){do{const R=_.charCodeAt(w);if(R!==32&&R!==9)return w}while(++w<S);return S}function f(_,w,S){for(;w>S;){const R=_.charCodeAt(--w);if(R!==32&&R!==9)return w+1}return S}function h(_,w,S){const R=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const C=R(w);if(!e.test(C))throw new TypeError(`argument val is invalid: ${w}`);let D=_+"="+C;if(!S)return D;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);D+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);D+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);D+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);D+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(D+="; HttpOnly"),S.secure&&(D+="; Secure"),S.partitioned&&(D+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return D}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return s.call(_)==="[object Date]"}return Cd}sP();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JA=n=>{throw TypeError(n)},aP=(n,e,t)=>e.has(n)||JA("Cannot "+t),Mv=(n,e,t)=>(aP(n,e,"read from private field"),t?t.call(n):e.get(n)),oP=(n,e,t)=>e.has(n)?JA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),NS="popstate";function lP(n={}){function e(r,s){let{pathname:o,search:u,hash:d}=r.location;return Jd("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:so(s)}return cP(e,t,null,n)}function yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uP(){return Math.random().toString(36).substring(2,10)}function DS(n,e){return{usr:n.state,key:n.key,idx:e}}function Jd(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:t,key:e&&e.key||r||uP()}}function so({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function cP(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,d="POP",f=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function v(){d="POP";let C=g(),D=C==null?null:C-h;h=C,f&&f({action:d,location:R.location,delta:D})}function _(C,D){d="PUSH";let B=Jd(R.location,C,D);h=g()+1;let j=DS(B,h),$=R.createHref(B);try{u.pushState(j,"",$)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign($)}o&&f&&f({action:d,location:R.location,delta:1})}function w(C,D){d="REPLACE";let B=Jd(R.location,C,D);h=g();let j=DS(B,h),$=R.createHref(B);u.replaceState(j,"",$),o&&f&&f({action:d,location:R.location,delta:0})}function S(C){return eC(C)}let R={get action(){return d},get location(){return n(s,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(NS,v),f=C,()=>{s.removeEventListener(NS,v),f=null}},createHref(C){return e(s,C)},createURL:S,encodeLocation(C){let D=S(C);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:w,go(C){return u.go(C)}};return R}function eC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),yt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:so(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var Md,PS=class{constructor(n){if(oP(this,Md,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Mv(this,Md).has(n))return Mv(this,Md).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Mv(this,Md).set(n,e)}};Md=new WeakMap;var dP=new Set(["lazy","caseSensitive","path","id","index","children"]);function fP(n){return dP.has(n)}var hP=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function pP(n){return hP.has(n)}function mP(n){return n.index===!0}function sm(n,e,t=[],r={}){return n.map((s,o)=>{let u=[...t,String(o)],d=typeof s.id=="string"?s.id:u.join("-");if(yt(s.index!==!0||!s.children,"Cannot specify children on an index route"),yt(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),mP(s)){let f={...s,...e(s),id:d};return r[d]=f,f}else{let f={...s,...e(s),id:d,children:void 0};return r[d]=f,s.children&&(f.children=sm(s.children,e,u,r)),f}})}function za(n,e,t="/"){return Hp(n,e,t,!1)}function Hp(n,e,t,r){let s=typeof e=="string"?wo(e):e,o=li(s.pathname||"/",t);if(o==null)return null;let u=tC(n);yP(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=CP(o);d=RP(u[f],h,r)}return d}function gP(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function tC(n,e=[],t=[],r=""){let s=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(yt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=Xi([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(yt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),tC(o.children,e,g,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:SP(h,o.index),routesMeta:g})};return n.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,u);else for(let f of nC(o.path))s(o,u,f)}),e}function nC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=nC(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function yP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var vP=/^:[\w-]+$/,_P=3,bP=2,wP=1,EP=10,TP=-2,MS=n=>n==="*";function SP(n,e){let t=n.split("/"),r=t.length;return t.some(MS)&&(r+=TP),e&&(r+=bP),t.filter(s=>!MS(s)).reduce((s,o)=>s+(vP.test(o)?_P:o===""?wP:EP),r)}function xP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function RP(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=am({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),_=f.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=am({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Xi([o,v.pathname]),pathnameBase:kP(Xi([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=Xi([o,v.pathnameBase]))}return u}function am(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=AP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:v},_)=>{if(g==="*"){let S=d[_]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[_];return v&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:n}}function AP(n,e=!1,t=!0){hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function CP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function li(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function IP(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?wo(n):n;return{pathname:t?t.startsWith("/")?t:OP(t,e):e,search:NP(r),hash:DP(s)}}function OP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Lv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function N0(n){let e=rC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function D0(n,e,t,r=!1){let s;typeof n=="string"?s=wo(n):(s={...n},yt(!s.pathname||!s.pathname.includes("?"),Lv("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),Lv("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),Lv("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}d=v>=0?e[v]:"/"}let f=IP(s,d),h=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var Xi=n=>n.join("/").replace(/\/\/+/g,"/"),kP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,om=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function ef(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var iC=["POST","PUT","PATCH","DELETE"],PP=new Set(iC),MP=["GET",...iC],LP=new Set(MP),VP=new Set([301,302,303,307,308]),UP=new Set([307,308]),Vv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Id={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},P0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zP=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),sC="remix-router-transitions",aC=Symbol("ResetLoaderData");function FP(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";yt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],s=n.mapRouteProperties||zP,o={},u=sm(n.routes,s,void 0,o),d,f=n.basename||"/",h=n.dataStrategy||GP,g={unstable_middleware:!1,...n.future},v=null,_=new Set,w=null,S=null,R=null,C=n.hydrationData!=null,D=za(u,n.history.location,f),B=!1,j=null,$;if(D==null&&!n.patchRoutesOnNavigation){let q=si(404,{pathname:n.history.location.pathname}),{matches:Z,route:ee}=KS(u);$=!0,D=Z,j={[ee.id]:q}}else if(D&&!n.hydrationData&&ir(D,u,n.history.location.pathname).active&&(D=null),D)if(D.some(q=>q.route.lazy))$=!1;else if(!D.some(q=>q.route.loader))$=!0;else{let q=n.hydrationData?n.hydrationData.loaderData:null,Z=n.hydrationData?n.hydrationData.errors:null;if(Z){let ee=D.findIndex(fe=>Z[fe.route.id]!==void 0);$=D.slice(0,ee+1).every(fe=>!__(fe.route,q,Z))}else $=D.every(ee=>!__(ee.route,q,Z))}else{$=!1,D=[];let q=ir(null,u,n.history.location.pathname);q.active&&q.matches&&(B=!0,D=q.matches)}let Q,U={historyAction:n.history.action,location:n.history.location,matches:D,initialized:$,navigation:Vv,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||j,fetchers:new Map,blockers:new Map},P="POP",A=!1,O,M=!1,z=new Map,H=null,L=!1,we=!1,Ee=new Set,K=new Map,le=0,te=-1,de=new Map,V=new Set,ie=new Map,pe=new Map,oe=new Set,_e=new Map,Ue,Ce=null;function Ge(){if(v=n.history.listen(({action:q,location:Z,delta:ee})=>{if(Ue){Ue(),Ue=void 0;return}hn(_e.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=la({currentLocation:U.location,nextLocation:Z,historyAction:q});if(fe&&ee!=null){let ve=new Promise(xe=>{Ue=xe});n.history.go(ee*-1),Hr(fe,{state:"blocked",location:Z,proceed(){Hr(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),ve.then(()=>n.history.go(ee))},reset(){let xe=new Map(U.blockers);xe.set(fe,Id),bt({blockers:xe})}});return}return Sn(q,Z)}),t){rM(e,z);let q=()=>iM(e,z);e.addEventListener("pagehide",q),H=()=>e.removeEventListener("pagehide",q)}return U.initialized||Sn("POP",U.location,{initialHydration:!0}),Q}function ht(){v&&v(),H&&H(),_.clear(),O&&O.abort(),U.fetchers.forEach((q,Z)=>on(Z)),U.blockers.forEach((q,Z)=>gs(Z))}function Dt(q){return _.add(q),()=>_.delete(q)}function bt(q,Z={}){U={...U,...q};let ee=[],fe=[];U.fetchers.forEach((ve,xe)=>{ve.state==="idle"&&(oe.has(xe)?ee.push(xe):fe.push(xe))}),oe.forEach(ve=>{!U.fetchers.has(ve)&&!K.has(ve)&&ee.push(ve)}),[..._].forEach(ve=>ve(U,{deletedFetchers:ee,viewTransitionOpts:Z.viewTransitionOpts,flushSync:Z.flushSync===!0})),ee.forEach(ve=>on(ve)),fe.forEach(ve=>U.fetchers.delete(ve))}function Yt(q,Z,{flushSync:ee}={}){var Le,Fe;let fe=U.actionData!=null&&U.navigation.formMethod!=null&&Dr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((Le=q.state)==null?void 0:Le._isRedirect)!==!0,ve;Z.actionData?Object.keys(Z.actionData).length>0?ve=Z.actionData:ve=null:fe?ve=U.actionData:ve=null;let xe=Z.loaderData?$S(U.loaderData,Z.loaderData,Z.matches||[],Z.errors):U.loaderData,je=U.blockers;je.size>0&&(je=new Map(je),je.forEach((Pe,qe)=>je.set(qe,Id)));let Ae=A===!0||U.navigation.formMethod!=null&&Dr(U.navigation.formMethod)&&((Fe=q.state)==null?void 0:Fe._isRedirect)!==!0;d&&(u=d,d=void 0),L||P==="POP"||(P==="PUSH"?n.history.push(q,q.state):P==="REPLACE"&&n.history.replace(q,q.state));let De;if(P==="POP"){let Pe=z.get(U.location.pathname);Pe&&Pe.has(q.pathname)?De={currentLocation:U.location,nextLocation:q}:z.has(q.pathname)&&(De={currentLocation:q,nextLocation:U.location})}else if(M){let Pe=z.get(U.location.pathname);Pe?Pe.add(q.pathname):(Pe=new Set([q.pathname]),z.set(U.location.pathname,Pe)),De={currentLocation:U.location,nextLocation:q}}bt({...Z,actionData:ve,loaderData:xe,historyAction:P,location:q,initialized:!0,navigation:Vv,revalidation:"idle",restoreScrollPosition:ua(q,Z.matches||U.matches),preventScrollReset:Ae,blockers:je},{viewTransitionOpts:De,flushSync:ee===!0}),P="POP",A=!1,M=!1,L=!1,we=!1,Ce==null||Ce.resolve(),Ce=null}async function Tn(q,Z){if(typeof q=="number"){n.history.go(q);return}let ee=v_(U.location,U.matches,f,q,Z==null?void 0:Z.fromRouteId,Z==null?void 0:Z.relative),{path:fe,submission:ve,error:xe}=LS(!1,ee,Z),je=U.location,Ae=Jd(U.location,fe,Z&&Z.state);Ae={...Ae,...n.history.encodeLocation(Ae)};let De=Z&&Z.replace!=null?Z.replace:void 0,Le="PUSH";De===!0?Le="REPLACE":De===!1||ve!=null&&Dr(ve.formMethod)&&ve.formAction===U.location.pathname+U.location.search&&(Le="REPLACE");let Fe=Z&&"preventScrollReset"in Z?Z.preventScrollReset===!0:void 0,Pe=(Z&&Z.flushSync)===!0,qe=la({currentLocation:je,nextLocation:Ae,historyAction:Le});if(qe){Hr(qe,{state:"blocked",location:Ae,proceed(){Hr(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),Tn(q,Z)},reset(){let pt=new Map(U.blockers);pt.set(qe,Id),bt({blockers:pt})}});return}await Sn(Le,Ae,{submission:ve,pendingError:xe,preventScrollReset:Fe,replace:Z&&Z.replace,enableViewTransition:Z&&Z.viewTransition,flushSync:Pe})}function rr(){Ce||(Ce=sM()),oa(),bt({revalidation:"loading"});let q=Ce.promise;return U.navigation.state==="submitting"?q:U.navigation.state==="idle"?(Sn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),q):(Sn(P||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:M===!0}),q)}async function Sn(q,Z,ee){O&&O.abort(),O=null,P=q,L=(ee&&ee.startUninterruptedRevalidation)===!0,di(U.location,U.matches),A=(ee&&ee.preventScrollReset)===!0,M=(ee&&ee.enableViewTransition)===!0;let fe=d||u,ve=ee&&ee.overrideNavigation,xe=ee!=null&&ee.initialHydration&&U.matches&&U.matches.length>0&&!B?U.matches:za(fe,Z,f),je=(ee&&ee.flushSync)===!0;if(xe&&U.initialized&&!we&&XP(U.location,Z)&&!(ee&&ee.submission&&Dr(ee.submission.formMethod))){Yt(Z,{matches:xe},{flushSync:je});return}let Ae=ir(xe,fe,Z.pathname);if(Ae.active&&Ae.matches&&(xe=Ae.matches),!xe){let{error:It,notFoundMatches:wt,route:dt}=ys(Z.pathname);Yt(Z,{matches:wt,loaderData:{},errors:{[dt.id]:It}},{flushSync:je});return}O=new AbortController;let De=Ou(n.history,Z,O.signal,ee&&ee.submission),Le=new PS(n.unstable_getContext?await n.unstable_getContext():void 0),Fe;if(ee&&ee.pendingError)Fe=[il(xe).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Dr(ee.submission.formMethod)){let It=await ps(De,Z,ee.submission,xe,Le,Ae.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:je});if(It.shortCircuited)return;if(It.pendingActionResult){let[wt,dt]=It.pendingActionResult;if(Nr(dt)&&ef(dt.error)&&dt.error.status===404){O=null,Yt(Z,{matches:It.matches,loaderData:{},errors:{[wt]:dt.error}});return}}xe=It.matches||xe,Fe=It.pendingActionResult,ve=Uv(Z,ee.submission),je=!1,Ae.active=!1,De=Ou(n.history,De.url,De.signal)}let{shortCircuited:Pe,matches:qe,loaderData:pt,errors:Pt}=await ia(De,Z,xe,Le,Ae.active,ve,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,je,Fe);Pe||(O=null,Yt(Z,{matches:qe||xe,...GS(Fe),loaderData:pt,errors:Pt}))}async function ps(q,Z,ee,fe,ve,xe,je,Ae={}){oa();let De=tM(Z,ee);if(bt({navigation:De},{flushSync:Ae.flushSync===!0}),xe){let Pe=await Ii(fe,Z.pathname,q.signal);if(Pe.type==="aborted")return{shortCircuited:!0};if(Pe.type==="error"){let qe=il(Pe.partialMatches).route.id;return{matches:Pe.partialMatches,pendingActionResult:[qe,{type:"error",error:Pe.error}]}}else if(Pe.matches)fe=Pe.matches;else{let{notFoundMatches:qe,error:pt,route:Pt}=ys(Z.pathname);return{matches:qe,pendingActionResult:[Pt.id,{type:"error",error:pt}]}}}let Le,Fe=Ld(fe,Z);if(!Fe.route.action&&!Fe.route.lazy)Le={type:"error",error:si(405,{method:q.method,pathname:Z.pathname,routeId:Fe.route.id})};else{let Pe=Vu(s,o,q,fe,Fe,je?[]:r,ve),qe=await Fr(q,Pe,ve,null);if(Le=qe[Fe.route.id],!Le){for(let pt of fe)if(qe[pt.route.id]){Le=qe[pt.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(sl(Le)){let Pe;return Ae&&Ae.replace!=null?Pe=Ae.replace:Pe=BS(Le.response.headers.get("Location"),new URL(q.url),f)===U.location.pathname+U.location.search,await ci(q,Le,!0,{submission:ee,replace:Pe}),{shortCircuited:!0}}if(Nr(Le)){let Pe=il(fe,Fe.route.id);return(Ae&&Ae.replace)!==!0&&(P="PUSH"),{matches:fe,pendingActionResult:[Pe.route.id,Le,Fe.route.id]}}return{matches:fe,pendingActionResult:[Fe.route.id,Le]}}async function ia(q,Z,ee,fe,ve,xe,je,Ae,De,Le,Fe,Pe){let qe=xe||Uv(Z,je),pt=je||Ae||YS(qe),Pt=!L&&!Le;if(ve){if(Pt){let ln=kn(Pe);bt({navigation:qe,...ln!==void 0?{actionData:ln}:{}},{flushSync:Fe})}let Je=await Ii(ee,Z.pathname,q.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){let ln=il(Je.partialMatches).route.id;return{matches:Je.partialMatches,loaderData:{},errors:{[ln]:Je.error}}}else if(Je.matches)ee=Je.matches;else{let{error:ln,notFoundMatches:Tr,route:hr}=ys(Z.pathname);return{matches:Tr,loaderData:{},errors:{[hr.id]:ln}}}}let It=d||u,{dsMatches:wt,revalidatingFetchers:dt}=VS(q,fe,s,o,n.history,U,ee,pt,Z,Le?[]:r,Le===!0,we,Ee,oe,ie,V,It,f,n.patchRoutesOnNavigation!=null,Pe);if(te=++le,!n.dataStrategy&&!wt.some(Je=>Je.shouldLoad)&&dt.length===0){let Je=Ai();return Yt(Z,{matches:ee,loaderData:{},errors:Pe&&Nr(Pe[1])?{[Pe[0]]:Pe[1].error}:null,...GS(Pe),...Je?{fetchers:new Map(U.fetchers)}:{}},{flushSync:Fe}),{shortCircuited:!0}}if(Pt){let Je={};if(!ve){Je.navigation=qe;let ln=kn(Pe);ln!==void 0&&(Je.actionData=ln)}dt.length>0&&(Je.fetchers=Co(dt)),bt(Je,{flushSync:Fe})}dt.forEach(Je=>{Br(Je.key),Je.controller&&K.set(Je.key,Je.controller)});let $r=()=>dt.forEach(Je=>Br(Je.key));O&&O.signal.addEventListener("abort",$r);let{loaderResults:pn,fetcherResults:sr}=await aa(wt,dt,q,fe);if(q.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",$r),dt.forEach(Je=>K.delete(Je.key));let Nn=xp(pn);if(Nn)return await ci(q,Nn.result,!0,{replace:De}),{shortCircuited:!0};if(Nn=xp(sr),Nn)return V.add(Nn.key),await ci(q,Nn.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:ki,errors:Er}=qS(U,ee,pn,Pe,dt,sr);Le&&U.errors&&(Er={...U.errors,...Er});let da=Ai(),qn=Ci(te),ar=da||qn||dt.length>0;return{matches:ee,loaderData:ki,errors:Er,...ar?{fetchers:new Map(U.fetchers)}:{}}}function kn(q){if(q&&!Nr(q[1]))return{[q[0]]:q[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Co(q){return q.forEach(Z=>{let ee=U.fetchers.get(Z.key),fe=Od(void 0,ee?ee.data:void 0);U.fetchers.set(Z.key,fe)}),new Map(U.fetchers)}async function zr(q,Z,ee,fe){Br(q);let ve=(fe&&fe.flushSync)===!0,xe=d||u,je=v_(U.location,U.matches,f,ee,Z,fe==null?void 0:fe.relative),Ae=za(xe,je,f),De=ir(Ae,xe,je);if(De.active&&De.matches&&(Ae=De.matches),!Ae){ot(q,Z,si(404,{pathname:je}),{flushSync:ve});return}let{path:Le,submission:Fe,error:Pe}=LS(!0,je,fe);if(Pe){ot(q,Z,Pe,{flushSync:ve});return}let qe=Ld(Ae,Le),pt=new PS(n.unstable_getContext?await n.unstable_getContext():void 0),Pt=(fe&&fe.preventScrollReset)===!0;if(Fe&&Dr(Fe.formMethod)){await sa(q,Z,Le,qe,Ae,pt,De.active,ve,Pt,Fe);return}ie.set(q,{routeId:Z,path:Le}),await ms(q,Z,Le,qe,Ae,pt,De.active,ve,Pt,Fe)}async function sa(q,Z,ee,fe,ve,xe,je,Ae,De,Le){oa(),ie.delete(q);function Fe(qt){if(!qt.route.action&&!qt.route.lazy){let Gr=si(405,{method:Le.formMethod,pathname:ee,routeId:Z});return ot(q,Z,Gr,{flushSync:Ae}),!0}return!1}if(!je&&Fe(fe))return;let Pe=U.fetchers.get(q);kt(q,nM(Le,Pe),{flushSync:Ae});let qe=new AbortController,pt=Ou(n.history,ee,qe.signal,Le);if(je){let qt=await Ii(ve,ee,pt.signal,q);if(qt.type==="aborted")return;if(qt.type==="error"){ot(q,Z,qt.error,{flushSync:Ae});return}else if(qt.matches){if(ve=qt.matches,fe=Ld(ve,ee),Fe(fe))return}else{ot(q,Z,si(404,{pathname:ee}),{flushSync:Ae});return}}K.set(q,qe);let Pt=le,It=Vu(s,o,pt,ve,fe,r,xe),dt=(await Fr(pt,It,xe,q))[fe.route.id];if(pt.signal.aborted){K.get(q)===qe&&K.delete(q);return}if(oe.has(q)){if(sl(dt)||Nr(dt)){kt(q,Va(void 0));return}}else{if(sl(dt))if(K.delete(q),te>Pt){kt(q,Va(void 0));return}else return V.add(q),kt(q,Od(Le)),ci(pt,dt,!1,{fetcherSubmission:Le,preventScrollReset:De});if(Nr(dt)){ot(q,Z,dt.error);return}}let $r=U.navigation.location||U.location,pn=Ou(n.history,$r,qe.signal),sr=d||u,Nn=U.navigation.state!=="idle"?za(sr,U.navigation.location,f):U.matches;yt(Nn,"Didn't find any matches after fetcher action");let ki=++le;de.set(q,ki);let Er=Od(Le,dt.data);U.fetchers.set(q,Er);let{dsMatches:da,revalidatingFetchers:qn}=VS(pn,xe,s,o,n.history,U,Nn,Le,$r,r,!1,we,Ee,oe,ie,V,sr,f,n.patchRoutesOnNavigation!=null,[fe.route.id,dt]);qn.filter(qt=>qt.key!==q).forEach(qt=>{let Gr=qt.key,vs=U.fetchers.get(Gr),Dn=Od(void 0,vs?vs.data:void 0);U.fetchers.set(Gr,Dn),Br(Gr),qt.controller&&K.set(Gr,qt.controller)}),bt({fetchers:new Map(U.fetchers)});let ar=()=>qn.forEach(qt=>Br(qt.key));qe.signal.addEventListener("abort",ar);let{loaderResults:Je,fetcherResults:ln}=await aa(da,qn,pn,xe);if(qe.signal.aborted)return;if(qe.signal.removeEventListener("abort",ar),de.delete(q),K.delete(q),qn.forEach(qt=>K.delete(qt.key)),U.fetchers.has(q)){let qt=Va(dt.data);U.fetchers.set(q,qt)}let Tr=xp(Je);if(Tr)return ci(pn,Tr.result,!1,{preventScrollReset:De});if(Tr=xp(ln),Tr)return V.add(Tr.key),ci(pn,Tr.result,!1,{preventScrollReset:De});let{loaderData:hr,errors:Ni}=qS(U,Nn,Je,void 0,qn,ln);Ci(ki),U.navigation.state==="loading"&&ki>te?(yt(P,"Expected pending action"),O&&O.abort(),Yt(U.navigation.location,{matches:Nn,loaderData:hr,errors:Ni,fetchers:new Map(U.fetchers)})):(bt({errors:Ni,loaderData:$S(U.loaderData,hr,Nn,Ni),fetchers:new Map(U.fetchers)}),we=!1)}async function ms(q,Z,ee,fe,ve,xe,je,Ae,De,Le){let Fe=U.fetchers.get(q);kt(q,Od(Le,Fe?Fe.data:void 0),{flushSync:Ae});let Pe=new AbortController,qe=Ou(n.history,ee,Pe.signal);if(je){let dt=await Ii(ve,ee,qe.signal,q);if(dt.type==="aborted")return;if(dt.type==="error"){ot(q,Z,dt.error,{flushSync:Ae});return}else if(dt.matches)ve=dt.matches,fe=Ld(ve,ee);else{ot(q,Z,si(404,{pathname:ee}),{flushSync:Ae});return}}K.set(q,Pe);let pt=le,Pt=Vu(s,o,qe,ve,fe,r,xe),wt=(await Fr(qe,Pt,xe,q))[fe.route.id];if(K.get(q)===Pe&&K.delete(q),!qe.signal.aborted){if(oe.has(q)){kt(q,Va(void 0));return}if(sl(wt))if(te>pt){kt(q,Va(void 0));return}else{V.add(q),await ci(qe,wt,!1,{preventScrollReset:De});return}if(Nr(wt)){ot(q,Z,wt.error);return}kt(q,Va(wt.data))}}async function ci(q,Z,ee,{submission:fe,fetcherSubmission:ve,preventScrollReset:xe,replace:je}={}){Z.response.headers.has("X-Remix-Revalidate")&&(we=!0);let Ae=Z.response.headers.get("Location");yt(Ae,"Expected a Location header on the redirect Response"),Ae=BS(Ae,new URL(q.url),f);let De=Jd(U.location,Ae,{_isRedirect:!0});if(t){let Pt=!1;if(Z.response.headers.has("X-Remix-Reload-Document"))Pt=!0;else if(P0.test(Ae)){const It=eC(Ae,!0);Pt=It.origin!==e.location.origin||li(It.pathname,f)==null}if(Pt){je?e.location.replace(Ae):e.location.assign(Ae);return}}O=null;let Le=je===!0||Z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Fe,formAction:Pe,formEncType:qe}=U.navigation;!fe&&!ve&&Fe&&Pe&&qe&&(fe=YS(U.navigation));let pt=fe||ve;if(UP.has(Z.response.status)&&pt&&Dr(pt.formMethod))await Sn(Le,De,{submission:{...pt,formAction:Ae},preventScrollReset:xe||A,enableViewTransition:ee?M:void 0});else{let Pt=Uv(De,fe);await Sn(Le,De,{overrideNavigation:Pt,fetcherSubmission:ve,preventScrollReset:xe||A,enableViewTransition:ee?M:void 0})}}async function Fr(q,Z,ee,fe){let ve,xe={};try{ve=await KP(h,q,Z,fe,ee,!1)}catch(je){return Z.filter(Ae=>Ae.shouldLoad).forEach(Ae=>{xe[Ae.route.id]={type:"error",error:je}}),xe}if(q.signal.aborted)return xe;for(let[je,Ae]of Object.entries(ve))if(JP(Ae)){let De=Ae.result;xe[je]={type:"redirect",response:WP(De,q,je,Z,f)}}else xe[je]=await YP(Ae);return xe}async function aa(q,Z,ee,fe){let ve=Fr(ee,q,fe,null),xe=Promise.all(Z.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let Fe=(await Fr(De.request,De.matches,fe,De.key))[De.match.route.id];return{[De.key]:Fe}}else return Promise.resolve({[De.key]:{type:"error",error:si(404,{pathname:De.path})}})})),je=await ve,Ae=(await xe).reduce((De,Le)=>Object.assign(De,Le),{});return{loaderResults:je,fetcherResults:Ae}}function oa(){we=!0,ie.forEach((q,Z)=>{K.has(Z)&&Ee.add(Z),Br(Z)})}function kt(q,Z,ee={}){U.fetchers.set(q,Z),bt({fetchers:new Map(U.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function ot(q,Z,ee,fe={}){let ve=il(U.matches,Z);on(q),bt({errors:{[ve.route.id]:ee},fetchers:new Map(U.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function Hn(q){return pe.set(q,(pe.get(q)||0)+1),oe.has(q)&&oe.delete(q),U.fetchers.get(q)||jP}function on(q){let Z=U.fetchers.get(q);K.has(q)&&!(Z&&Z.state==="loading"&&de.has(q))&&Br(q),ie.delete(q),de.delete(q),V.delete(q),oe.delete(q),Ee.delete(q),U.fetchers.delete(q)}function Ul(q){let Z=(pe.get(q)||0)-1;Z<=0?(pe.delete(q),oe.add(q)):pe.set(q,Z),bt({fetchers:new Map(U.fetchers)})}function Br(q){let Z=K.get(q);Z&&(Z.abort(),K.delete(q))}function Ri(q){for(let Z of q){let ee=Hn(Z),fe=Va(ee.data);U.fetchers.set(Z,fe)}}function Ai(){let q=[],Z=!1;for(let ee of V){let fe=U.fetchers.get(ee);yt(fe,`Expected fetcher: ${ee}`),fe.state==="loading"&&(V.delete(ee),q.push(ee),Z=!0)}return Ri(q),Z}function Ci(q){let Z=[];for(let[ee,fe]of de)if(fe<q){let ve=U.fetchers.get(ee);yt(ve,`Expected fetcher: ${ee}`),ve.state==="loading"&&(Br(ee),de.delete(ee),Z.push(ee))}return Ri(Z),Z.length>0}function wr(q,Z){let ee=U.blockers.get(q)||Id;return _e.get(q)!==Z&&_e.set(q,Z),ee}function gs(q){U.blockers.delete(q),_e.delete(q)}function Hr(q,Z){let ee=U.blockers.get(q)||Id;yt(ee.state==="unblocked"&&Z.state==="blocked"||ee.state==="blocked"&&Z.state==="blocked"||ee.state==="blocked"&&Z.state==="proceeding"||ee.state==="blocked"&&Z.state==="unblocked"||ee.state==="proceeding"&&Z.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${Z.state}`);let fe=new Map(U.blockers);fe.set(q,Z),bt({blockers:fe})}function la({currentLocation:q,nextLocation:Z,historyAction:ee}){if(_e.size===0)return;_e.size>1&&hn(!1,"A router only supports one blocker at a time");let fe=Array.from(_e.entries()),[ve,xe]=fe[fe.length-1],je=U.blockers.get(ve);if(!(je&&je.state==="proceeding")&&xe({currentLocation:q,nextLocation:Z,historyAction:ee}))return ve}function ys(q){let Z=si(404,{pathname:q}),ee=d||u,{matches:fe,route:ve}=KS(ee);return{notFoundMatches:fe,route:ve,error:Z}}function Io(q,Z,ee){if(w=q,R=Z,S=ee||null,!C&&U.navigation===Vv){C=!0;let fe=ua(U.location,U.matches);fe!=null&&bt({restoreScrollPosition:fe})}return()=>{w=null,R=null,S=null}}function qr(q,Z){return S&&S(q,Z.map(fe=>gP(fe,U.loaderData)))||q.key}function di(q,Z){if(w&&R){let ee=qr(q,Z);w[ee]=R()}}function ua(q,Z){if(w){let ee=qr(q,Z),fe=w[ee];if(typeof fe=="number")return fe}return null}function ir(q,Z,ee){if(n.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Hp(Z,ee,f,!0)}}else return{active:!0,matches:Hp(Z,ee,f,!0)||[]};return{active:!1,matches:null}}async function Ii(q,Z,ee,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:q};let ve=q;for(;;){let xe=d==null,je=d||u,Ae=o;try{await n.patchRoutesOnNavigation({signal:ee,path:Z,matches:ve,fetcherKey:fe,patch:(Fe,Pe)=>{ee.aborted||US(Fe,Pe,je,Ae,s)}})}catch(Fe){return{type:"error",error:Fe,partialMatches:ve}}finally{xe&&!ee.aborted&&(u=[...u])}if(ee.aborted)return{type:"aborted"};let De=za(je,Z,f);if(De)return{type:"success",matches:De};let Le=Hp(je,Z,f,!0);if(!Le||ve.length===Le.length&&ve.every((Fe,Pe)=>Fe.route.id===Le[Pe].route.id))return{type:"success",matches:null};ve=Le}}function Oi(q){o={},d=sm(q,s,void 0,o)}function ca(q,Z){let ee=d==null;US(q,Z,d||u,o,s),ee&&(u=[...u],bt({}))}return Q={get basename(){return f},get future(){return g},get state(){return U},get routes(){return u},get window(){return e},initialize:Ge,subscribe:Dt,enableScrollRestoration:Io,navigate:Tn,fetch:zr,revalidate:rr,createHref:q=>n.history.createHref(q),encodeLocation:q=>n.history.encodeLocation(q),getFetcher:Hn,deleteFetcher:Ul,dispose:ht,getBlocker:wr,deleteBlocker:gs,patchRoutes:ca,_internalFetchControllers:K,_internalSetRoutes:Oi},Q}function BP(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function v_(n,e,t,r,s,o){let u,d;if(s){u=[];for(let h of e)if(u.push(h),h.route.id===s){d=h;break}}else u=e,d=e[e.length-1];let f=D0(r||".",N0(u),li(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&d){let h=M0(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let g=new URLSearchParams(f.search),v=g.getAll("index");g.delete("index"),v.filter(w=>w).forEach(w=>g.append("index",w));let _=g.toString();f.search=_?`?${_}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Xi([t,f.pathname])),so(f)}function LS(n,e,t){if(!t||!BP(t))return{path:e};if(t.formMethod&&!eM(t.formMethod))return{path:e,error:si(405,{method:t.formMethod})};let r=()=>({path:e,error:si(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=fC(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Dr(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((_,[w,S])=>`${_}${w}=${S}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!Dr(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}yt(typeof FormData=="function","FormData is not available in this environment");let d,f;if(t.formData)d=w_(t.formData),f=t.formData;else if(t.body instanceof FormData)d=w_(t.body),f=t.body;else if(t.body instanceof URLSearchParams)d=t.body,f=HS(d);else if(t.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(t.body),f=HS(d)}catch{return r()}let h={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Dr(h.formMethod))return{path:e,submission:h};let g=wo(e);return n&&g.search&&M0(g.search)&&d.append("index",""),g.search=`?${d}`,{path:so(g),submission:h}}function VS(n,e,t,r,s,o,u,d,f,h,g,v,_,w,S,R,C,D,B,j){var L;let $=j?Nr(j[1])?j[1].error:j[1].data:void 0,Q=s.createURL(o.location),U=s.createURL(f),P;if(g&&o.errors){let we=Object.keys(o.errors)[0];P=u.findIndex(Ee=>Ee.route.id===we)}else if(j&&Nr(j[1])){let we=j[0];P=u.findIndex(Ee=>Ee.route.id===we)-1}let A=j?j[1].statusCode:void 0,O=A&&A>=400,M={currentUrl:Q,currentParams:((L=o.matches[0])==null?void 0:L.params)||{},nextUrl:U,nextParams:u[0].params,...d,actionResult:$,actionStatus:A},z=u.map((we,Ee)=>{let{route:K}=we,le=null;if(P!=null&&Ee>P?le=!1:K.lazy?le=!0:K.loader==null?le=!1:g?le=__(K,o.loaderData,o.errors):HP(o.loaderData,o.matches[Ee],we)&&(le=!0),le!==null)return b_(t,r,n,we,h,e,le);let te=O?!1:v||Q.pathname+Q.search===U.pathname+U.search||Q.search!==U.search||qP(o.matches[Ee],we),de={...M,defaultShouldRevalidate:te},V=lm(we,de);return b_(t,r,n,we,h,e,V,de)}),H=[];return S.forEach((we,Ee)=>{if(g||!u.some(oe=>oe.route.id===we.routeId)||w.has(Ee))return;let K=o.fetchers.get(Ee),le=K&&K.state!=="idle"&&K.data===void 0,te=za(C,we.path,D);if(!te){if(B&&le)return;H.push({key:Ee,routeId:we.routeId,path:we.path,matches:null,match:null,request:null,controller:null});return}if(R.has(Ee))return;let de=Ld(te,we.path),V=new AbortController,ie=Ou(s,we.path,V.signal),pe=null;if(_.has(Ee))_.delete(Ee),pe=Vu(t,r,ie,te,de,h,e);else if(le)v&&(pe=Vu(t,r,ie,te,de,h,e));else{let oe={...M,defaultShouldRevalidate:O?!1:v};lm(de,oe)&&(pe=Vu(t,r,ie,te,de,h,e,oe))}pe&&H.push({key:Ee,routeId:we.routeId,path:we.path,matches:pe,match:de,request:ie,controller:V})}),{dsMatches:z,revalidatingFetchers:H}}function __(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function HP(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function qP(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function lm(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function US(n,e,t,r,s){let o;if(n){let f=r[n];yt(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let u=e.filter(f=>!o.some(h=>oC(f,h))),d=sm(u,s,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...d)}function oC(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(o=>oC(t,o))}):!1}var jS=new WeakMap,lC=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let s=t[e.id];if(yt(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[n];if(!o)return;let u=jS.get(s);u||(u={},jS.set(s,u));let d=u[n];if(d)return d;let f=(async()=>{let h=fP(n),v=s[n]!==void 0&&n!=="hasErrorBoundary";if(h)hn(!h,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(v)hn(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let _=await o();_!=null&&(Object.assign(s,{[n]:_}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(_=>_===void 0)&&(s.lazy=void 0))})();return u[n]=f,f},zS=new WeakMap;function $P(n,e,t,r,s){let o=t[n.id];if(yt(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let g=zS.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let v=(async()=>{yt(typeof n.lazy=="function","No lazy route function found");let _=await n.lazy(),w={};for(let S in _){let R=_[S];if(R===void 0)continue;let C=pP(S),B=o[S]!==void 0&&S!=="hasErrorBoundary";C?hn(!C,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):B?hn(!B,`Route "${o.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):w[S]=R}Object.assign(o,w),Object.assign(o,{...r(o),lazy:void 0})})();return zS.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(n.lazy),d=[],f;for(let g of u){if(s&&s.includes(g))continue;let v=lC({key:g,route:n,manifest:t,mapRouteProperties:r});v&&(d.push(v),g===e&&(f=v))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h==null||h.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function FS(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{t[e[o].route.id]=s}),t}async function GP(n){return n.matches.some(e=>e.route.unstable_middleware)?uC(n,!1,()=>FS(n),(e,t)=>({[t]:{type:"error",result:e}})):FS(n)}async function uC(n,e,t,r){let{matches:s,request:o,params:u,context:d}=n,f={handlerResult:void 0};try{let h=s.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(_=>[v.route.id,_]):[]),g=await cC({request:o,params:u,context:d},h,e,f,t);return e?g:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let g=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,g):g}}async function cC(n,e,t,r,s,o=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let d=e[o];if(!d)return r.handlerResult=await s(),r.handlerResult;let[f,h]=d,g=!1,v,_=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await cC(n,e,t,r,s,o+1)};try{let w=await h({request:n.request,params:n.params,context:n.context},_);return g?w===void 0?v:w:_()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:f,error:w}):r.middlewareError={routeId:f,error:w},w}}function dC(n,e,t,r,s){let o=lC({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=$P(r.route,Dr(t.method)?"action":"loader",e,n,s);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function b_(n,e,t,r,s,o,u,d=null){let f=!1,h=dC(n,e,t,r,s);return{...r,_lazyPromises:h,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return f=!0,d?typeof g=="boolean"?lm(r,{...d,defaultShouldRevalidate:g}):lm(r,d):u},resolve(g){return f||u||g&&t.method==="GET"&&(r.route.lazy||r.route.loader)?QP({request:t,match:r,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Vu(n,e,t,r,s,o,u,d=null){return r.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:dC(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:b_(n,e,t,f,o,u,!0,d))}async function KP(n,e,t,r,s,o){t.some(h=>{var g;return(g=h._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(t.map(h=>{var g;return(g=h._lazyPromises)==null?void 0:g.middleware}));let u={request:e,params:t[0].params,context:s,matches:t},f=await n({...u,fetcherKey:r,unstable_runClientMiddleware:h=>{let g=u;return uC(g,!1,()=>h({...g,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,_)=>({[_]:{type:"error",result:v}}))}});try{await Promise.all(t.flatMap(h=>{var g,v;return[(g=h._lazyPromises)==null?void 0:g.handler,(v=h._lazyPromises)==null?void 0:v.route]}))}catch{}return f}async function QP({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:s,scopedContext:o}){let u,d,f=Dr(n.method),h=f?"action":"loader",g=v=>{let _,w=new Promise((C,D)=>_=D);d=()=>_(),n.signal.addEventListener("abort",d);let S=C=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):v({request:n,params:e.params,context:o},...C!==void 0?[C]:[]),R=(async()=>{try{return{type:"data",result:await(s?s(D=>S(D)):S())}}catch(C){return{type:"error",result:C}}})();return Promise.race([R,w])};try{let v=f?e.route.action:e.route.loader;if(t||r)if(v){let _,[w]=await Promise.all([g(v).catch(S=>{_=S}),t,r]);if(_!==void 0)throw _;u=w}else{await t;let _=f?e.route.action:e.route.loader;if(_)[u]=await Promise.all([g(_),r]);else if(h==="action"){let w=new URL(n.url),S=w.pathname+w.search;throw si(405,{method:n.method,pathname:S,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)u=await g(v);else{let _=new URL(n.url),w=_.pathname+_.search;throw si(404,{pathname:w})}}catch(v){return{type:"error",result:v}}finally{d&&n.signal.removeEventListener("abort",d)}return u}async function YP(n){var r,s,o,u,d,f;let{result:e,type:t}=n;if(hC(e)){let h;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new om(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return t==="error"?QS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new om(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:ef(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ef(e)?e.status:void 0}:QS(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function WP(n,e,t,r,s){let o=n.headers.get("Location");if(yt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!P0.test(o)){let u=r.slice(0,r.findIndex(d=>d.route.id===t)+1);o=v_(new URL(e.url),u,s,o),n.headers.set("Location",o)}return n}function BS(n,e,t){if(P0.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=li(s.pathname,t)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return n}function Ou(n,e,t,r){let s=n.createURL(fC(e)).toString(),o={signal:t};if(r&&Dr(r.formMethod)){let{formMethod:u,formEncType:d}=r;o.method=u.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=w_(r.formData):o.body=r.formData}return new Request(s,o)}function w_(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function HS(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function ZP(n,e,t,r=!1,s=!1){let o={},u=null,d,f=!1,h={},g=t&&Nr(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let _=v.route.id,w=e[_];if(yt(!sl(w),"Cannot handle redirect results in processLoaderData"),Nr(w)){let S=w.error;if(g!==void 0&&(S=g,g=void 0),u=u||{},s)u[_]=S;else{let R=il(n,_);u[R.route.id]==null&&(u[R.route.id]=S)}r||(o[_]=aC),f||(f=!0,d=ef(w.error)?w.error.status:500),w.headers&&(h[_]=w.headers)}else o[_]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(d=w.statusCode),w.headers&&(h[_]=w.headers)}),g!==void 0&&t&&(u={[t[0]]:g},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:d||200,loaderHeaders:h}}function qS(n,e,t,r,s,o){let{loaderData:u,errors:d}=ZP(e,t,r);return s.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:g,controller:v}=f,_=o[h];if(yt(_,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Nr(_)){let w=il(n.matches,g==null?void 0:g.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:_.error}),n.fetchers.delete(h)}else if(sl(_))yt(!1,"Unhandled fetcher revalidation redirect");else{let w=Va(_.data);n.fetchers.set(h,w)}}),{loaderData:u,errors:d}}function $S(n,e,t,r){let s=Object.entries(e).filter(([,o])=>o!==aC).reduce((o,[u,d])=>(o[u]=d,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function GS(n){return n?Nr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function il(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function KS(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function si(n,{pathname:e,routeId:t,method:r,type:s,message:o}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):n===403?(u="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",d=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new om(n||500,u,new Error(d),!0)}function xp(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(sl(s))return{key:r,result:s}}}function fC(n){let e=typeof n=="string"?wo(n):n;return so({...e,hash:""})}function XP(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function JP(n){return hC(n.result)&&VP.has(n.result.status)}function Nr(n){return n.type==="error"}function sl(n){return(n&&n.type)==="redirect"}function QS(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function hC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function eM(n){return LP.has(n.toUpperCase())}function Dr(n){return PP.has(n.toUpperCase())}function M0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ld(n,e){let t=typeof e=="string"?wo(e).search:e.search;if(n[n.length-1].route.index&&M0(t||""))return n[n.length-1];let r=rC(n);return r[r.length-1]}function YS(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:o,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Uv(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tM(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Od(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function nM(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Va(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function rM(n,e){try{let t=n.sessionStorage.getItem(sC);if(t){let r=JSON.parse(t);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function iM(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(sC,JSON.stringify(t))}catch(r){hn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function sM(){let n,e,t=new Promise((r,s)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{s(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var kl=x.createContext(null);kl.displayName="DataRouter";var Ff=x.createContext(null);Ff.displayName="DataRouterState";var L0=x.createContext({isTransitioning:!1});L0.displayName="ViewTransition";var pC=x.createContext(new Map);pC.displayName="Fetchers";var aM=x.createContext(null);aM.displayName="Await";var ds=x.createContext(null);ds.displayName="Navigation";var Km=x.createContext(null);Km.displayName="Location";var fs=x.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var V0=x.createContext(null);V0.displayName="RouteError";function oM(n,{relative:e}={}){yt(Bf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=x.useContext(ds),{hash:s,pathname:o,search:u}=Hf(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Xi([t,o])),r.createHref({pathname:d,search:u,hash:s})}function Bf(){return x.useContext(Km)!=null}function Eo(){return yt(Bf(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Km).location}var mC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gC(n){x.useContext(ds).static||x.useLayoutEffect(n)}function U0(){let{isDataRoute:n}=x.useContext(fs);return n?EM():lM()}function lM(){yt(Bf(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(kl),{basename:e,navigator:t}=x.useContext(ds),{matches:r}=x.useContext(fs),{pathname:s}=Eo(),o=JSON.stringify(N0(r)),u=x.useRef(!1);return gC(()=>{u.current=!0}),x.useCallback((f,h={})=>{if(hn(u.current,mC),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=D0(f,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Xi([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,o,s,n])}var uM=x.createContext(null);function cM(n){let e=x.useContext(fs).outlet;return e&&x.createElement(uM.Provider,{value:n},e)}function Hf(n,{relative:e}={}){let{matches:t}=x.useContext(fs),{pathname:r}=Eo(),s=JSON.stringify(N0(t));return x.useMemo(()=>D0(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function dM(n,e,t,r){yt(Bf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(ds),{matches:o}=x.useContext(fs),u=o[o.length-1],d=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",g=u&&u.route;{let D=g&&g.path||"";yC(f,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=Eo(),_;_=v;let w=_.pathname||"/",S=w;if(h!=="/"){let D=h.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=za(n,{pathname:S});return hn(g||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),hn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),gM(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Xi([h,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?h:Xi([h,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,t,r)}function fM(){let n=wM(),e=ef(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:s},t):null,u)}var hM=x.createElement(fM,null),pM=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?x.createElement(fs.Provider,{value:this.props.routeContext},x.createElement(V0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mM({routeContext:n,match:e,children:t}){let r=x.useContext(kl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(fs.Provider,{value:n},t)}function gM(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let f=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);yt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:g,errors:v}=t,_=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||_){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,h,g)=>{let v,_=!1,w=null,S=null;t&&(v=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||hM,u&&(d<0&&g===0?(yC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):d===g&&(_=!0,S=h.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,g+1)),C=()=>{let D;return v?D=w:_?D=S:h.route.Component?D=x.createElement(h.route.Component,null):h.route.element?D=h.route.element:D=f,x.createElement(mM,{match:h,routeContext:{outlet:f,matches:R,isDataRoute:t!=null},children:D})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?x.createElement(pM,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:C(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):C()},null)}function j0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yM(n){let e=x.useContext(kl);return yt(e,j0(n)),e}function vM(n){let e=x.useContext(Ff);return yt(e,j0(n)),e}function _M(n){let e=x.useContext(fs);return yt(e,j0(n)),e}function z0(n){let e=_M(n),t=e.matches[e.matches.length-1];return yt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bM(){return z0("useRouteId")}function wM(){var r;let n=x.useContext(V0),e=vM("useRouteError"),t=z0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function EM(){let{router:n}=yM("useNavigate"),e=z0("useNavigate"),t=x.useRef(!1);return gC(()=>{t.current=!0}),x.useCallback(async(s,o={})=>{hn(t.current,mC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var WS={};function yC(n,e,t){!e&&!WS[n]&&(WS[n]=!0,hn(!1,t))}var ZS={};function XS(n,e){!n&&!ZS[e]&&(ZS[e]=!0,console.warn(e))}function TM(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&hn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:x.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&hn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:x.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&hn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:x.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var SM=["HydrateFallback","hydrateFallbackElement"],xM=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function RM({router:n,flushSync:e}){let[t,r]=x.useState(n.state),[s,o]=x.useState(),[u,d]=x.useState({isTransitioning:!1}),[f,h]=x.useState(),[g,v]=x.useState(),[_,w]=x.useState(),S=x.useRef(new Map),R=x.useCallback((j,{deletedFetchers:$,flushSync:Q,viewTransitionOpts:U})=>{j.fetchers.forEach((A,O)=>{A.data!==void 0&&S.current.set(O,A.data)}),$.forEach(A=>S.current.delete(A)),XS(Q===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(XS(U==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!P){e&&Q?e(()=>r(j)):x.startTransition(()=>r(j));return}if(e&&Q){e(()=>{g&&(f&&f.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let A=n.window.document.startViewTransition(()=>{e(()=>r(j))});A.finished.finally(()=>{e(()=>{h(void 0),v(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>v(A));return}g?(f&&f.resolve(),g.skipTransition(),w({state:j,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(o(j),d({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,e,g,f]);x.useLayoutEffect(()=>n.subscribe(R),[n,R]),x.useEffect(()=>{u.isTransitioning&&!u.flushSync&&h(new xM)},[u]),x.useEffect(()=>{if(f&&s&&n.window){let j=s,$=f.promise,Q=n.window.document.startViewTransition(async()=>{x.startTransition(()=>r(j)),await $});Q.finished.finally(()=>{h(void 0),v(void 0),o(void 0),d({isTransitioning:!1})}),v(Q)}},[s,f,n.window]),x.useEffect(()=>{f&&s&&t.location.key===s.location.key&&f.resolve()},[f,g,t.location,s]),x.useEffect(()=>{!u.isTransitioning&&_&&(o(_.state),d({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),w(void 0))},[u.isTransitioning,_]);let C=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:j=>n.navigate(j),push:(j,$,Q)=>n.navigate(j,{state:$,preventScrollReset:Q==null?void 0:Q.preventScrollReset}),replace:(j,$,Q)=>n.navigate(j,{replace:!0,state:$,preventScrollReset:Q==null?void 0:Q.preventScrollReset})}),[n]),D=n.basename||"/",B=x.useMemo(()=>({router:n,navigator:C,static:!1,basename:D}),[n,C,D]);return x.createElement(x.Fragment,null,x.createElement(kl.Provider,{value:B},x.createElement(Ff.Provider,{value:t},x.createElement(pC.Provider,{value:S.current},x.createElement(L0.Provider,{value:u},x.createElement(OM,{basename:D,location:t.location,navigationType:t.historyAction,navigator:C},x.createElement(AM,{routes:n.routes,future:n.future,state:t})))))),null)}var AM=x.memo(CM);function CM({routes:n,future:e,state:t}){return dM(n,void 0,t,e)}function IM(n){return cM(n.context)}function OM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){yt(!Bf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=wo(t));let{pathname:f="/",search:h="",hash:g="",state:v=null,key:_="default"}=t,w=x.useMemo(()=>{let S=li(f,u);return S==null?null:{location:{pathname:S,search:h,hash:g,state:v,key:_},navigationType:r}},[u,f,h,g,v,_,r]);return hn(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(ds.Provider,{value:d},x.createElement(Km.Provider,{children:e,value:w}))}var qp="get",$p="application/x-www-form-urlencoded";function Qm(n){return n!=null&&typeof n.tagName=="string"}function kM(n){return Qm(n)&&n.tagName.toLowerCase()==="button"}function NM(n){return Qm(n)&&n.tagName.toLowerCase()==="form"}function DM(n){return Qm(n)&&n.tagName.toLowerCase()==="input"}function PM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MM(n,e){return n.button===0&&(!e||e==="_self")&&!PM(n)}var Rp=null;function LM(){if(Rp===null)try{new FormData(document.createElement("form"),0),Rp=!1}catch{Rp=!0}return Rp}var VM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jv(n){return n!=null&&!VM.has(n)?(hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$p}"`),null):n}function UM(n,e){let t,r,s,o,u;if(NM(n)){let d=n.getAttribute("action");r=d?li(d,e):null,t=n.getAttribute("method")||qp,s=jv(n.getAttribute("enctype"))||$p,o=new FormData(n)}else if(kM(n)||DM(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?li(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||qp,s=jv(n.getAttribute("formenctype"))||jv(d.getAttribute("enctype"))||$p,o=new FormData(d,n),!LM()){let{name:h,type:g,value:v}=n;if(g==="image"){let _=h?`${h}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else h&&o.append(h,v)}}else{if(Qm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qp,r=null,s=$p,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function F0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function jM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FM(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await jM(o,t);return u.links?u.links():[]}return[]}));return $M(r.flat(1).filter(zM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function JS(n,e,t,r,s,o){let u=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,d=(f,h)=>{var g;return t[h].pathname!==f.pathname||((g=t[h].route.path)==null?void 0:g.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>u(f,h)||d(f,h)):o==="data"?e.filter((f,h)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function BM(n,e,{includeHydrateFallback:t}={}){return HM(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function HM(n){return[...new Set(n)]}function qM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function $M(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(qM(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GM=new Set([100,101,204,205]);function KM(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&li(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function vC(){let n=x.useContext(kl);return F0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function QM(){let n=x.useContext(Ff);return F0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var B0=x.createContext(void 0);B0.displayName="FrameworkContext";function _C(){let n=x.useContext(B0);return F0(n,"You must render this element inside a <HydratedRouter> element"),n}function YM(n,e){let t=x.useContext(B0),[r,s]=x.useState(!1),[o,u]=x.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:v}=e,_=x.useRef(null);x.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let R=D=>{D.forEach(B=>{u(B.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[n]),x.useEffect(()=>{if(r){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[r]);let w=()=>{s(!0)},S=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:kd(d,w),onBlur:kd(f,S),onMouseEnter:kd(h,w),onMouseLeave:kd(g,S),onTouchStart:kd(v,w)}]:[!1,_,{}]}function kd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function WM({page:n,...e}){let{router:t}=vC(),r=x.useMemo(()=>za(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?x.createElement(XM,{page:n,matches:r,...e}):null}function ZM(n){let{manifest:e,routeModules:t}=_C(),[r,s]=x.useState([]);return x.useEffect(()=>{let o=!1;return FM(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function XM({page:n,matches:e,...t}){let r=Eo(),{manifest:s,routeModules:o}=_C(),{basename:u}=vC(),{loaderData:d,matches:f}=QM(),h=x.useMemo(()=>JS(n,e,f,s,r,"data"),[n,e,f,s,r]),g=x.useMemo(()=>JS(n,e,f,s,r,"assets"),[n,e,f,s,r]),v=x.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,R=!1;if(e.forEach(D=>{var j;let B=s.routes[D.route.id];!B||!B.hasLoader||(!h.some($=>$.route.id===D.route.id)&&D.route.id in d&&((j=o[D.route.id])!=null&&j.shouldRevalidate)||B.hasClientLoader?R=!0:S.add(D.route.id))}),S.size===0)return[];let C=KM(n,u);return R&&S.size>0&&C.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[C.pathname+C.search]},[u,d,r,s,h,e,n,o]),_=x.useMemo(()=>BM(g,s),[g,s]),w=ZM(g);return x.createElement(x.Fragment,null,v.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),_.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),w.map(({key:S,link:R})=>x.createElement("link",{key:S,...R})))}function JM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bC&&(window.__reactRouterVersion="7.6.1")}catch{}function e2(n,e){return FP({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:lP({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||t2(),routes:n,mapRouteProperties:TM,hydrationRouteProperties:SM,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function t2(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:n2(n.errors)}),n}function n2(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new om(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let u=new o(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(s.message);o.stack="",t[r]=o}}else t[r]=s;return t}var wC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ji=x.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:d,target:f,to:h,preventScrollReset:g,viewTransition:v,..._},w){let{basename:S}=x.useContext(ds),R=typeof h=="string"&&wC.test(h),C,D=!1;if(typeof h=="string"&&R&&(C=h,bC))try{let O=new URL(window.location.href),M=h.startsWith("//")?new URL(O.protocol+h):new URL(h),z=li(M.pathname,S);M.origin===O.origin&&z!=null?h=z+M.search+M.hash:D=!0}catch{hn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=oM(h,{relative:s}),[j,$,Q]=YM(r,_),U=a2(h,{replace:u,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:v});function P(O){e&&e(O),O.defaultPrevented||U(O)}let A=x.createElement("a",{..._,...Q,href:C||B,onClick:D||o?e:P,ref:JM(w,$),target:f,"data-discover":!R&&t==="render"?"true":void 0});return j&&!R?x.createElement(x.Fragment,null,A,x.createElement(WM,{page:B})):A});Ji.displayName="Link";var r2=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:d,children:f,...h},g){let v=Hf(u,{relative:h.relative}),_=Eo(),w=x.useContext(Ff),{navigator:S,basename:R}=x.useContext(ds),C=w!=null&&d2(v)&&d===!0,D=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,B=_.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(B=B.toLowerCase(),j=j?j.toLowerCase():null,D=D.toLowerCase()),j&&R&&(j=li(j,R)||j);const $=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Q=B===D||!s&&B.startsWith(D)&&B.charAt($)==="/",U=j!=null&&(j===D||!s&&j.startsWith(D)&&j.charAt(D.length)==="/"),P={isActive:Q,isPending:U,isTransitioning:C},A=Q?e:void 0,O;typeof r=="function"?O=r(P):O=[r,Q?"active":null,U?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(P):o;return x.createElement(Ji,{...h,"aria-current":A,className:O,ref:g,style:M,to:u,viewTransition:d},typeof f=="function"?f(P):f)});r2.displayName="NavLink";var i2=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=qp,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:v,..._},w)=>{let S=u2(),R=c2(d,{relative:h}),C=u.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&wC.test(d),B=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let $=j.nativeEvent.submitter,Q=($==null?void 0:$.getAttribute("formmethod"))||u;S($||j.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:s,state:o,relative:h,preventScrollReset:g,viewTransition:v})};return x.createElement("form",{ref:w,method:C,action:R,onSubmit:r?f:B,..._,"data-discover":!D&&n==="render"?"true":void 0})});i2.displayName="Form";function s2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EC(n){let e=x.useContext(kl);return yt(e,s2(n)),e}function a2(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=U0(),f=Eo(),h=Hf(n,{relative:o});return x.useCallback(g=>{if(MM(g,e)){g.preventDefault();let v=t!==void 0?t:so(f)===so(h);d(n,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,d,h,t,r,e,n,s,o,u])}var o2=0,l2=()=>`__${String(++o2)}__`;function u2(){let{router:n}=EC("useSubmit"),{basename:e}=x.useContext(ds),t=bM();return x.useCallback(async(r,s={})=>{let{action:o,method:u,encType:d,formData:f,body:h}=UM(r,e);if(s.navigate===!1){let g=s.fetcherKey||l2();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function c2(n,{relative:e}={}){let{basename:t}=x.useContext(ds),r=x.useContext(fs);yt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Hf(n||".",{relative:e})},u=Eo();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Xi([t,o.pathname])),so(o)}function d2(n,e={}){let t=x.useContext(L0);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=EC("useViewTransitionState"),s=Hf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=li(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=li(t.nextLocation.pathname,r)||t.nextLocation.pathname;return am(s.pathname,u)!=null||am(s.pathname,o)!=null}[...GM];var Ym=XA();const f2=WA(Ym);/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h2(n){return x.createElement(RM,{flushSync:Ym.flushSync,...n})}var qf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vl=typeof window>"u"||"Deno"in globalThis;function vr(){}function p2(n,e){return typeof n=="function"?n(e):n}function E_(n){return typeof n=="number"&&n>=0&&n!==1/0}function TC(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ja(n,e){return typeof n=="function"?n(e):n}function vi(n,e){return typeof n=="function"?n(e):n}function ex(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:o,queryKey:u,stale:d}=n;if(u){if(r){if(e.queryHash!==H0(u,e.options))return!1}else if(!nf(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||s&&s!==e.state.fetchStatus||o&&!o(e))}function tx(n,e){const{exact:t,status:r,predicate:s,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(tf(e.options.mutationKey)!==tf(o))return!1}else if(!nf(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function H0(n,e){return((e==null?void 0:e.queryKeyHashFn)||tf)(n)}function tf(n){return JSON.stringify(n,(e,t)=>S_(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function nf(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>nf(n[t],e[t])):!1}function SC(n,e){if(n===e)return n;const t=nx(n)&&nx(e);if(t||S_(n)&&S_(e)){const r=t?n:Object.keys(n),s=r.length,o=t?e:Object.keys(e),u=o.length,d=t?[]:{};let f=0;for(let h=0;h<u;h++){const g=t?h:o[h];(!t&&r.includes(g)||t)&&n[g]===void 0&&e[g]===void 0?(d[g]=void 0,f++):(d[g]=SC(n[g],e[g]),d[g]===n[g]&&n[g]!==void 0&&f++)}return s===u&&f===s?n:d}return e}function T_(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function nx(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function S_(n){if(!rx(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!rx(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function rx(n){return Object.prototype.toString.call(n)==="[object Object]"}function m2(n){return new Promise(e=>{setTimeout(e,n)})}function x_(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?SC(n,e):e}function g2(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function y2(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var q0=Symbol();function xC(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===q0?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function v2(n,e){return typeof n=="function"?n(...e):!!n}var ll,qa,$u,FA,_2=(FA=class extends qf{constructor(){super();We(this,ll);We(this,qa);We(this,$u);Oe(this,$u,e=>{if(!vl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,qa)||this.setEventListener(Y(this,$u))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,qa))==null||e.call(this),Oe(this,qa,void 0))}setEventListener(e){var t;Oe(this,$u,e),(t=Y(this,qa))==null||t.call(this),Oe(this,qa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,ll)!==e&&(Oe(this,ll,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,ll)=="boolean"?Y(this,ll):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ll=new WeakMap,qa=new WeakMap,$u=new WeakMap,FA),$0=new _2,Gu,$a,Ku,BA,b2=(BA=class extends qf{constructor(){super();We(this,Gu,!0);We(this,$a);We(this,Ku);Oe(this,Ku,e=>{if(!vl&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,$a)||this.setEventListener(Y(this,Ku))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,$a))==null||e.call(this),Oe(this,$a,void 0))}setEventListener(e){var t;Oe(this,Ku,e),(t=Y(this,$a))==null||t.call(this),Oe(this,$a,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Gu)!==e&&(Oe(this,Gu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Gu)}},Gu=new WeakMap,$a=new WeakMap,Ku=new WeakMap,BA),um=new b2;function R_(){let n,e;const t=new Promise((s,o)=>{n=s,e=o});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function w2(n){return Math.min(1e3*2**n,3e4)}function RC(n){return(n??"online")==="online"?um.isOnline():!0}var AC=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function zv(n){return n instanceof AC}function CC(n){let e=!1,t=0,r=!1,s;const o=R_(),u=R=>{var C;r||(_(new AC(R)),(C=n.abort)==null||C.call(n))},d=()=>{e=!0},f=()=>{e=!1},h=()=>$0.isFocused()&&(n.networkMode==="always"||um.isOnline())&&n.canRun(),g=()=>RC(n.networkMode)&&n.canRun(),v=R=>{var C;r||(r=!0,(C=n.onSuccess)==null||C.call(n,R),s==null||s(),o.resolve(R))},_=R=>{var C;r||(r=!0,(C=n.onError)==null||C.call(n,R),s==null||s(),o.reject(R))},w=()=>new Promise(R=>{var C;s=D=>{(r||h())&&R(D)},(C=n.onPause)==null||C.call(n)}).then(()=>{var R;s=void 0,r||(R=n.onContinue)==null||R.call(n)}),S=()=>{if(r)return;let R;const C=t===0?n.initialPromise:void 0;try{R=C??n.fn()}catch(D){R=Promise.reject(D)}Promise.resolve(R).then(v).catch(D=>{var U;if(r)return;const B=n.retry??(vl?0:3),j=n.retryDelay??w2,$=typeof j=="function"?j(t,D):j,Q=B===!0||typeof B=="number"&&t<B||typeof B=="function"&&B(t,D);if(e||!Q){_(D);return}t++,(U=n.onFail)==null||U.call(n,t,D),m2($).then(()=>h()?void 0:w()).then(()=>{e?_(D):S()})})};return{promise:o,cancel:u,continue:()=>(s==null||s(),o),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?S():w().then(S),o)}}var E2=n=>setTimeout(n,0);function T2(){let n=[],e=0,t=d=>{d()},r=d=>{d()},s=E2;const o=d=>{e?n.push(d):s(()=>{t(d)})},u=()=>{const d=n;n=[],d.length&&s(()=>{r(()=>{d.forEach(f=>{t(f)})})})};return{batch:d=>{let f;e++;try{f=d()}finally{e--,e||u()}return f},batchCalls:d=>(...f)=>{o(()=>{d(...f)})},schedule:o,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{s=d}}}var jn=T2(),ul,HA,IC=(HA=class{constructor(){We(this,ul)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),E_(this.gcTime)&&Oe(this,ul,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(vl?1/0:5*60*1e3))}clearGcTimeout(){Y(this,ul)&&(clearTimeout(Y(this,ul)),Oe(this,ul,void 0))}},ul=new WeakMap,HA),Qu,Yu,ii,cl,Yn,Vf,dl,gi,zs,qA,S2=(qA=class extends IC{constructor(t){super();We(this,gi);We(this,Qu);We(this,Yu);We(this,ii);We(this,cl);We(this,Yn);We(this,Vf);We(this,dl);Oe(this,dl,!1),Oe(this,Vf,t.defaultOptions),this.setOptions(t.options),this.observers=[],Oe(this,cl,t.client),Oe(this,ii,Y(this,cl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Oe(this,Qu,x2(this.options)),this.state=t.state??Y(this,Qu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,Yn))==null?void 0:t.promise}setOptions(t){this.options={...Y(this,Vf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,ii).remove(this)}setData(t,r){const s=x_(this.state.data,t,this.options);return Et(this,gi,zs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Et(this,gi,zs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,o;const r=(s=Y(this,Yn))==null?void 0:s.promise;return(o=Y(this,Yn))==null||o.cancel(t),r?r.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Qu))}isActive(){return this.observers.some(t=>vi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===q0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ja(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!TC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,Yn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,Yn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,ii).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Y(this,Yn)&&(Y(this,dl)?Y(this,Yn).cancel({revert:!0}):Y(this,Yn).cancelRetry()),this.scheduleGc()),Y(this,ii).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Et(this,gi,zs).call(this,{type:"invalidate"})}fetch(t,r){var h,g,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Yn))return Y(this,Yn).continueRetry(),Y(this,Yn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(w=>w.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,o=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Oe(this,dl,!0),s.signal)})},u=()=>{const _=xC(this.options,r),w={client:Y(this,cl),queryKey:this.queryKey,meta:this.meta};return o(w),Oe(this,dl,!1),this.options.persister?this.options.persister(_,w,this):_(w)},d={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,cl),state:this.state,fetchFn:u};o(d),(h=this.options.behavior)==null||h.onFetch(d,this),Oe(this,Yu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=d.fetchOptions)==null?void 0:g.meta))&&Et(this,gi,zs).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta});const f=_=>{var w,S,R,C;zv(_)&&_.silent||Et(this,gi,zs).call(this,{type:"error",error:_}),zv(_)||((S=(w=Y(this,ii).config).onError)==null||S.call(w,_,this),(C=(R=Y(this,ii).config).onSettled)==null||C.call(R,this.state.data,_,this)),this.scheduleGc()};return Oe(this,Yn,CC({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,abort:s.abort.bind(s),onSuccess:_=>{var w,S,R,C;if(_===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(_)}catch(D){f(D);return}(S=(w=Y(this,ii).config).onSuccess)==null||S.call(w,_,this),(C=(R=Y(this,ii).config).onSettled)==null||C.call(R,_,this.state.error,this),this.scheduleGc()},onError:f,onFail:(_,w)=>{Et(this,gi,zs).call(this,{type:"failed",failureCount:_,error:w})},onPause:()=>{Et(this,gi,zs).call(this,{type:"pause"})},onContinue:()=>{Et(this,gi,zs).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),Y(this,Yn).start()}},Qu=new WeakMap,Yu=new WeakMap,ii=new WeakMap,cl=new WeakMap,Yn=new WeakMap,Vf=new WeakMap,dl=new WeakMap,gi=new WeakSet,zs=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...OC(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return zv(o)&&o.revert&&Y(this,Yu)?{...Y(this,Yu),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),jn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Y(this,ii).notify({query:this,type:"updated",action:t})})},qA);function OC(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RC(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function x2(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ki,$A,R2=($A=class extends qf{constructor(e={}){super();We(this,Ki);this.config=e,Oe(this,Ki,new Map)}build(e,t,r){const s=t.queryKey,o=t.queryHash??H0(s,t);let u=this.get(o);return u||(u=new S2({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(u)),u}add(e){Y(this,Ki).has(e.queryHash)||(Y(this,Ki).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,Ki).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,Ki).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Ki).get(e)}getAll(){return[...Y(this,Ki).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ex(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>ex(e,r)):t}notify(e){jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){jn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ki=new WeakMap,$A),Qi,ur,fl,Yi,Ua,GA,A2=(GA=class extends IC{constructor(t){super();We(this,Yi);We(this,Qi);We(this,ur);We(this,fl);this.mutationId=t.mutationId,Oe(this,ur,t.mutationCache),Oe(this,Qi,[]),this.state=t.state||C2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,Qi).includes(t)||(Y(this,Qi).push(t),this.clearGcTimeout(),Y(this,ur).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Oe(this,Qi,Y(this,Qi).filter(r=>r!==t)),this.scheduleGc(),Y(this,ur).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,Qi).length||(this.state.status==="pending"?this.scheduleGc():Y(this,ur).remove(this))}continue(){var t;return((t=Y(this,fl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,d,f,h,g,v,_,w,S,R,C,D,B,j,$,Q,U,P,A,O;const r=()=>{Et(this,Yi,Ua).call(this,{type:"continue"})};Oe(this,fl,CC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,z)=>{Et(this,Yi,Ua).call(this,{type:"failed",failureCount:M,error:z})},onPause:()=>{Et(this,Yi,Ua).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,ur).canRun(this)}));const s=this.state.status==="pending",o=!Y(this,fl).canStart();try{if(s)r();else{Et(this,Yi,Ua).call(this,{type:"pending",variables:t,isPaused:o}),await((d=(u=Y(this,ur).config).onMutate)==null?void 0:d.call(u,t,this));const z=await((h=(f=this.options).onMutate)==null?void 0:h.call(f,t));z!==this.state.context&&Et(this,Yi,Ua).call(this,{type:"pending",context:z,variables:t,isPaused:o})}const M=await Y(this,fl).start();return await((v=(g=Y(this,ur).config).onSuccess)==null?void 0:v.call(g,M,t,this.state.context,this)),await((w=(_=this.options).onSuccess)==null?void 0:w.call(_,M,t,this.state.context)),await((R=(S=Y(this,ur).config).onSettled)==null?void 0:R.call(S,M,null,this.state.variables,this.state.context,this)),await((D=(C=this.options).onSettled)==null?void 0:D.call(C,M,null,t,this.state.context)),Et(this,Yi,Ua).call(this,{type:"success",data:M}),M}catch(M){try{throw await((j=(B=Y(this,ur).config).onError)==null?void 0:j.call(B,M,t,this.state.context,this)),await((Q=($=this.options).onError)==null?void 0:Q.call($,M,t,this.state.context)),await((P=(U=Y(this,ur).config).onSettled)==null?void 0:P.call(U,void 0,M,this.state.variables,this.state.context,this)),await((O=(A=this.options).onSettled)==null?void 0:O.call(A,void 0,M,t,this.state.context)),M}finally{Et(this,Yi,Ua).call(this,{type:"error",error:M})}}finally{Y(this,ur).runNext(this)}}},Qi=new WeakMap,ur=new WeakMap,fl=new WeakMap,Yi=new WeakSet,Ua=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jn.batch(()=>{Y(this,Qi).forEach(s=>{s.onMutationUpdate(t)}),Y(this,ur).notify({mutation:this,type:"updated",action:t})})},GA);function C2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hs,yi,Uf,KA,I2=(KA=class extends qf{constructor(e={}){super();We(this,Hs);We(this,yi);We(this,Uf);this.config=e,Oe(this,Hs,new Set),Oe(this,yi,new Map),Oe(this,Uf,0)}build(e,t,r){const s=new A2({mutationCache:this,mutationId:++Sp(this,Uf)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){Y(this,Hs).add(e);const t=Ap(e);if(typeof t=="string"){const r=Y(this,yi).get(t);r?r.push(e):Y(this,yi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Hs).delete(e)){const t=Ap(e);if(typeof t=="string"){const r=Y(this,yi).get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Y(this,yi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ap(e);if(typeof t=="string"){const r=Y(this,yi).get(t),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const t=Ap(e);if(typeof t=="string"){const s=(r=Y(this,yi).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jn.batch(()=>{Y(this,Hs).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Hs).clear(),Y(this,yi).clear()})}getAll(){return Array.from(Y(this,Hs))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>tx(t,r))}findAll(e={}){return this.getAll().filter(t=>tx(e,t))}notify(e){jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return jn.batch(()=>Promise.all(e.map(t=>t.continue().catch(vr))))}},Hs=new WeakMap,yi=new WeakMap,Uf=new WeakMap,KA);function Ap(n){var e;return(e=n.options.scope)==null?void 0:e.id}function ix(n){return{onFetch:(e,t)=>{var g,v,_,w,S;const r=e.options,s=(_=(v=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:v.fetchMore)==null?void 0:_.direction,o=((w=e.state.data)==null?void 0:w.pages)||[],u=((S=e.state.data)==null?void 0:S.pageParams)||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let R=!1;const C=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?R=!0:e.signal.addEventListener("abort",()=>{R=!0}),e.signal)})},D=xC(e.options,e.fetchOptions),B=async(j,$,Q)=>{if(R)return Promise.reject();if($==null&&j.pages.length)return Promise.resolve(j);const U={client:e.client,queryKey:e.queryKey,pageParam:$,direction:Q?"backward":"forward",meta:e.options.meta};C(U);const P=await D(U),{maxPages:A}=e.options,O=Q?y2:g2;return{pages:O(j.pages,P,A),pageParams:O(j.pageParams,$,A)}};if(s&&o.length){const j=s==="backward",$=j?O2:sx,Q={pages:o,pageParams:u},U=$(r,Q);d=await B(Q,U,j)}else{const j=n??o.length;do{const $=f===0?u[0]??r.initialPageParam:sx(r,d);if(f>0&&$==null)break;d=await B(d,$),f++}while(f<j)}return d};e.options.persister?e.fetchFn=()=>{var R,C;return(C=(R=e.options).persister)==null?void 0:C.call(R,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=h}}}function sx(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function O2(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var tn,Ga,Ka,Wu,Zu,Qa,Xu,Ju,QA,k2=(QA=class{constructor(n={}){We(this,tn);We(this,Ga);We(this,Ka);We(this,Wu);We(this,Zu);We(this,Qa);We(this,Xu);We(this,Ju);Oe(this,tn,n.queryCache||new R2),Oe(this,Ga,n.mutationCache||new I2),Oe(this,Ka,n.defaultOptions||{}),Oe(this,Wu,new Map),Oe(this,Zu,new Map),Oe(this,Qa,0)}mount(){Sp(this,Qa)._++,Y(this,Qa)===1&&(Oe(this,Xu,$0.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,tn).onFocus())})),Oe(this,Ju,um.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,tn).onOnline())})))}unmount(){var n,e;Sp(this,Qa)._--,Y(this,Qa)===0&&((n=Y(this,Xu))==null||n.call(this),Oe(this,Xu,void 0),(e=Y(this,Ju))==null||e.call(this),Oe(this,Ju,void 0))}isFetching(n){return Y(this,tn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,Ga).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,tn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,tn).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ja(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,tn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=Y(this,tn).get(r.queryHash),o=s==null?void 0:s.state.data,u=p2(e,o);if(u!==void 0)return Y(this,tn).build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return jn.batch(()=>Y(this,tn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,tn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,tn);jn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,tn);return jn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=jn.batch(()=>Y(this,tn).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(n,e={}){return jn.batch(()=>(Y(this,tn).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=jn.batch(()=>Y(this,tn).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,t);return t.throwOnError||(o=o.catch(vr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(vr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,tn).build(this,e);return t.isStaleByTime(Ja(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(vr).catch(vr)}fetchInfiniteQuery(n){return n.behavior=ix(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(vr).catch(vr)}ensureInfiniteQueryData(n){return n.behavior=ix(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return um.isOnline()?Y(this,Ga).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,tn)}getMutationCache(){return Y(this,Ga)}getDefaultOptions(){return Y(this,Ka)}setDefaultOptions(n){Oe(this,Ka,n)}setQueryDefaults(n,e){Y(this,Wu).set(tf(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,Wu).values()],t={};return e.forEach(r=>{nf(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,Zu).set(tf(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,Zu).values()],t={};return e.forEach(r=>{nf(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,Ka).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=H0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===q0&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,Ka).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,tn).clear(),Y(this,Ga).clear()}},tn=new WeakMap,Ga=new WeakMap,Ka=new WeakMap,Wu=new WeakMap,Zu=new WeakMap,Qa=new WeakMap,Xu=new WeakMap,Ju=new WeakMap,QA),yr,Tt,jf,cr,hl,ec,Ya,Wa,zf,tc,nc,pl,ml,Za,rc,Lt,Vd,A_,C_,I_,O_,k_,N_,D_,kC,YA,N2=(YA=class extends qf{constructor(e,t){super();We(this,Lt);We(this,yr);We(this,Tt);We(this,jf);We(this,cr);We(this,hl);We(this,ec);We(this,Ya);We(this,Wa);We(this,zf);We(this,tc);We(this,nc);We(this,pl);We(this,ml);We(this,Za);We(this,rc,new Set);this.options=t,Oe(this,yr,e),Oe(this,Wa,null),Oe(this,Ya,R_()),this.options.experimental_prefetchInRender||Y(this,Ya).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Tt).addObserver(this),ax(Y(this,Tt),this.options)?Et(this,Lt,Vd).call(this):this.updateResult(),Et(this,Lt,O_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return P_(Y(this,Tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return P_(Y(this,Tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Et(this,Lt,k_).call(this),Et(this,Lt,N_).call(this),Y(this,Tt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,Tt);if(this.options=Y(this,yr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vi(this.options.enabled,Y(this,Tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Et(this,Lt,D_).call(this),Y(this,Tt).setOptions(this.options),t._defaulted&&!T_(this.options,t)&&Y(this,yr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Tt),observer:this});const s=this.hasListeners();s&&ox(Y(this,Tt),r,this.options,t)&&Et(this,Lt,Vd).call(this),this.updateResult(),s&&(Y(this,Tt)!==r||vi(this.options.enabled,Y(this,Tt))!==vi(t.enabled,Y(this,Tt))||Ja(this.options.staleTime,Y(this,Tt))!==Ja(t.staleTime,Y(this,Tt)))&&Et(this,Lt,A_).call(this);const o=Et(this,Lt,C_).call(this);s&&(Y(this,Tt)!==r||vi(this.options.enabled,Y(this,Tt))!==vi(t.enabled,Y(this,Tt))||o!==Y(this,Za))&&Et(this,Lt,I_).call(this,o)}getOptimisticResult(e){const t=Y(this,yr).getQueryCache().build(Y(this,yr),e),r=this.createResult(t,e);return P2(this,r)&&(Oe(this,cr,r),Oe(this,ec,this.options),Oe(this,hl,Y(this,Tt).state)),r}getCurrentResult(){return Y(this,cr)}trackResult(e,t){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),t==null||t(s),Reflect.get(r,s))})}trackProp(e){Y(this,rc).add(e)}getCurrentQuery(){return Y(this,Tt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,yr).defaultQueryOptions(e),r=Y(this,yr).getQueryCache().build(Y(this,yr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return Et(this,Lt,Vd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,cr)))}createResult(e,t){var O;const r=Y(this,Tt),s=this.options,o=Y(this,cr),u=Y(this,hl),d=Y(this,ec),h=e!==r?e.state:Y(this,jf),{state:g}=e;let v={...g},_=!1,w;if(t._optimisticResults){const M=this.hasListeners(),z=!M&&ax(e,t),H=M&&ox(e,r,t,s);(z||H)&&(v={...v,...OC(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:S,errorUpdatedAt:R,status:C}=v;w=v.data;let D=!1;if(t.placeholderData!==void 0&&w===void 0&&C==="pending"){let M;o!=null&&o.isPlaceholderData&&t.placeholderData===(d==null?void 0:d.placeholderData)?(M=o.data,D=!0):M=typeof t.placeholderData=="function"?t.placeholderData((O=Y(this,nc))==null?void 0:O.state.data,Y(this,nc)):t.placeholderData,M!==void 0&&(C="success",w=x_(o==null?void 0:o.data,M,t),_=!0)}if(t.select&&w!==void 0&&!D)if(o&&w===(u==null?void 0:u.data)&&t.select===Y(this,zf))w=Y(this,tc);else try{Oe(this,zf,t.select),w=t.select(w),w=x_(o==null?void 0:o.data,w,t),Oe(this,tc,w),Oe(this,Wa,null)}catch(M){Oe(this,Wa,M)}Y(this,Wa)&&(S=Y(this,Wa),w=Y(this,tc),R=Date.now(),C="error");const B=v.fetchStatus==="fetching",j=C==="pending",$=C==="error",Q=j&&B,U=w!==void 0,A={status:C,fetchStatus:v.fetchStatus,isPending:j,isSuccess:C==="success",isError:$,isInitialLoading:Q,isLoading:Q,data:w,dataUpdatedAt:v.dataUpdatedAt,error:S,errorUpdatedAt:R,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:B,isRefetching:B&&!j,isLoadingError:$&&!U,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:$&&U,isStale:G0(e,t),refetch:this.refetch,promise:Y(this,Ya)};if(this.options.experimental_prefetchInRender){const M=L=>{A.status==="error"?L.reject(A.error):A.data!==void 0&&L.resolve(A.data)},z=()=>{const L=Oe(this,Ya,A.promise=R_());M(L)},H=Y(this,Ya);switch(H.status){case"pending":e.queryHash===r.queryHash&&M(H);break;case"fulfilled":(A.status==="error"||A.data!==H.value)&&z();break;case"rejected":(A.status!=="error"||A.error!==H.reason)&&z();break}}return A}updateResult(){const e=Y(this,cr),t=this.createResult(Y(this,Tt),this.options);if(Oe(this,hl,Y(this,Tt).state),Oe(this,ec,this.options),Y(this,hl).data!==void 0&&Oe(this,nc,Y(this,Tt)),T_(t,e))return;Oe(this,cr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!Y(this,rc).size)return!0;const u=new Set(o??Y(this,rc));return this.options.throwOnError&&u.add("error"),Object.keys(Y(this,cr)).some(d=>{const f=d;return Y(this,cr)[f]!==e[f]&&u.has(f)})};Et(this,Lt,kC).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Et(this,Lt,O_).call(this)}},yr=new WeakMap,Tt=new WeakMap,jf=new WeakMap,cr=new WeakMap,hl=new WeakMap,ec=new WeakMap,Ya=new WeakMap,Wa=new WeakMap,zf=new WeakMap,tc=new WeakMap,nc=new WeakMap,pl=new WeakMap,ml=new WeakMap,Za=new WeakMap,rc=new WeakMap,Lt=new WeakSet,Vd=function(e){Et(this,Lt,D_).call(this);let t=Y(this,Tt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(vr)),t},A_=function(){Et(this,Lt,k_).call(this);const e=Ja(this.options.staleTime,Y(this,Tt));if(vl||Y(this,cr).isStale||!E_(e))return;const r=TC(Y(this,cr).dataUpdatedAt,e)+1;Oe(this,pl,setTimeout(()=>{Y(this,cr).isStale||this.updateResult()},r))},C_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Tt)):this.options.refetchInterval)??!1},I_=function(e){Et(this,Lt,N_).call(this),Oe(this,Za,e),!(vl||vi(this.options.enabled,Y(this,Tt))===!1||!E_(Y(this,Za))||Y(this,Za)===0)&&Oe(this,ml,setInterval(()=>{(this.options.refetchIntervalInBackground||$0.isFocused())&&Et(this,Lt,Vd).call(this)},Y(this,Za)))},O_=function(){Et(this,Lt,A_).call(this),Et(this,Lt,I_).call(this,Et(this,Lt,C_).call(this))},k_=function(){Y(this,pl)&&(clearTimeout(Y(this,pl)),Oe(this,pl,void 0))},N_=function(){Y(this,ml)&&(clearInterval(Y(this,ml)),Oe(this,ml,void 0))},D_=function(){const e=Y(this,yr).getQueryCache().build(Y(this,yr),this.options);if(e===Y(this,Tt))return;const t=Y(this,Tt);Oe(this,Tt,e),Oe(this,jf,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},kC=function(e){jn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,cr))}),Y(this,yr).getQueryCache().notify({query:Y(this,Tt),type:"observerResultsUpdated"})})},YA);function D2(n,e){return vi(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function ax(n,e){return D2(n,e)||n.state.data!==void 0&&P_(n,e,e.refetchOnMount)}function P_(n,e,t){if(vi(e.enabled,n)!==!1&&Ja(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&G0(n,e)}return!1}function ox(n,e,t,r){return(n!==e||vi(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&G0(n,t)}function G0(n,e){return vi(e.enabled,n)!==!1&&n.isStaleByTime(Ja(e.staleTime,n))}function P2(n,e){return!T_(n.getCurrentResult(),e)}var NC=x.createContext(void 0),M2=n=>{const e=x.useContext(NC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},L2=({client:n,children:e})=>(x.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),k.jsx(NC.Provider,{value:n,children:e})),DC=x.createContext(!1),V2=()=>x.useContext(DC);DC.Provider;function U2(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var j2=x.createContext(U2()),z2=()=>x.useContext(j2),F2=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},B2=n=>{x.useEffect(()=>{n.clearReset()},[n])},H2=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(s&&n.data===void 0||v2(t,[n.error,r])),q2=n=>{if(n.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...r)=>e(t(...r)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},$2=(n,e)=>n.isLoading&&n.isFetching&&!e,G2=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,lx=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function K2(n,e,t){var v,_,w,S,R;const r=M2(),s=V2(),o=z2(),u=r.defaultQueryOptions(n);(_=(v=r.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||_.call(v,u),u._optimisticResults=s?"isRestoring":"optimistic",q2(u),F2(u,o),B2(o);const d=!r.getQueryCache().get(u.queryHash),[f]=x.useState(()=>new e(r,u)),h=f.getOptimisticResult(u),g=!s&&n.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(C=>{const D=g?f.subscribe(jn.batchCalls(C)):vr;return f.updateResult(),D},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),x.useEffect(()=>{f.setOptions(u)},[u,f]),G2(u,h))throw lx(u,f,o);if(H2({result:h,errorResetBoundary:o,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw h.error;if((S=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||S.call(w,u,h),u.experimental_prefetchInRender&&!vl&&$2(h,s)){const C=d?lx(u,f,o):(R=r.getQueryCache().get(u.queryHash))==null?void 0:R.promise;C==null||C.catch(vr).finally(()=>{f.updateResult()})}return u.notifyOnChangeProps?h:f.trackResult(h)}function Q2(n,e){return K2(n,N2)}const et=n=>typeof n=="string",Nd=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},ux=n=>n==null?"":""+n,Y2=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},W2=/###/g,cx=n=>n&&n.indexOf("###")>-1?n.replace(W2,"."):n,dx=n=>!n||et(n),Gd=(n,e,t)=>{const r=et(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(dx(n))return{};const o=cx(r[s]);!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={},++s}return dx(n)?{}:{obj:n,k:cx(r[s])}},fx=(n,e,t)=>{const{obj:r,k:s}=Gd(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let o=e[e.length-1],u=e.slice(0,e.length-1),d=Gd(n,u,Object);for(;d.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),d=Gd(n,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${o}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${o}`]=t},Z2=(n,e,t,r)=>{const{obj:s,k:o}=Gd(n,e,Object);s[o]=s[o]||[],s[o].push(t)},cm=(n,e)=>{const{obj:t,k:r}=Gd(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},X2=(n,e,t)=>{const r=cm(n,t);return r!==void 0?r:cm(e,t)},PC=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?et(n[r])||n[r]instanceof String||et(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):PC(n[r],e[r],t):n[r]=e[r]);return n},Tu=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var J2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const eL=n=>et(n)?n.replace(/[&<>"'\/]/g,e=>J2[e]):n;class tL{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const nL=[" ",",","?","!",";"],rL=new tL(20),iL=(n,e,t)=>{e=e||"",t=t||"";const r=nL.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const s=rL.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!s.test(n);if(!o){const u=n.indexOf(t);u>0&&!s.test(n.substring(0,u))&&(o=!0)}return o},M_=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let s=n;for(let o=0;o<r.length;){if(!s||typeof s!="object")return;let u,d="";for(let f=o;f<r.length;++f)if(f!==o&&(d+=t),d+=r[f],u=s[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;o+=f-o+1;break}s=u}return s},rf=n=>n==null?void 0:n.replace("_","-"),sL={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};let aL=class L_{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||sL,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(et(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new L_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new L_(this.logger,e)}};var Zi=new aL;class Wm{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let u=0;u<o;u++)s.apply(s,[e,...t])})}}class hx extends Wm{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,s={}){var h,g;const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):et(r)&&o?d.push(...r.split(o)):d.push(r)));const f=cm(this.data,d);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),f||!u||!et(r)?f:M_((g=(h=this.data)==null?void 0:h[e])==null?void 0:g[t],r,o)}addResource(e,t,r,s,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),s=t,t=d[1]),this.addNamespaces(t),fx(this.data,d,s),o.silent||this.emit("added",e,t,r,s)}addResources(e,t,r,s={silent:!1}){for(const o in r)(et(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,o,u={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),s=r,r=t,t=d[1]),this.addNamespaces(t);let f=cm(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?PC(f,r,o):f={...f,...r},fx(this.data,d,f),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var MC={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,t,r,s))??e}),e}};const px={},mx=n=>!et(n)&&typeof n!="boolean"&&typeof n!="number";class dm extends Wm{constructor(e,t={}){super(),Y2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const s=this.resolve(e,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!iL(e,r,s);if(u&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:et(o)?[o]:o};const h=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(h[0])>-1)&&(o=h.shift()),e=h.join(s)}return{key:e,namespaces:et(o)?[o]:o}}translate(e,t,r){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(e[e.length-1],s),h=f[f.length-1];let g=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const v=s.lng||this.language,_=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((v==null?void 0:v.toLowerCase())==="cimode")return _?o?{res:`${h}${g}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${g}${d}`:o?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:d;const w=this.resolve(e,s);let S=w==null?void 0:w.res;const R=(w==null?void 0:w.usedKey)||d,C=(w==null?void 0:w.exactUsedKey)||d,D=["[object Number]","[object Function]","[object RegExp]"],B=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,$=s.count!==void 0&&!et(s.count),Q=dm.hasDefaultValue(s),U=$?this.pluralResolver.getSuffix(v,s.count,s):"",P=s.ordinal&&$?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",A=$&&!s.ordinal&&s.count===0,O=A&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${U}`]||s[`defaultValue${P}`]||s.defaultValue;let M=S;j&&!S&&Q&&(M=O);const z=mx(M),H=Object.prototype.toString.apply(M);if(j&&M&&z&&D.indexOf(H)<0&&!(et(B)&&Array.isArray(M))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,M,{...s,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return o?(w.res=L,w.usedParams=this.getUsedParamsDetails(s),w):L}if(u){const L=Array.isArray(M),we=L?[]:{},Ee=L?C:R;for(const K in M)if(Object.prototype.hasOwnProperty.call(M,K)){const le=`${Ee}${u}${K}`;Q&&!S?we[K]=this.translate(le,{...s,defaultValue:mx(O)?O[K]:void 0,joinArrays:!1,ns:f}):we[K]=this.translate(le,{...s,joinArrays:!1,ns:f}),we[K]===le&&(we[K]=M[K])}S=we}}else if(j&&et(B)&&Array.isArray(S))S=S.join(B),S&&(S=this.extendTranslation(S,e,s,r));else{let L=!1,we=!1;!this.isValidLookup(S)&&Q&&(L=!0,S=O),this.isValidLookup(S)||(we=!0,S=d);const K=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&we?void 0:S,le=Q&&O!==S&&this.options.updateMissing;if(we||L||le){if(this.logger.log(le?"updateKey":"missingKey",v,h,d,le?O:S),u){const ie=this.resolve(d,{...s,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let ie=0;ie<de.length;ie++)te.push(de[ie]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(s.lng||this.language):te.push(s.lng||this.language);const V=(ie,pe,oe)=>{var Ue;const _e=Q&&oe!==S?oe:K;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,h,pe,_e,le,s):(Ue=this.backendConnector)!=null&&Ue.saveMissing&&this.backendConnector.saveMissing(ie,h,pe,_e,le,s),this.emit("missingKey",ie,h,pe,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?te.forEach(ie=>{const pe=this.pluralResolver.getSuffixes(ie,s);A&&s[`defaultValue${this.options.pluralSeparator}zero`]&&pe.indexOf(`${this.options.pluralSeparator}zero`)<0&&pe.push(`${this.options.pluralSeparator}zero`),pe.forEach(oe=>{V([ie],d+oe,s[`defaultValue${oe}`]||O)})}):V(te,d,O))}S=this.extendTranslation(S,e,s,w,r),we&&S===d&&this.options.appendNamespaceToMissingKey&&(S=`${h}${g}${d}`),(we||L)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${g}${d}`:d,L?S:void 0,s))}return o?(w.res=S,w.usedParams=this.getUsedParamsDetails(s),w):S}extendTranslation(e,t,r,s,o){var f,h;if((f=this.i18nFormat)!=null&&f.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const g=et(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(g){const w=e.match(this.interpolator.nestingRegexp);v=w&&w.length}let _=r.replace&&!et(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),e=this.interpolator.interpolate(e,_,r.lng||this.language||s.usedLng,r),g){const w=e.match(this.interpolator.nestingRegexp),S=w&&w.length;v<S&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...w)=>(o==null?void 0:o[0])===w[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${t[0]}`),null):this.translate(...w,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,d=et(u)?[u]:u;return e!=null&&(d!=null&&d.length)&&r.applyPostProcessor!==!1&&(e=MC.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,s,o,u,d;return et(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(f,t),g=h.key;s=g;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const _=t.count!==void 0&&!et(t.count),w=_&&!t.ordinal&&t.count===0,S=t.context!==void 0&&(et(t.context)||typeof t.context=="number")&&t.context!=="",R=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(C=>{var D,B;this.isValidLookup(r)||(d=C,!px[`${R[0]}-${C}`]&&((D=this.utils)!=null&&D.hasLoadedNamespace)&&!((B=this.utils)!=null&&B.hasLoadedNamespace(d))&&(px[`${R[0]}-${C}`]=!0,this.logger.warn(`key "${s}" for languages "${R.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),R.forEach(j=>{var U;if(this.isValidLookup(r))return;u=j;const $=[g];if((U=this.i18nFormat)!=null&&U.addLookupKeys)this.i18nFormat.addLookupKeys($,g,j,C,t);else{let P;_&&(P=this.pluralResolver.getSuffix(j,t.count,t));const A=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_&&($.push(g+P),t.ordinal&&P.indexOf(O)===0&&$.push(g+P.replace(O,this.options.pluralSeparator)),w&&$.push(g+A)),S){const M=`${g}${this.options.contextSeparator}${t.context}`;$.push(M),_&&($.push(M+P),t.ordinal&&P.indexOf(O)===0&&$.push(M+P.replace(O,this.options.pluralSeparator)),w&&$.push(M+A))}}let Q;for(;Q=$.pop();)this.isValidLookup(r)||(o=Q,r=this.getResource(j,C,Q,t))}))})}),{res:r,usedKey:s,exactUsedKey:o,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,s={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!et(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const o of t)delete s[o]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class gx{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zi.create("languageUtils")}getScriptPartFromCode(e){if(e=rf(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=rf(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(et(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return t=s;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),et(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],o=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return et(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):et(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&o(this.formatLanguageCode(u))}),s}}const yx={zero:0,one:1,two:2,few:3,many:4,other:5},vx={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class oL{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Zi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=rf(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),vx;if(!e.match(/-|_/))return vx;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[o]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,o)=>yx[s]-yx[o]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const _x=(n,e,t,r=".",s=!0)=>{let o=X2(n,e,t);return!o&&s&&et(t)&&(o=M_(n,t,r),o===void 0&&(o=M_(e,t,r))),o},Fv=n=>n.replace(/\$/g,"$$$$");class lL{constructor(e={}){var t;this.logger=Zi.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:o,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:h,unescapeSuffix:g,unescapePrefix:v,nestingPrefix:_,nestingPrefixEscaped:w,nestingSuffix:S,nestingSuffixEscaped:R,nestingOptionsSeparator:C,maxReplaces:D,alwaysFormat:B}=e.interpolation;this.escape=t!==void 0?t:eL,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?Tu(o):u||"{{",this.suffix=d?Tu(d):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=g?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=_?Tu(_):w||Tu("$t("),this.nestingSuffix=S?Tu(S):R||Tu(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=D||1e3,this.alwaysFormat=B!==void 0?B:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){var w;let o,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=S=>{if(S.indexOf(this.formatSeparator)<0){const B=_x(t,f,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(B,void 0,r,{...s,...t,interpolationkey:S}):B}const R=S.split(this.formatSeparator),C=R.shift().trim(),D=R.join(this.formatSeparator).trim();return this.format(_x(t,f,C,this.options.keySeparator,this.options.ignoreJSONStructure),D,r,{...s,...t,interpolationkey:C})};this.resetRegExp();const g=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((w=s==null?void 0:s.interpolation)==null?void 0:w.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>Fv(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?Fv(this.escape(S)):Fv(S)}].forEach(S=>{for(d=0;o=S.regex.exec(e);){const R=o[1].trim();if(u=h(R),u===void 0)if(typeof g=="function"){const D=g(e,o,s);u=et(D)?D:""}else if(s&&Object.prototype.hasOwnProperty.call(s,R))u="";else if(v){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${R} for interpolating ${e}`),u="";else!et(u)&&!this.useRawValueToEscape&&(u=ux(u));const C=S.safeValue(u);if(e=e.replace(o[0],C),v?(S.regex.lastIndex+=u.length,S.regex.lastIndex-=o[0].length):S.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,r={}){let s,o,u;const d=(f,h)=>{const g=this.nestingOptionsSeparator;if(f.indexOf(g)<0)return f;const v=f.split(new RegExp(`${g}[ ]*{`));let _=`{${v[1]}`;f=v[0],_=this.interpolate(_,u);const w=_.match(/'/g),S=_.match(/"/g);(((w==null?void 0:w.length)??0)%2===0&&!S||S.length%2!==0)&&(_=_.replace(/'/g,'"'));try{u=JSON.parse(_),h&&(u={...h,...u})}catch(R){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,R),`${f}${g}${_}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;s=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!et(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let h=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const g=s[1].split(this.formatSeparator).map(v=>v.trim());s[1]=g.shift(),f=g,h=!0}if(o=t(d.call(this,s[1].trim(),u),u),o&&s[0]===e&&!et(o))return o;et(o)||(o=ux(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),o=""),h&&(o=f.reduce((g,v)=>this.format(g,v,r.lng,{...r,interpolationkey:s[1].trim()}),o.trim())),e=e.replace(s[0],o),this.regexp.lastIndex=0}return e}}const uL=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),g=d.trim();t[g]||(t[g]=h),h==="false"&&(t[g]=!1),h==="true"&&(t[g]=!0),isNaN(h)||(t[g]=parseInt(h,10))}})}return{formatName:e,formatOptions:t}},bx=n=>{const e={};return(t,r,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const u=r+JSON.stringify(o);let d=e[u];return d||(d=n(rf(r),s),e[u]=d),d(t)}},cL=n=>(e,t,r)=>n(rf(t),r)(e);class dL{constructor(e={}){this.logger=Zi.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?bx:cL;this.formats={number:r((s,o)=>{const u=new Intl.NumberFormat(s,{...o});return d=>u.format(d)}),currency:r((s,o)=>{const u=new Intl.NumberFormat(s,{...o,style:"currency"});return d=>u.format(d)}),datetime:r((s,o)=>{const u=new Intl.DateTimeFormat(s,{...o});return d=>u.format(d)}),relativetime:r((s,o)=>{const u=new Intl.RelativeTimeFormat(s,{...o});return d=>u.format(d,o.range||"day")}),list:r((s,o)=>{const u=new Intl.ListFormat(s,{...o});return d=>u.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=bx(t)}format(e,t,r,s={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(d=>d.indexOf(")")>-1)){const d=o.findIndex(f=>f.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,d)].join(this.formatSeparator)}return o.reduce((d,f)=>{var v;const{formatName:h,formatOptions:g}=uL(f);if(this.formats[h]){let _=d;try{const w=((v=s==null?void 0:s.formatParams)==null?void 0:v[s.interpolationkey])||{},S=w.locale||w.lng||s.locale||s.lng||r;_=this.formats[h](d,S,{...g,...s,...w})}catch(w){this.logger.warn(w)}return _}else this.logger.warn(`there was no format function for ${h}`);return d},e)}}const fL=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class hL extends Wm{constructor(e,t,r,s={}){var o,u;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Zi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,r,s.backend,s)}queueLoad(e,t,r,s){const o={},u={},d={},f={};return e.forEach(h=>{let g=!0;t.forEach(v=>{const _=`${h}|${v}`;!r.reload&&this.store.hasResourceBundle(h,v)?this.state[_]=2:this.state[_]<0||(this.state[_]===1?u[_]===void 0&&(u[_]=!0):(this.state[_]=1,g=!1,u[_]===void 0&&(u[_]=!0),o[_]===void 0&&(o[_]=!0),f[v]===void 0&&(f[v]=!0)))}),g||(d[h]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const s=e.split("|"),o=s[0],u=s[1];t&&this.emit("failedLoading",o,u,t),!t&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{Z2(f.loaded,[o],u),fL(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{d[h]||(d[h]={});const g=f.loaded[h];g.length&&g.forEach(v=>{d[h][v]===void 0&&(d[h][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r,s=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:o,callback:u});return}this.readingCalls++;const d=(h,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&g&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,o*2,u)},o);return}u(h,g)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const h=f(e,t);h&&typeof h.then=="function"?h.then(g=>d(null,g)).catch(d):d(null,h)}catch(h){d(h)}return}return f(e,t,d)}prepareLoading(e,t,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();et(e)&&(e=this.languageUtils.toResolveHierarchy(e)),et(t)&&(t=[t]);const o=this.queueLoad(e,t,r,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),s=r[0],o=r[1];this.read(s,o,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${o} for language ${s} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${o} for language ${s}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,s,o,u={},d=()=>{}){var f,h,g,v,_;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((v=(g=this.services)==null?void 0:g.utils)!=null&&v.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((_=this.backend)!=null&&_.create){const w={...u,isUpdate:o},S=this.backend.create.bind(this.backend);if(S.length<6)try{let R;S.length===5?R=S(e,t,r,s,w):R=S(e,t,r,s),R&&typeof R.then=="function"?R.then(C=>d(null,C)).catch(d):d(null,R)}catch(R){d(R)}else S(e,t,r,s,d,w)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const wx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),et(n[1])&&(e.defaultValue=n[1]),et(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Ex=n=>{var e,t;return et(n.ns)&&(n.ns=[n.ns]),et(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),et(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Cp=()=>{},pL=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class sf extends Wm{constructor(e={},t){if(super(),this.options=Ex(e),this.services={},this.logger=Zi,this.modules={external:[]},pL(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(et(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=wx();this.options={...r,...this.options,...Ex(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Zi.init(s(this.modules.logger),this.options):Zi.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=dL;const g=new gx(this.options);this.store=new hx(this.options.resources,this.options);const v=this.services;v.logger=Zi,v.resourceStore=this.store,v.languageUtils=g,v.pluralResolver=new oL(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=s(h),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new lL(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new hL(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...w)=>{this.emit(_,...w)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new dm(this.services,this.options),this.translator.on("*",(_,...w)=>{this.emit(_,...w)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Cp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...g)=>this.store[h](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...g)=>(this.store[h](...g),this)});const d=Nd(),f=()=>{const h=(g,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),t(g,v)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(e,t=Cp){var o,u;let r=t;const s=et(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(v=>{v!=="cimode"&&d.indexOf(v)<0&&d.push(v)})};s?f(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(g=>f(g)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,h=>f(h)),this.services.backendConnector.load(d,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,t,r){const s=Nd();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Cp),this.services.backendConnector.reload(e,t,o=>{s.resolve(),r(o)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&MC.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Nd();this.emit("languageChanging",e);const s=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},o=(d,f)=>{f?this.isLanguageChangingTo===e&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),t&&t(d,(...h)=>this.t(...h))},u=d=>{var g,v;!e&&!d&&this.services.languageDetector&&(d=[]);const f=et(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(et(d)?[d]:d);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),(v=(g=this.services.languageDetector)==null?void 0:g.cacheUserLanguage)==null||v.call(g,h)),this.loadResources(h,_=>{o(_,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const s=(o,u,...d)=>{let f;typeof u!="object"?f=this.options.overloadTranslationOptionHandler([o,u].concat(d)):f={...u},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||s.keyPrefix);const h=this.options.keySeparator||".";let g;return f.keyPrefix&&Array.isArray(o)?g=o.map(v=>`${f.keyPrefix}${h}${v}`):g=f.keyPrefix?`${f.keyPrefix}${h}${o}`:o,this.t(g,f)};return et(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const h=this.services.backendConnector.state[`${d}|${f}`];return h===-1||h===0||h===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(o,e)))}loadNamespaces(e,t){const r=Nd();return this.options.ns?(et(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Nd();et(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=s.concat(o),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var s,o;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((o=this.services)==null?void 0:o.languageUtils)||new gx(wx());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new sf(e,t)}cloneInstance(e={},t=Cp){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new sf(s);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(d=>{o[d]=this[d]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const d=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((g,v)=>(g[v]={...f[h][v]},g),f[h]),f),{});o.store=new hx(d,s),o.services.resourceStore=o.store}return o.translator=new dm(o.services,s),o.translator.on("*",(d,...f)=>{o.emit(d,...f)}),o.init(s,t),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nr=sf.createInstance();nr.createInstance=sf.createInstance;nr.createInstance;nr.dir;nr.init;nr.loadResources;nr.reloadResources;nr.use;nr.changeLanguage;nr.getFixedT;nr.t;nr.exists;nr.setDefaultNamespace;nr.hasLoadedNamespace;nr.loadNamespaces;nr.loadLanguages;const mL=(n,e,t,r)=>{var o,u,d,f;const s=[t,{code:e,...r||{}}];if((u=(o=n==null?void 0:n.services)==null?void 0:o.logger)!=null&&u.forward)return n.services.logger.forward(s,"warn","react-i18next::",!0);gl(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(f=(d=n==null?void 0:n.services)==null?void 0:d.logger)!=null&&f.warn?n.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Tx={},V_=(n,e,t,r)=>{gl(t)&&Tx[t]||(gl(t)&&(Tx[t]=new Date),mL(n,e,t,r))},LC=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},U_=(n,e,t)=>{n.loadNamespaces(e,LC(n,t))},Sx=(n,e,t,r)=>{if(gl(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return U_(n,t,r);t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,LC(n,r))},gL=(n,e,t={})=>!e.languages||!e.languages.length?(V_(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,s)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,n))return!1}}),gl=n=>typeof n=="string",yL=n=>typeof n=="object"&&n!==null,vL=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_L={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},bL=n=>_L[n],wL=n=>n.replace(vL,bL);let j_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:wL};const EL=(n={})=>{j_={...j_,...n}},TL=()=>j_;let VC;const SL=n=>{VC=n},xL=()=>VC,RL={type:"3rdParty",init(n){EL(n.options.react),SL(n)}},AL=x.createContext();class CL{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const IL=(n,e)=>{const t=x.useRef();return x.useEffect(()=>{t.current=n},[n,e]),t.current},UC=(n,e,t,r)=>n.getFixedT(e,t,r),OL=(n,e,t,r)=>x.useCallback(UC(n,e,t,r),[n,e,t,r]),Zm=(n,e={})=>{var $,Q,U,P;const{i18n:t}=e,{i18n:r,defaultNS:s}=x.useContext(AL)||{},o=t||r||xL();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new CL),!o){V_(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(M,z)=>gl(z)?z:yL(z)&&gl(z.defaultValue)?z.defaultValue:Array.isArray(M)?M[M.length-1]:M,O=[A,{},!1];return O.t=A,O.i18n={},O.ready=!1,O}($=o.options.react)!=null&&$.wait&&V_(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...TL(),...o.options.react,...e},{useSuspense:d,keyPrefix:f}=u;let h=s||((Q=o.options)==null?void 0:Q.defaultNS);h=gl(h)?[h]:h||["translation"],(P=(U=o.reportNamespaces).addUsedNamespaces)==null||P.call(U,h);const g=(o.isInitialized||o.initializedStoreOnce)&&h.every(A=>gL(A,o,u)),v=OL(o,e.lng||null,u.nsMode==="fallback"?h:h[0],f),_=()=>v,w=()=>UC(o,e.lng||null,u.nsMode==="fallback"?h:h[0],f),[S,R]=x.useState(_);let C=h.join();e.lng&&(C=`${e.lng}${C}`);const D=IL(C),B=x.useRef(!0);x.useEffect(()=>{const{bindI18n:A,bindI18nStore:O}=u;B.current=!0,!g&&!d&&(e.lng?Sx(o,e.lng,h,()=>{B.current&&R(w)}):U_(o,h,()=>{B.current&&R(w)})),g&&D&&D!==C&&B.current&&R(w);const M=()=>{B.current&&R(w)};return A&&(o==null||o.on(A,M)),O&&(o==null||o.store.on(O,M)),()=>{B.current=!1,o&&(A==null||A.split(" ").forEach(z=>o.off(z,M))),O&&o&&O.split(" ").forEach(z=>o.store.off(z,M))}},[o,C]),x.useEffect(()=>{B.current&&g&&R(_)},[o,f,g]);const j=[S,o,g];if(j.t=S,j.i18n=o,j.ready=g,g||!g&&!d)return j;throw new Promise(A=>{e.lng?Sx(o,e.lng,h,()=>A()):U_(o,h,()=>A())})};function z_(n){"@babel/helpers - typeof";return z_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z_(n)}function jC(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":z_(XMLHttpRequest))==="object"}function kL(n){return!!n&&typeof n.then=="function"}function NL(n){return kL(n)?n:Promise.resolve(n)}const DL="modulepreload",PL=function(n){return"/pokemon_battle_arena/"+n},xx={},ML=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let u=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=u(t.map(h=>{if(h=PL(h),h in xx)return;xx[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":DL,g||(_.as="script"),_.crossOrigin="",_.href=h,f&&_.setAttribute("nonce",f),document.head.appendChild(_),g)return new Promise((w,S)=>{_.addEventListener("load",w),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function Rx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Ax(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rx(Object(t),!0).forEach(function(r){LL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rx(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function LL(n,e,t){return(e=VL(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VL(n){var e=UL(n,"string");return _l(e)=="symbol"?e:e+""}function UL(n,e){if(_l(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _l(n){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(n)}var ao=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?ao=global.fetch:typeof window<"u"&&window.fetch&&(ao=window.fetch);var af;jC()&&(typeof global<"u"&&global.XMLHttpRequest?af=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(af=window.XMLHttpRequest));var fm;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?fm=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(fm=window.ActiveXObject));typeof ao!="function"&&(ao=void 0);if(!ao&&!af&&!fm)try{ML(()=>import("./browser-ponyfill-CPs1bhsF.js").then(n=>n.b),[]).then(function(n){ao=n.default}).catch(function(){})}catch{}var F_=function(e,t){if(t&&_l(t)==="object"){var r="";for(var s in t)r+="&"+encodeURIComponent(s)+"="+encodeURIComponent(t[s]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},Cx=function(e,t,r,s){var o=function(f){if(!f.ok)return r(f.statusText||"Error",{status:f.status});f.text().then(function(h){r(null,{status:f.status,data:h})}).catch(r)};if(s){var u=s(e,t);if(u instanceof Promise){u.then(o).catch(r);return}}typeof fetch=="function"?fetch(e,t).then(o).catch(r):ao(e,t).then(o).catch(r)},Ix=!1,jL=function(e,t,r,s){e.queryStringParams&&(t=F_(t,e.queryStringParams));var o=Ax({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var u=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,d=Ax({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:o},Ix?{}:u),f=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{Cx(t,d,s,f)}catch(h){if(!u||Object.keys(u).length===0||!h.message||h.message.indexOf("not implemented")<0)return s(h);try{Object.keys(u).forEach(function(g){delete d[g]}),Cx(t,d,s,f),Ix=!0}catch(g){s(g)}}},zL=function(e,t,r,s){r&&_l(r)==="object"&&(r=F_("",r).slice(1)),e.queryStringParams&&(t=F_(t,e.queryStringParams));try{var o=af?new af:new fm("MSXML2.XMLHTTP.3.0");o.open(r?"POST":"GET",t,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var u=e.customHeaders;if(u=typeof u=="function"?u():u,u)for(var d in u)o.setRequestHeader(d,u[d]);o.onreadystatechange=function(){o.readyState>3&&s(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(f){console&&console.log(f)}},FL=function(e,t,r,s){if(typeof r=="function"&&(s=r,r=void 0),s=s||function(){},ao&&t.indexOf("file:")!==0)return jL(e,t,r,s);if(jC()||typeof ActiveXObject=="function")return zL(e,t,r,s);s(new Error("No fetch and no xhr implementation found!"))};function ic(n){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(n)}function Ox(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Bv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ox(Object(t),!0).forEach(function(r){zC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ox(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function BL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function HL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,FC(r.key),r)}}function qL(n,e,t){return e&&HL(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function zC(n,e,t){return(e=FC(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FC(n){var e=$L(n,"string");return ic(e)=="symbol"?e:e+""}function $L(n,e){if(ic(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var GL=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,r,s){return zC({},r,s||"")},parseLoadPayload:function(t,r){},request:FL,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},BC=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};BL(this,n),this.services=e,this.options=t,this.allOptions=r,this.type="backend",this.init(e,t,r)}return qL(n,[{key:"init",value:function(t){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=Bv(Bv(Bv({},GL()),this.options||{}),s),this.allOptions=o,this.services&&this.options.reloadInterval){var u=setInterval(function(){return r.reload()},this.options.reloadInterval);ic(u)==="object"&&typeof u.unref=="function"&&u.unref()}}},{key:"readMulti",value:function(t,r,s){this._readAny(t,t,r,r,s)}},{key:"read",value:function(t,r,s){this._readAny([t],t,[r],r,s)}},{key:"_readAny",value:function(t,r,s,o,u){var d=this,f=this.options.loadPath;typeof this.options.loadPath=="function"&&(f=this.options.loadPath(t,s)),f=NL(f),f.then(function(h){if(!h)return u(null,{});var g=d.services.interpolator.interpolate(h,{lng:t.join("+"),ns:s.join("+")});d.loadUrl(g,u,r,o)})}},{key:"loadUrl",value:function(t,r,s,o){var u=this,d=typeof s=="string"?[s]:s,f=typeof o=="string"?[o]:o,h=this.options.parseLoadPayload(d,f);this.options.request(this.options,t,h,function(g,v){if(v&&(v.status>=500&&v.status<600||!v.status))return r("failed loading "+t+"; status code: "+v.status,!0);if(v&&v.status>=400&&v.status<500)return r("failed loading "+t+"; status code: "+v.status,!1);if(!v&&g&&g.message){var _=g.message.toLowerCase(),w=["failed","fetch","network","load"].find(function(C){return _.indexOf(C)>-1});if(w)return r("failed loading "+t+": "+g.message,!0)}if(g)return r(g,!1);var S,R;try{typeof v.data=="string"?S=u.options.parse(v.data,s,o):S=v.data}catch{R="failed parsing "+t+" to json"}if(R)return r(R,!1);r(null,S)})}},{key:"create",value:function(t,r,s,o,u){var d=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var f=this.options.parsePayload(r,s,o),h=0,g=[],v=[];t.forEach(function(_){var w=d.options.addPath;typeof d.options.addPath=="function"&&(w=d.options.addPath(_,r));var S=d.services.interpolator.interpolate(w,{lng:_,ns:r});d.options.request(d.options,S,f,function(R,C){h+=1,g.push(R),v.push(C),h===t.length&&typeof u=="function"&&u(g,v)})})}}},{key:"reload",value:function(){var t=this,r=this.services,s=r.backendConnector,o=r.languageUtils,u=r.logger,d=s.language;if(!(d&&d.toLowerCase()==="cimode")){var f=[],h=function(v){var _=o.toResolveHierarchy(v);_.forEach(function(w){f.indexOf(w)<0&&f.push(w)})};h(d),this.allOptions.preload&&this.allOptions.preload.forEach(function(g){return h(g)}),f.forEach(function(g){t.allOptions.ns.forEach(function(v){s.read(g,v,"read",null,null,function(_,w){_&&u.warn("loading namespace ".concat(v," for language ").concat(g," failed"),_),!_&&w&&u.log("loaded namespace ".concat(v," for language ").concat(g),w),s.loaded("".concat(g,"|").concat(v),_,w)})})})}}}])}();BC.type="backend";const{slice:KL,forEach:QL}=[];function YL(n){return QL.call(KL.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function WL(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const kx=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ZL=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let o=`${n}=${s}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!kx.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!kx.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},Nx={create(n,e,t,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+t*60*1e3)),r&&(s.domain=r),document.cookie=ZL(n,encodeURIComponent(e),s)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let s=t[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(n){this.create(n,"",-1)}};var XL={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return Nx.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:s,cookieOptions:o}=e;t&&typeof document<"u"&&Nx.create(t,n,r,s,o)}},JL={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const u=s.substring(1).split("&");for(let d=0;d<u.length;d++){const f=u[d].indexOf("=");f>0&&u[d].substring(0,f)===e&&(t=u[d].substring(f+1))}}return t}};let Su=null;const Dx=()=>{if(Su!==null)return Su;try{if(Su=typeof window<"u"&&window.localStorage!==null,!Su)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Su=!1}return Su};var eV={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&Dx())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&Dx()&&window.localStorage.setItem(t,n)}};let xu=null;const Px=()=>{if(xu!==null)return xu;try{if(xu=typeof window<"u"&&window.sessionStorage!==null,!xu)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{xu=!1}return xu};var tV={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&Px())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&Px()&&window.sessionStorage.setItem(t,n)}},nV={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:s}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},rV={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},iV={name:"path",lookup(n){var s;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(s=t[typeof e=="number"?e:0])==null?void 0:s.replace("/",""):void 0}},sV={name:"subdomain",lookup(n){var s,o;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(s=window.location)==null?void 0:s.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let HC=!1;try{document.cookie,HC=!0}catch{}const qC=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];HC||qC.splice(1,1);const aV=()=>({order:qC,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class $C{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=YL(t,this.options||{},aV()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(XL),this.addDetector(JL),this.addDetector(eV),this.addDetector(tV),this.addDetector(nV),this.addDetector(rV),this.addDetector(iV),this.addDetector(sV)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(t=t.concat(s))}}),t=t.filter(r=>r!=null&&!WL(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}$C.type="languageDetector";const oV="/pokemon_battle_arena/";nr.use(BC).use($C).use(RL).init({fallbackLng:"zh-TW",debug:!1,supportedLngs:["zh-TW","en","ja"],ns:["common"],defaultNS:"common",backend:{loadPath:`${oV}locales/{{lng}}.json`},detection:{order:["localStorage","navigator"],caches:["localStorage"]},interpolation:{escapeValue:!1}});const Mx=n=>{let e;const t=new Set,r=(h,g)=>{const v=typeof h=="function"?h(e):h;if(!Object.is(v,e)){const _=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(w=>w(e,_))}},s=()=>e,d={setState:r,getState:s,getInitialState:()=>f,subscribe:h=>(t.add(h),()=>t.delete(h))},f=e=n(r,s,d);return d},lV=n=>n?Mx(n):Mx,uV=n=>n;function cV(n,e=uV){const t=$i.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return $i.useDebugValue(t),t}const Lx=n=>{const e=lV(n),t=r=>cV(e,r);return Object.assign(t,e),t},Xm=n=>n?Lx(n):Lx,dV=()=>localStorage.getItem("theme")==="dark",GC=Xm(n=>({isDarkMode:dV(),toggleTheme:()=>n(e=>{const t=!e.isDarkMode;return localStorage.setItem("theme",t?"dark":"light"),{isDarkMode:t}})}));function Hv({children:n}){const{isDarkMode:e}=GC();return x.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),k.jsx(k.Fragment,{children:n})}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=()=>{};var Vx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},hV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},QC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,h=f?n[s+2]:0,g=o>>2,v=(o&3)<<4|d>>4;let _=(d&15)<<2|h>>6,w=h&63;f||(w=64,u||(_=64)),r.push(t[g],t[v],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||d==null||h==null||v==null)throw new pV;const _=o<<2|d>>4;if(r.push(_),h!==64){const w=d<<4&240|h>>2;if(r.push(w),v!==64){const S=h<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mV=function(n){const e=KC(n);return QC.encodeByteArray(e,!0)},hm=function(n){return mV(n).replace(/\./g,"")},YC=function(n){try{return QC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=()=>gV().__FIREBASE_DEFAULTS__,vV=()=>{if(typeof process>"u"||typeof Vx>"u")return;const n=Vx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_V=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&YC(n[1]);return e&&JSON.parse(e)},Jm=()=>{try{return fV()||yV()||vV()||_V()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},WC=n=>{var e,t;return(t=(e=Jm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bV=n=>{const e=WC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ZC=()=>{var n;return(n=Jm())===null||n===void 0?void 0:n.config},XC=n=>{var e;return(e=Jm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hm(JSON.stringify(t)),hm(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function SV(){var n;const e=(n=Jm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CV(){const n=Xn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IV(){return!SV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OV(){try{return typeof indexedDB=="object"}catch{return!1}}function kV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="FirebaseError";class ra extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=NV,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$f.prototype.create)}}class $f{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?DV(o,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new ra(s,d,r)}}function DV(n,e){return n.replace(PV,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PV=/\{\$([^}]+)}/g;function MV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(Ux(o)&&Ux(u)){if(!bl(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Ux(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ud(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function jd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function LV(n,e){const t=new VV(n,e);return t.subscribe.bind(t)}class VV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");UV(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=qv),s.error===void 0&&(s.error=qv),s.complete===void 0&&(s.complete=qv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function qv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(n){return n&&n._delegate?n._delegate:n}class wl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jV=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new wV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FV(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zV(n){return n===rl?void 0:n}function FV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(vt||(vt={}));const HV={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},qV=vt.INFO,$V={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},GV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=$V[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K0{constructor(e){this.name=e,this._logLevel=qV,this._logHandler=GV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const KV=(n,e)=>e.some(t=>n instanceof t);let jx,zx;function QV(){return jx||(jx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YV(){return zx||(zx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JC=new WeakMap,B_=new WeakMap,e1=new WeakMap,$v=new WeakMap,Q0=new WeakMap;function WV(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(eo(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&JC.set(t,n)}).catch(()=>{}),Q0.set(e,n),e}function ZV(n){if(B_.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});B_.set(n,e)}let H_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return B_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||e1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return eo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XV(n){H_=n(H_)}function JV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Gv(this),e,...t);return e1.set(r,e.sort?e.sort():[e]),eo(r)}:YV().includes(n)?function(...e){return n.apply(Gv(this),e),eo(JC.get(this))}:function(...e){return eo(n.apply(Gv(this),e))}}function eU(n){return typeof n=="function"?JV(n):(n instanceof IDBTransaction&&ZV(n),KV(n,QV())?new Proxy(n,H_):n)}function eo(n){if(n instanceof IDBRequest)return WV(n);if($v.has(n))return $v.get(n);const e=eU(n);return e!==n&&($v.set(n,e),Q0.set(e,n)),e}const Gv=n=>Q0.get(n);function tU(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),d=eo(u);return r&&u.addEventListener("upgradeneeded",f=>{r(eo(u.result),f.oldVersion,f.newVersion,eo(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const nU=["get","getKey","getAll","getAllKeys","count"],rU=["put","add","delete","clear"],Kv=new Map;function Fx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Kv.get(e))return Kv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=rU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||nU.includes(t)))return;const o=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[t](...d),s&&f.done]))[0]};return Kv.set(e,o),o}XV(n=>({...n,get:(e,t,r)=>Fx(e,t)||n.get(e,t,r),has:(e,t)=>!!Fx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function sU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q_="@firebase/app",Bx="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new K0("@firebase/app"),aU="@firebase/app-compat",oU="@firebase/analytics-compat",lU="@firebase/analytics",uU="@firebase/app-check-compat",cU="@firebase/app-check",dU="@firebase/auth",fU="@firebase/auth-compat",hU="@firebase/database",pU="@firebase/data-connect",mU="@firebase/database-compat",gU="@firebase/functions",yU="@firebase/functions-compat",vU="@firebase/installations",_U="@firebase/installations-compat",bU="@firebase/messaging",wU="@firebase/messaging-compat",EU="@firebase/performance",TU="@firebase/performance-compat",SU="@firebase/remote-config",xU="@firebase/remote-config-compat",RU="@firebase/storage",AU="@firebase/storage-compat",CU="@firebase/firestore",IU="@firebase/vertexai",OU="@firebase/firestore-compat",kU="firebase",NU="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="[DEFAULT]",DU={[q_]:"fire-core",[aU]:"fire-core-compat",[lU]:"fire-analytics",[oU]:"fire-analytics-compat",[cU]:"fire-app-check",[uU]:"fire-app-check-compat",[dU]:"fire-auth",[fU]:"fire-auth-compat",[hU]:"fire-rtdb",[pU]:"fire-data-connect",[mU]:"fire-rtdb-compat",[gU]:"fire-fn",[yU]:"fire-fn-compat",[vU]:"fire-iid",[_U]:"fire-iid-compat",[bU]:"fire-fcm",[wU]:"fire-fcm-compat",[EU]:"fire-perf",[TU]:"fire-perf-compat",[SU]:"fire-rc",[xU]:"fire-rc-compat",[RU]:"fire-gcs",[AU]:"fire-gcs-compat",[CU]:"fire-fst",[OU]:"fire-fst-compat",[IU]:"fire-vertex","fire-js":"fire-js",[kU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Map,PU=new Map,G_=new Map;function Hx(n,e){try{n.container.addComponent(e)}catch(t){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sc(n){const e=n.name;if(G_.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;G_.set(e,n);for(const t of pm.values())Hx(t,n);for(const t of PU.values())Hx(t,n);return!0}function Y0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new $f("app","Firebase",MU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=NU;function t1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw to.create("bad-app-name",{appName:String(s)});if(t||(t=ZC()),!t)throw to.create("no-options");const o=pm.get(s);if(o){if(bl(t,o.options)&&bl(r,o.config))return o;throw to.create("duplicate-app",{appName:s})}const u=new BV(s);for(const f of G_.values())u.addComponent(f);const d=new LU(t,r,u);return pm.set(s,d),d}function n1(n=$_){const e=pm.get(n);if(!e&&n===$_&&ZC())return t1();if(!e)throw to.create("no-app",{appName:n});return e}function no(n,e,t){var r;let s=(r=DU[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(d.join(" "));return}sc(new wl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="firebase-heartbeat-database",UU=1,of="firebase-heartbeat-store";let Qv=null;function r1(){return Qv||(Qv=tU(VU,UU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(of)}catch(t){console.warn(t)}}}}).catch(n=>{throw to.create("idb-open",{originalErrorMessage:n.message})})),Qv}async function jU(n){try{const t=(await r1()).transaction(of),r=await t.objectStore(of).get(i1(n));return await t.done,r}catch(e){if(e instanceof ra)Ys.warn(e.message);else{const t=to.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ys.warn(t.message)}}}async function qx(n,e){try{const r=(await r1()).transaction(of,"readwrite");await r.objectStore(of).put(e,i1(n)),await r.done}catch(t){if(t instanceof ra)Ys.warn(t.message);else{const r=to.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ys.warn(r.message)}}}function i1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=1024,FU=30;class BU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qU(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$x();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>FU){const u=$U(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ys.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$x(),{heartbeatsToSend:r,unsentEntries:s}=HU(this._heartbeatsCache.heartbeats),o=hm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ys.warn(t),""}}}function $x(){return new Date().toISOString().substring(0,10)}function HU(n,e=zU){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Gx(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Gx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class qU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OV()?kV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return qx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return qx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gx(n){return hm(JSON.stringify({version:2,heartbeats:n})).length}function $U(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(n){sc(new wl("platform-logger",e=>new iU(e),"PRIVATE")),sc(new wl("heartbeat",e=>new BU(e),"PRIVATE")),no(q_,Bx,n),no(q_,Bx,"esm2017"),no("fire-js","")}GU("");var Wi=function(){return Wi=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Wi.apply(this,arguments)};function Kf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function KU(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QU=s1,a1=new $f("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new K0("@firebase/auth");function YU(n,...e){mm.logLevel<=vt.WARN&&mm.warn(`Auth (${vc}): ${n}`,...e)}function Gp(n,...e){mm.logLevel<=vt.ERROR&&mm.error(`Auth (${vc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n,...e){throw Z0(n,...e)}function wi(n,...e){return Z0(n,...e)}function W0(n,e,t){const r=Object.assign(Object.assign({},QU()),{[e]:t});return new $f("auth","Firebase",r).create(e,{appName:n.name})}function Ks(n){return W0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WU(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ui(n,"argument-error"),W0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Z0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return a1.create(n,...e)}function Ke(n,e,...t){if(!n)throw Z0(e,...t)}function $s(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gp(e),new Error(e)}function Ws(n,e){n||$s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ZU(){return Kx()==="http:"||Kx()==="https:"}function Kx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZU()||RV()||"connection"in navigator)?navigator.onLine:!0}function JU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ws(t>e,"Short delay should be less than long delay!"),this.isMobile=TV()||AV()}get(){return XU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n,e){Ws(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nj=new Qf(3e4,6e4);function To(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function So(n,e,t,r,s={}){return l1(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=Gf(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:f},o);return xV()||(h.referrerPolicy="no-referrer"),o1.fetch()(await u1(n,n.config.apiHost,t,d),h)})}async function l1(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ej),e);try{const s=new ij(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Ip(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ip(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Ip(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Ip(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw W0(n,g,h);ui(n,g)}}catch(s){if(s instanceof ra)throw s;ui(n,"network-request-failed",{message:String(s)})}}async function Yf(n,e,t,r,s={}){const o=await So(n,e,t,r,s);return"mfaPendingCredential"in o&&ui(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function u1(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?X0(n.config,s):`${n.config.apiScheme}://${s}`;return tj.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function rj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ij{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),nj.get())})}}function Ip(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=wi(n,e,r);return s.customData._tokenResponse=t,s}function Qx(n){return n!==void 0&&n.enterprise!==void 0}class sj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aj(n,e){return So(n,"GET","/v2/recaptchaConfig",To(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(n,e){return So(n,"POST","/v1/accounts:delete",e)}async function gm(n,e){return So(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lj(n,e=!1){const t=Jn(n),r=await t.getIdToken(e),s=J0(r);Ke(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Kd(Yv(s.auth_time)),issuedAtTime:Kd(Yv(s.iat)),expirationTime:Kd(Yv(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Yv(n){return Number(n)*1e3}function J0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gp("JWT malformed, contained fewer than 3 sections"),null;try{const s=YC(t);return s?JSON.parse(s):(Gp("Failed to decode base64 JWT payload"),null)}catch(s){return Gp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Yx(n){const e=J0(n);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ra&&uj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function uj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kd(this.lastLoginAt),this.creationTime=Kd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ym(n){var e;const t=n.auth,r=await n.getIdToken(),s=await lf(n,gm(t,{idToken:r}));Ke(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?c1(o.providerUserInfo):[],d=fj(n.providerData,u),f=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),g=f?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Q_(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function dj(n){const e=Jn(n);await ym(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fj(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function c1(n){return n.map(e=>{var{providerId:t}=e,r=Kf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(n,e){const t=await l1(n,{},async()=>{const r=Gf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await u1(n,s,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",o1.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pj(n,e){return So(n,"POST","/v2/accounts:revokeToken",To(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const t=Yx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await hj(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Uu;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ke(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Ke(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uu,this.toJSON())}_performRefresh(){return $s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(n,e){Ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class _i{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=Kf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Q_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await lf(this,this.stsTokenManager.getToken(this.auth,e));return Ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lj(this,e)}reload(){return dj(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ym(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await lf(this,oj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,d,f,h,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(u=t.photoURL)!==null&&u!==void 0?u:void 0,R=(d=t.tenantId)!==null&&d!==void 0?d:void 0,C=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,D=(h=t.createdAt)!==null&&h!==void 0?h:void 0,B=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:j,emailVerified:$,isAnonymous:Q,providerData:U,stsTokenManager:P}=t;Ke(j&&P,e,"internal-error");const A=Uu.fromJSON(this.name,P);Ke(typeof j=="string",e,"internal-error"),Ma(v,e.name),Ma(_,e.name),Ke(typeof $=="boolean",e,"internal-error"),Ke(typeof Q=="boolean",e,"internal-error"),Ma(w,e.name),Ma(S,e.name),Ma(R,e.name),Ma(C,e.name),Ma(D,e.name),Ma(B,e.name);const O=new _i({uid:j,auth:e,email:_,emailVerified:$,displayName:v,isAnonymous:Q,photoURL:S,phoneNumber:w,tenantId:R,stsTokenManager:A,createdAt:D,lastLoginAt:B});return U&&Array.isArray(U)&&(O.providerData=U.map(M=>Object.assign({},M))),C&&(O._redirectEventId=C),O}static async _fromIdTokenResponse(e,t,r=!1){const s=new Uu;s.updateFromServerResponse(t);const o=new _i({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ym(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ke(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?c1(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new Uu;d.updateFromIdToken(r);const f=new _i({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Q_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new Map;function Gs(n){Ws(n instanceof Function,"Expected a class definition");let e=Wx.get(n);return e?(Ws(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}d1.type="NONE";const Zx=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n,e,t){return`firebase:${n}:${e}:${t}`}class ju{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Kp(this.userKey,s.apiKey,o),this.fullPersistenceKey=Kp("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gm(this.auth,{idToken:e}).catch(()=>{});return t?_i._fromGetAccountInfoResponse(this.auth,t,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ju(Gs(Zx),e,r);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||Gs(Zx);const u=Kp(r,e.config.apiKey,e.name);let d=null;for(const h of t)try{const g=await h._get(u);if(g){let v;if(typeof g=="string"){const _=await gm(e,{idToken:g}).catch(()=>{});if(!_)break;v=await _i._fromGetAccountInfoResponse(e,_,g)}else v=_i._fromJSON(e,g);h!==o&&(d=v),o=h;break}}catch{}const f=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new ju(o,e,r):(o=f[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(u)}catch{}})),new ju(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y1(e))return"Blackberry";if(v1(e))return"Webos";if(h1(e))return"Safari";if((e.includes("chrome/")||p1(e))&&!e.includes("edge/"))return"Chrome";if(g1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function f1(n=Xn()){return/firefox\//i.test(n)}function h1(n=Xn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p1(n=Xn()){return/crios\//i.test(n)}function m1(n=Xn()){return/iemobile/i.test(n)}function g1(n=Xn()){return/android/i.test(n)}function y1(n=Xn()){return/blackberry/i.test(n)}function v1(n=Xn()){return/webos/i.test(n)}function eb(n=Xn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mj(n=Xn()){var e;return eb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gj(){return CV()&&document.documentMode===10}function _1(n=Xn()){return eb(n)||g1(n)||v1(n)||y1(n)||/windows phone/i.test(n)||m1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n,e=[]){let t;switch(n){case"Browser":t=Xx(Xn());break;case"Worker":t=`${Xx(Xn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,d)=>{try{const f=e(o);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(n,e={}){return So(n,"GET","/v2/passwordPolicy",To(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=6;class bj{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:_j,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jx(this),this.idTokenSubscription=new Jx(this),this.beforeStateQueue=new yj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gs(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await ju.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gm(this,{idToken:e}),r=await _i._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ym(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(Ks(this));const t=e?Jn(e):null;return t&&Ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vj(this),t=new bj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $f("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await pj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gs(e)||this._popupRedirectResolver;Ke(t,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[Gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&YU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function xo(n){return Jn(n)}class Jx{constructor(e){this.auth=e,this.observer=null,this.addObserver=LV(t=>this.observer=t)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ej(n){eg=n}function w1(n){return eg.loadJS(n)}function Tj(){return eg.recaptchaEnterpriseScript}function Sj(){return eg.gapiScript}function xj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Rj{constructor(){this.enterprise=new Aj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Aj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Cj="recaptcha-enterprise",E1="NO_RECAPTCHA";class Ij{constructor(e){this.type=Cj,this.auth=xo(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{aj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new sj(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,u(h.siteKey)}}).catch(f=>{d(f)})})}function s(o,u,d){const f=window.grecaptcha;Qx(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{u(h)}).catch(()=>{u(E1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Rj().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!t&&Qx(window.grecaptcha))s(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Tj();f.length!==0&&(f+=d),w1(f).then(()=>{s(d,o,u)}).catch(h=>{u(h)})}}).catch(d=>{u(d)})})}}async function eR(n,e,t,r=!1,s=!1){const o=new Ij(n);let u;if(s)u=E1;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Y_(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await eR(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await eR(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(n,e){const t=Y0(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(bl(o,e??{}))return s;ui(s,"already-initialized")}return t.initialize({options:e})}function kj(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Gs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Nj(n,e,t){const r=xo(n);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=T1(e),{host:u,port:d}=Dj(e),f=d===null?"":`:${d}`,h={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(bl(h,r.config.emulator)&&bl(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Pj()}function T1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Dj(n){const e=T1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:tR(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:tR(u)}}}function tR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Pj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $s("not implemented")}_getIdTokenResponse(e){return $s("not implemented")}_linkToIdToken(e,t){return $s("not implemented")}_getReauthenticationResolver(e){return $s("not implemented")}}async function Mj(n,e){return So(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(n,e){return Yf(n,"POST","/v1/accounts:signInWithPassword",To(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(n,e){return Yf(n,"POST","/v1/accounts:signInWithEmailLink",To(n,e))}async function Uj(n,e){return Yf(n,"POST","/v1/accounts:signInWithEmailLink",To(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends tb{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new uf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new uf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y_(e,t,"signInWithPassword",Lj);case"emailLink":return Vj(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y_(e,r,"signUpPassword",Mj);case"emailLink":return Uj(e,{idToken:t,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(n,e){return Yf(n,"POST","/v1/accounts:signInWithIdp",To(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="http://localhost";class El extends tb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new El(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=Kf(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new El(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return zu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,zu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zu(e,t)}buildRequest(){const e={requestUri:jj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fj(n){const e=Ud(jd(n)).link,t=e?Ud(jd(e)).deep_link_id:null,r=Ud(jd(n)).deep_link_id;return(r?Ud(jd(r)).link:null)||r||t||e||n}class nb{constructor(e){var t,r,s,o,u,d;const f=Ud(jd(e)),h=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=zj((s=f.mode)!==null&&s!==void 0?s:null);Ke(h&&g&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Fj(e);try{return new nb(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.providerId=_c.PROVIDER_ID}static credential(e,t){return uf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=nb.parseLink(t);return Ke(r,"argument-error"),uf._fromEmailAndCode(e,r.code,r.tenantId)}}_c.PROVIDER_ID="password";_c.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_c.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends rb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Wf{constructor(){super("facebook.com")}static credential(e){return El._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fa.credential(e.oauthAccessToken)}catch{return null}}}Fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return El._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qs.credential(t,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Wf{constructor(){super("github.com")}static credential(e){return El._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Wf{constructor(){super("twitter.com")}static credential(e,t){return El._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ha.credential(t,r)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(n,e){return Yf(n,"POST","/v1/accounts:signUp",To(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await _i._fromIdTokenResponse(e,r,s),u=nR(r);return new Tl({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=nR(r);return new Tl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function nR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends ra{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new vm(e,t,r,s)}}function S1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vm._fromErrorAndOperation(n,o,e,r):o})}async function Hj(n,e,t=!1){const r=await lf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Tl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(n,e,t=!1){const{auth:r}=n;if(Mr(r.app))return Promise.reject(Ks(r));const s="reauthenticate";try{const o=await lf(n,S1(r,s,e,n),t);Ke(o.idToken,r,"internal-error");const u=J0(o.idToken);Ke(u,r,"internal-error");const{sub:d}=u;return Ke(n.uid===d,r,"user-mismatch"),Tl._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ui(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(n,e,t=!1){if(Mr(n.app))return Promise.reject(Ks(n));const r="signIn",s=await S1(n,r,e),o=await Tl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function $j(n,e){return x1(xo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(n){const e=xo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Gj(n,e,t){if(Mr(n.app))return Promise.reject(Ks(n));const r=xo(n),u=await Y_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bj).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&R1(n),f}),d=await Tl._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function Kj(n,e,t){return Mr(n.app)?Promise.reject(Ks(n)):$j(Jn(n),_c.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R1(n),r})}function Qj(n,e,t,r){return Jn(n).onIdTokenChanged(e,t,r)}function Yj(n,e,t){return Jn(n).beforeAuthStateChanged(e,t)}function Wj(n,e,t,r){return Jn(n).onAuthStateChanged(e,t,r)}function Zj(n){return Jn(n).signOut()}const _m="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_m,"1"),this.storage.removeItem(_m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=1e3,Jj=10;class C1 extends A1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);gj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Jj):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}C1.type="LOCAL";const e4=C1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends A1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}I1.type="SESSION";const O1=I1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async h=>h(t.origin,o)),f=await t4(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((d,f)=>{const h=ib("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(){return window}function r4(n){es().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){return typeof es().WorkerGlobalScope<"u"&&typeof es().importScripts=="function"}async function i4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function a4(){return k1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebaseLocalStorageDb",o4=1,bm="firebaseLocalStorage",D1="fbase_key";class Zf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ng(n,e){return n.transaction([bm],e?"readwrite":"readonly").objectStore(bm)}function l4(){const n=indexedDB.deleteDatabase(N1);return new Zf(n).toPromise()}function W_(){const n=indexedDB.open(N1,o4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(bm,{keyPath:D1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(bm)?e(r):(r.close(),await l4(),e(await W_()))})})}async function rR(n,e,t){const r=ng(n,!0).put({[D1]:e,value:t});return new Zf(r).toPromise()}async function u4(n,e){const t=ng(n,!1).get(e),r=await new Zf(t).toPromise();return r===void 0?null:r.value}function iR(n,e){const t=ng(n,!0).delete(e);return new Zf(t).toPromise()}const c4=800,d4=3;class P1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await W_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>d4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tg._getInstance(a4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await i4(),!this.activeServiceWorker)return;this.sender=new n4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await W_();return await rR(e,_m,"1"),await iR(e,_m),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>rR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>u4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=ng(s,!1).getAll();return new Zf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P1.type="LOCAL";const f4=P1;new Qf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n,e){return e?Gs(e):(Ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends tb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function h4(n){return x1(n.auth,new sb(n),n.bypassAuthState)}function p4(n){const{auth:e,user:t}=n;return Ke(t,e,"internal-error"),qj(t,new sb(n),n.bypassAuthState)}async function m4(n){const{auth:e,user:t}=n;return Ke(t,e,"internal-error"),Hj(t,new sb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h4;case"linkViaPopup":case"linkViaRedirect":return m4;case"reauthViaPopup":case"reauthViaRedirect":return p4;default:ui(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new Qf(2e3,1e4);async function y4(n,e,t){if(Mr(n.app))return Promise.reject(wi(n,"operation-not-supported-in-this-environment"));const r=xo(n);WU(n,e,rb);const s=M1(r,t);return new al(r,"signInViaPopup",e,s).executeNotNull()}class al extends L1{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=ib();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g4.get())};e()}}al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="pendingRedirect",Qp=new Map;class _4 extends L1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Qp.get(this.auth._key());if(!e){try{const r=await b4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Qp.set(this.auth._key(),e)}return this.bypassAuthState||Qp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b4(n,e){const t=T4(e),r=E4(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function w4(n,e){Qp.set(n._key(),e)}function E4(n){return Gs(n._redirectPersistence)}function T4(n){return Kp(v4,n.config.apiKey,n.name)}async function S4(n,e,t=!1){if(Mr(n.app))return Promise.reject(Ks(n));const r=xo(n),s=M1(r,e),u=await new _4(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=10*60*1e3;class R4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!V1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(wi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x4&&this.cachedEventUids.clear(),this.cachedEventUids.has(sR(e))}saveEventToCache(e){this.cachedEventUids.add(sR(e)),this.lastProcessedEventTime=Date.now()}}function sR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function V1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(n,e={}){return So(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O4=/^https?/;async function k4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await C4(n);for(const t of e)try{if(N4(t))return}catch{}ui(n,"unauthorized-domain")}function N4(n){const e=K_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!O4.test(t))return!1;if(I4.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new Qf(3e4,6e4);function aR(){const n=es().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function P4(n){return new Promise((e,t)=>{var r,s,o;function u(){aR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aR(),t(wi(n,"network-request-failed"))},timeout:D4.get()})}if(!((s=(r=es().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=es().gapi)===null||o===void 0)&&o.load)u();else{const d=xj("iframefcb");return es()[d]=()=>{gapi.load?u():t(wi(n,"network-request-failed"))},w1(`${Sj()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Yp=null,e})}let Yp=null;function M4(n){return Yp=Yp||P4(n),Yp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new Qf(5e3,15e3),V4="__/auth/iframe",U4="emulator/auth/iframe",j4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F4(n){const e=n.config;Ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?X0(e,U4):`https://${n.config.authDomain}/${V4}`,r={apiKey:e.apiKey,appName:n.name,v:vc},s=z4.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Gf(r).slice(1)}`}async function B4(n){const e=await M4(n),t=es().gapi;return Ke(t,n,"internal-error"),e.open({where:document.body,url:F4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j4,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=wi(n,"network-request-failed"),d=es().setTimeout(()=>{o(u)},L4.get());function f(){es().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q4=500,$4=600,G4="_blank",K4="http://localhost";class oR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q4(n,e,t,r=q4,s=$4){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},H4),{width:r.toString(),height:s.toString(),top:o,left:u}),h=Xn().toLowerCase();t&&(d=p1(h)?G4:t),f1(h)&&(e=e||K4,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[w,S])=>`${_}${w}=${S},`,"");if(mj(h)&&d!=="_self")return Y4(e||"",d),new oR(null);const v=window.open(e||"",d,g);Ke(v,n,"popup-blocked");try{v.focus()}catch{}return new oR(v)}function Y4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="__/auth/handler",Z4="emulator/auth/handler",X4=encodeURIComponent("fac");async function lR(n,e,t,r,s,o){Ke(n.config.authDomain,n,"auth-domain-config-required"),Ke(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vc,eventId:s};if(e instanceof rb){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",MV(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof Wf){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),h=f?`#${X4}=${encodeURIComponent(f)}`:"";return`${J4(n)}?${Gf(d).slice(1)}${h}`}function J4({config:n}){return n.emulator?X0(n,Z4):`https://${n.authDomain}/${W4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="webStorageSupport";class e9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O1,this._completeRedirectFn=S4,this._overrideRedirectResult=w4}async _openPopup(e,t,r,s){var o;Ws((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await lR(e,t,r,K_(),s);return Q4(e,u,ib())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await lR(e,t,r,K_(),s);return r4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Ws(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await B4(e),r=new R4(e);return t.register("authEvent",s=>(Ke(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wv,{type:Wv},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Wv];u!==void 0&&t(!!u),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=k4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _1()||h1()||eb()}}const t9=e9;var uR="@firebase/auth",cR="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i9(n){sc(new wl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ke(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b1(n)},h=new wj(r,s,o,f);return kj(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),sc(new wl("auth-internal",e=>{const t=xo(e.getProvider("auth").getImmediate());return(r=>new n9(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),no(uR,cR,r9(n)),no(uR,cR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=5*60,a9=XC("authIdTokenMaxAge")||s9;let dR=null;const o9=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>a9)return;const s=t==null?void 0:t.token;dR!==s&&(dR=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function U1(n=n1()){const e=Y0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Oj(n,{popupRedirectResolver:t9,persistence:[f4,e4,O1]}),r=XC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=o9(o.toString());Yj(t,u,()=>u(t.currentUser)),Qj(t,d=>u(d))}}const s=WC("auth");return s&&Nj(t,`http://${s}`),t}function l9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ej({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=wi("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",l9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i9("Browser");var u9="firebase",c9="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no(u9,c9,"app");var fR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ro,j1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function O(){}O.prototype=A.prototype,P.D=A.prototype,P.prototype=new O,P.prototype.constructor=P,P.C=function(M,z,H){for(var L=Array(arguments.length-2),we=2;we<arguments.length;we++)L[we-2]=arguments[we];return A.prototype[z].apply(M,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,A,O){O||(O=0);var M=Array(16);if(typeof A=="string")for(var z=0;16>z;++z)M[z]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(z=0;16>z;++z)M[z]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=P.g[0],O=P.g[1],z=P.g[2];var H=P.g[3],L=A+(H^O&(z^H))+M[0]+3614090360&4294967295;A=O+(L<<7&4294967295|L>>>25),L=H+(z^A&(O^z))+M[1]+3905402710&4294967295,H=A+(L<<12&4294967295|L>>>20),L=z+(O^H&(A^O))+M[2]+606105819&4294967295,z=H+(L<<17&4294967295|L>>>15),L=O+(A^z&(H^A))+M[3]+3250441966&4294967295,O=z+(L<<22&4294967295|L>>>10),L=A+(H^O&(z^H))+M[4]+4118548399&4294967295,A=O+(L<<7&4294967295|L>>>25),L=H+(z^A&(O^z))+M[5]+1200080426&4294967295,H=A+(L<<12&4294967295|L>>>20),L=z+(O^H&(A^O))+M[6]+2821735955&4294967295,z=H+(L<<17&4294967295|L>>>15),L=O+(A^z&(H^A))+M[7]+4249261313&4294967295,O=z+(L<<22&4294967295|L>>>10),L=A+(H^O&(z^H))+M[8]+1770035416&4294967295,A=O+(L<<7&4294967295|L>>>25),L=H+(z^A&(O^z))+M[9]+2336552879&4294967295,H=A+(L<<12&4294967295|L>>>20),L=z+(O^H&(A^O))+M[10]+4294925233&4294967295,z=H+(L<<17&4294967295|L>>>15),L=O+(A^z&(H^A))+M[11]+2304563134&4294967295,O=z+(L<<22&4294967295|L>>>10),L=A+(H^O&(z^H))+M[12]+1804603682&4294967295,A=O+(L<<7&4294967295|L>>>25),L=H+(z^A&(O^z))+M[13]+4254626195&4294967295,H=A+(L<<12&4294967295|L>>>20),L=z+(O^H&(A^O))+M[14]+2792965006&4294967295,z=H+(L<<17&4294967295|L>>>15),L=O+(A^z&(H^A))+M[15]+1236535329&4294967295,O=z+(L<<22&4294967295|L>>>10),L=A+(z^H&(O^z))+M[1]+4129170786&4294967295,A=O+(L<<5&4294967295|L>>>27),L=H+(O^z&(A^O))+M[6]+3225465664&4294967295,H=A+(L<<9&4294967295|L>>>23),L=z+(A^O&(H^A))+M[11]+643717713&4294967295,z=H+(L<<14&4294967295|L>>>18),L=O+(H^A&(z^H))+M[0]+3921069994&4294967295,O=z+(L<<20&4294967295|L>>>12),L=A+(z^H&(O^z))+M[5]+3593408605&4294967295,A=O+(L<<5&4294967295|L>>>27),L=H+(O^z&(A^O))+M[10]+38016083&4294967295,H=A+(L<<9&4294967295|L>>>23),L=z+(A^O&(H^A))+M[15]+3634488961&4294967295,z=H+(L<<14&4294967295|L>>>18),L=O+(H^A&(z^H))+M[4]+3889429448&4294967295,O=z+(L<<20&4294967295|L>>>12),L=A+(z^H&(O^z))+M[9]+568446438&4294967295,A=O+(L<<5&4294967295|L>>>27),L=H+(O^z&(A^O))+M[14]+3275163606&4294967295,H=A+(L<<9&4294967295|L>>>23),L=z+(A^O&(H^A))+M[3]+4107603335&4294967295,z=H+(L<<14&4294967295|L>>>18),L=O+(H^A&(z^H))+M[8]+1163531501&4294967295,O=z+(L<<20&4294967295|L>>>12),L=A+(z^H&(O^z))+M[13]+2850285829&4294967295,A=O+(L<<5&4294967295|L>>>27),L=H+(O^z&(A^O))+M[2]+4243563512&4294967295,H=A+(L<<9&4294967295|L>>>23),L=z+(A^O&(H^A))+M[7]+1735328473&4294967295,z=H+(L<<14&4294967295|L>>>18),L=O+(H^A&(z^H))+M[12]+2368359562&4294967295,O=z+(L<<20&4294967295|L>>>12),L=A+(O^z^H)+M[5]+4294588738&4294967295,A=O+(L<<4&4294967295|L>>>28),L=H+(A^O^z)+M[8]+2272392833&4294967295,H=A+(L<<11&4294967295|L>>>21),L=z+(H^A^O)+M[11]+1839030562&4294967295,z=H+(L<<16&4294967295|L>>>16),L=O+(z^H^A)+M[14]+4259657740&4294967295,O=z+(L<<23&4294967295|L>>>9),L=A+(O^z^H)+M[1]+2763975236&4294967295,A=O+(L<<4&4294967295|L>>>28),L=H+(A^O^z)+M[4]+1272893353&4294967295,H=A+(L<<11&4294967295|L>>>21),L=z+(H^A^O)+M[7]+4139469664&4294967295,z=H+(L<<16&4294967295|L>>>16),L=O+(z^H^A)+M[10]+3200236656&4294967295,O=z+(L<<23&4294967295|L>>>9),L=A+(O^z^H)+M[13]+681279174&4294967295,A=O+(L<<4&4294967295|L>>>28),L=H+(A^O^z)+M[0]+3936430074&4294967295,H=A+(L<<11&4294967295|L>>>21),L=z+(H^A^O)+M[3]+3572445317&4294967295,z=H+(L<<16&4294967295|L>>>16),L=O+(z^H^A)+M[6]+76029189&4294967295,O=z+(L<<23&4294967295|L>>>9),L=A+(O^z^H)+M[9]+3654602809&4294967295,A=O+(L<<4&4294967295|L>>>28),L=H+(A^O^z)+M[12]+3873151461&4294967295,H=A+(L<<11&4294967295|L>>>21),L=z+(H^A^O)+M[15]+530742520&4294967295,z=H+(L<<16&4294967295|L>>>16),L=O+(z^H^A)+M[2]+3299628645&4294967295,O=z+(L<<23&4294967295|L>>>9),L=A+(z^(O|~H))+M[0]+4096336452&4294967295,A=O+(L<<6&4294967295|L>>>26),L=H+(O^(A|~z))+M[7]+1126891415&4294967295,H=A+(L<<10&4294967295|L>>>22),L=z+(A^(H|~O))+M[14]+2878612391&4294967295,z=H+(L<<15&4294967295|L>>>17),L=O+(H^(z|~A))+M[5]+4237533241&4294967295,O=z+(L<<21&4294967295|L>>>11),L=A+(z^(O|~H))+M[12]+1700485571&4294967295,A=O+(L<<6&4294967295|L>>>26),L=H+(O^(A|~z))+M[3]+2399980690&4294967295,H=A+(L<<10&4294967295|L>>>22),L=z+(A^(H|~O))+M[10]+4293915773&4294967295,z=H+(L<<15&4294967295|L>>>17),L=O+(H^(z|~A))+M[1]+2240044497&4294967295,O=z+(L<<21&4294967295|L>>>11),L=A+(z^(O|~H))+M[8]+1873313359&4294967295,A=O+(L<<6&4294967295|L>>>26),L=H+(O^(A|~z))+M[15]+4264355552&4294967295,H=A+(L<<10&4294967295|L>>>22),L=z+(A^(H|~O))+M[6]+2734768916&4294967295,z=H+(L<<15&4294967295|L>>>17),L=O+(H^(z|~A))+M[13]+1309151649&4294967295,O=z+(L<<21&4294967295|L>>>11),L=A+(z^(O|~H))+M[4]+4149444226&4294967295,A=O+(L<<6&4294967295|L>>>26),L=H+(O^(A|~z))+M[11]+3174756917&4294967295,H=A+(L<<10&4294967295|L>>>22),L=z+(A^(H|~O))+M[2]+718787259&4294967295,z=H+(L<<15&4294967295|L>>>17),L=O+(H^(z|~A))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(z+(L<<21&4294967295|L>>>11))&4294967295,P.g[2]=P.g[2]+z&4294967295,P.g[3]=P.g[3]+H&4294967295}r.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var O=A-this.blockSize,M=this.B,z=this.h,H=0;H<A;){if(z==0)for(;H<=O;)s(this,P,H),H+=this.blockSize;if(typeof P=="string"){for(;H<A;)if(M[z++]=P.charCodeAt(H++),z==this.blockSize){s(this,M),z=0;break}}else for(;H<A;)if(M[z++]=P[H++],z==this.blockSize){s(this,M),z=0;break}}this.h=z,this.o+=A},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var O=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=O&255,O/=256;for(this.u(P),P=Array(16),A=O=0;4>A;++A)for(var M=0;32>M;M+=8)P[O++]=this.g[A]>>>M&255;return P};function o(P,A){var O=d;return Object.prototype.hasOwnProperty.call(O,P)?O[P]:O[P]=A(P)}function u(P,A){this.h=A;for(var O=[],M=!0,z=P.length-1;0<=z;z--){var H=P[z]|0;M&&H==A||(O[z]=H,M=!1)}this.g=O}var d={};function f(P){return-128<=P&&128>P?o(P,function(A){return new u([A|0],0>A?-1:0)}):new u([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return C(h(-P));for(var A=[],O=1,M=0;P>=O;M++)A[M]=P/O|0,O*=4294967296;return new u(A,0)}function g(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return C(g(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(A,8)),M=v,z=0;z<P.length;z+=8){var H=Math.min(8,P.length-z),L=parseInt(P.substring(z,z+H),A);8>H?(H=h(Math.pow(A,H)),M=M.j(H).add(h(L))):(M=M.j(O),M=M.add(h(L)))}return M}var v=f(0),_=f(1),w=f(16777216);n=u.prototype,n.m=function(){if(R(this))return-C(this).m();for(var P=0,A=1,O=0;O<this.g.length;O++){var M=this.i(O);P+=(0<=M?M:4294967296+M)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(R(this))return"-"+C(this).toString(P);for(var A=h(Math.pow(P,6)),O=this,M="";;){var z=$(O,A).g;O=D(O,z.j(A));var H=((0<O.g.length?O.g[0]:O.h)>>>0).toString(P);if(O=z,S(O))return H+M;for(;6>H.length;)H="0"+H;M=H+M}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function R(P){return P.h==-1}n.l=function(P){return P=D(this,P),R(P)?-1:S(P)?0:1};function C(P){for(var A=P.g.length,O=[],M=0;M<A;M++)O[M]=~P.g[M];return new u(O,~P.h).add(_)}n.abs=function(){return R(this)?C(this):this},n.add=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],M=0,z=0;z<=A;z++){var H=M+(this.i(z)&65535)+(P.i(z)&65535),L=(H>>>16)+(this.i(z)>>>16)+(P.i(z)>>>16);M=L>>>16,H&=65535,L&=65535,O[z]=L<<16|H}return new u(O,O[O.length-1]&-2147483648?-1:0)};function D(P,A){return P.add(C(A))}n.j=function(P){if(S(this)||S(P))return v;if(R(this))return R(P)?C(this).j(C(P)):C(C(this).j(P));if(R(P))return C(this.j(C(P)));if(0>this.l(w)&&0>P.l(w))return h(this.m()*P.m());for(var A=this.g.length+P.g.length,O=[],M=0;M<2*A;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var z=0;z<P.g.length;z++){var H=this.i(M)>>>16,L=this.i(M)&65535,we=P.i(z)>>>16,Ee=P.i(z)&65535;O[2*M+2*z]+=L*Ee,B(O,2*M+2*z),O[2*M+2*z+1]+=H*Ee,B(O,2*M+2*z+1),O[2*M+2*z+1]+=L*we,B(O,2*M+2*z+1),O[2*M+2*z+2]+=H*we,B(O,2*M+2*z+2)}for(M=0;M<A;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=A;M<2*A;M++)O[M]=0;return new u(O,0)};function B(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function j(P,A){this.g=P,this.h=A}function $(P,A){if(S(A))throw Error("division by zero");if(S(P))return new j(v,v);if(R(P))return A=$(C(P),A),new j(C(A.g),C(A.h));if(R(A))return A=$(P,C(A)),new j(C(A.g),A.h);if(30<P.g.length){if(R(P)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var O=_,M=A;0>=M.l(P);)O=Q(O),M=Q(M);var z=U(O,1),H=U(M,1);for(M=U(M,2),O=U(O,2);!S(M);){var L=H.add(M);0>=L.l(P)&&(z=z.add(O),H=L),M=U(M,1),O=U(O,1)}return A=D(P,z.j(A)),new j(z,A)}for(z=v;0<=P.l(A);){for(O=Math.max(1,Math.floor(P.m()/A.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),H=h(O),L=H.j(A);R(L)||0<L.l(P);)O-=M,H=h(O),L=H.j(A);S(H)&&(H=_),z=z.add(H),P=D(P,L)}return new j(z,P)}n.A=function(P){return $(this,P).h},n.and=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],M=0;M<A;M++)O[M]=this.i(M)&P.i(M);return new u(O,this.h&P.h)},n.or=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],M=0;M<A;M++)O[M]=this.i(M)|P.i(M);return new u(O,this.h|P.h)},n.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),O=[],M=0;M<A;M++)O[M]=this.i(M)^P.i(M);return new u(O,this.h^P.h)};function Q(P){for(var A=P.g.length+1,O=[],M=0;M<A;M++)O[M]=P.i(M)<<1|P.i(M-1)>>>31;return new u(O,P.h)}function U(P,A){var O=A>>5;A%=32;for(var M=P.g.length-O,z=[],H=0;H<M;H++)z[H]=0<A?P.i(H+O)>>>A|P.i(H+O+1)<<32-A:P.i(H+O);return new u(z,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,j1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=g,ro=u}).apply(typeof fR<"u"?fR:typeof self<"u"?self:typeof window<"u"?window:{});var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z1,zd,F1,Wp,Z_,B1,H1,q1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,b,E){return p==Array.prototype||p==Object.prototype||(p[b]=E.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Op=="object"&&Op];for(var b=0;b<p.length;++b){var E=p[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(p,b){if(b)e:{var E=r;p=p.split(".");for(var N=0;N<p.length-1;N++){var X=p[N];if(!(X in E))break e;E=E[X]}p=p[p.length-1],N=E[p],b=b(N),b!=N&&b!=null&&e(E,p,{configurable:!0,writable:!0,value:b})}}function o(p,b){p instanceof String&&(p+="");var E=0,N=!1,X={next:function(){if(!N&&E<p.length){var ae=E++;return{value:b(ae,p[ae]),done:!1}}return N=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(p){return p||function(){return o(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(p){var b=typeof p;return b=b!="object"?b:p?Array.isArray(p)?"array":b:"null",b=="array"||b=="object"&&typeof p.length=="number"}function h(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function g(p,b,E){return p.call.apply(p.bind,arguments)}function v(p,b,E){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,N),p.apply(b,X)}}return function(){return p.apply(b,arguments)}}function _(p,b,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function w(p,b){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function S(p,b){function E(){}E.prototype=b.prototype,p.aa=b.prototype,p.prototype=new E,p.prototype.constructor=p,p.Qb=function(N,X,ae){for(var be=Array(arguments.length-2),St=2;St<arguments.length;St++)be[St-2]=arguments[St];return b.prototype[X].apply(N,be)}}function R(p){const b=p.length;if(0<b){const E=Array(b);for(let N=0;N<b;N++)E[N]=p[N];return E}return[]}function C(p,b){for(let E=1;E<arguments.length;E++){const N=arguments[E];if(f(N)){const X=p.length||0,ae=N.length||0;p.length=X+ae;for(let be=0;be<ae;be++)p[X+be]=N[be]}else p.push(N)}}class D{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function B(p){return/^[\s\xa0]*$/.test(p)}function j(){var p=d.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var Q=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function U(p,b,E){for(const N in p)b.call(E,p[N],N,p)}function P(p,b){for(const E in p)b.call(void 0,p[E],E,p)}function A(p){const b={};for(const E in p)b[E]=p[E];return b}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,b){let E,N;for(let X=1;X<arguments.length;X++){N=arguments[X];for(E in N)p[E]=N[E];for(let ae=0;ae<O.length;ae++)E=O[ae],Object.prototype.hasOwnProperty.call(N,E)&&(p[E]=N[E])}}function z(p){var b=1;p=p.split(":");const E=[];for(;0<b&&p.length;)E.push(p.shift()),b--;return p.length&&E.push(p.join(":")),E}function H(p){d.setTimeout(()=>{throw p},0)}function L(){var p=de;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class we{constructor(){this.h=this.g=null}add(b,E){const N=Ee.get();N.set(b,E),this.h?this.h.next=N:this.g=N,this.h=N}}var Ee=new D(()=>new K,p=>p.reset());class K{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let le,te=!1,de=new we,V=()=>{const p=d.Promise.resolve(void 0);le=()=>{p.then(ie)}};var ie=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(E){H(E)}var b=Ee;b.j(p),100>b.h&&(b.h++,p.next=b.g,b.g=p)}te=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const E=()=>{};d.addEventListener("test",E,b),d.removeEventListener("test",E,b)}catch{}return p}();function Ue(p,b){if(oe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var E=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget){if(Q){e:{try{$(b.nodeName);var X=!0;break e}catch{}X=!1}X||(b=null)}}else E=="mouseover"?b=p.fromElement:E=="mouseout"&&(b=p.toElement);this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ce[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ue.aa.h.call(this)}}S(Ue,oe);var Ce={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),ht=0;function Dt(p,b,E,N,X){this.listener=p,this.proxy=null,this.src=b,this.type=E,this.capture=!!N,this.ha=X,this.key=++ht,this.da=this.fa=!1}function bt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Yt(p){this.src=p,this.g={},this.h=0}Yt.prototype.add=function(p,b,E,N,X){var ae=p.toString();p=this.g[ae],p||(p=this.g[ae]=[],this.h++);var be=rr(p,b,N,X);return-1<be?(b=p[be],E||(b.fa=!1)):(b=new Dt(b,this.src,ae,!!N,X),b.fa=E,p.push(b)),b};function Tn(p,b){var E=b.type;if(E in p.g){var N=p.g[E],X=Array.prototype.indexOf.call(N,b,void 0),ae;(ae=0<=X)&&Array.prototype.splice.call(N,X,1),ae&&(bt(b),p.g[E].length==0&&(delete p.g[E],p.h--))}}function rr(p,b,E,N){for(var X=0;X<p.length;++X){var ae=p[X];if(!ae.da&&ae.listener==b&&ae.capture==!!E&&ae.ha==N)return X}return-1}var Sn="closure_lm_"+(1e6*Math.random()|0),ps={};function ia(p,b,E,N,X){if(Array.isArray(b)){for(var ae=0;ae<b.length;ae++)ia(p,b[ae],E,N,X);return null}return E=oa(E),p&&p[Ge]?p.K(b,E,h(N)?!!N.capture:!1,X):kn(p,b,E,!1,N,X)}function kn(p,b,E,N,X,ae){if(!b)throw Error("Invalid event type");var be=h(X)?!!X.capture:!!X,St=Fr(p);if(St||(p[Sn]=St=new Yt(p)),E=St.add(b,E,N,be,ae),E.proxy)return E;if(N=Co(),E.proxy=N,N.src=p,N.listener=E,p.addEventListener)_e||(X=be),X===void 0&&(X=!1),p.addEventListener(b.toString(),N,X);else if(p.attachEvent)p.attachEvent(ms(b.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Co(){function p(E){return b.call(p.src,p.listener,E)}const b=ci;return p}function zr(p,b,E,N,X){if(Array.isArray(b))for(var ae=0;ae<b.length;ae++)zr(p,b[ae],E,N,X);else N=h(N)?!!N.capture:!!N,E=oa(E),p&&p[Ge]?(p=p.i,b=String(b).toString(),b in p.g&&(ae=p.g[b],E=rr(ae,E,N,X),-1<E&&(bt(ae[E]),Array.prototype.splice.call(ae,E,1),ae.length==0&&(delete p.g[b],p.h--)))):p&&(p=Fr(p))&&(b=p.g[b.toString()],p=-1,b&&(p=rr(b,E,N,X)),(E=-1<p?b[p]:null)&&sa(E))}function sa(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[Ge])Tn(b.i,p);else{var E=p.type,N=p.proxy;b.removeEventListener?b.removeEventListener(E,N,p.capture):b.detachEvent?b.detachEvent(ms(E),N):b.addListener&&b.removeListener&&b.removeListener(N),(E=Fr(b))?(Tn(E,p),E.h==0&&(E.src=null,b[Sn]=null)):bt(p)}}}function ms(p){return p in ps?ps[p]:ps[p]="on"+p}function ci(p,b){if(p.da)p=!0;else{b=new Ue(b,this);var E=p.listener,N=p.ha||p.src;p.fa&&sa(p),p=E.call(N,b)}return p}function Fr(p){return p=p[Sn],p instanceof Yt?p:null}var aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(p){return typeof p=="function"?p:(p[aa]||(p[aa]=function(b){return p.handleEvent(b)}),p[aa])}function kt(){pe.call(this),this.i=new Yt(this),this.M=this,this.F=null}S(kt,pe),kt.prototype[Ge]=!0,kt.prototype.removeEventListener=function(p,b,E,N){zr(this,p,b,E,N)};function ot(p,b){var E,N=p.F;if(N)for(E=[];N;N=N.F)E.push(N);if(p=p.M,N=b.type||b,typeof b=="string")b=new oe(b,p);else if(b instanceof oe)b.target=b.target||p;else{var X=b;b=new oe(N,p),M(b,X)}if(X=!0,E)for(var ae=E.length-1;0<=ae;ae--){var be=b.g=E[ae];X=Hn(be,N,!0,b)&&X}if(be=b.g=p,X=Hn(be,N,!0,b)&&X,X=Hn(be,N,!1,b)&&X,E)for(ae=0;ae<E.length;ae++)be=b.g=E[ae],X=Hn(be,N,!1,b)&&X}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var p=this.i,b;for(b in p.g){for(var E=p.g[b],N=0;N<E.length;N++)bt(E[N]);delete p.g[b],p.h--}}this.F=null},kt.prototype.K=function(p,b,E,N){return this.i.add(String(p),b,!1,E,N)},kt.prototype.L=function(p,b,E,N){return this.i.add(String(p),b,!0,E,N)};function Hn(p,b,E,N){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();for(var X=!0,ae=0;ae<b.length;++ae){var be=b[ae];if(be&&!be.da&&be.capture==E){var St=be.listener,mn=be.ha||be.src;be.fa&&Tn(p.i,be),X=St.call(mn,N)!==!1&&X}}return X&&!N.defaultPrevented}function on(p,b,E){if(typeof p=="function")E&&(p=_(p,E));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(p,b||0)}function Ul(p){p.g=on(()=>{p.g=null,p.i&&(p.i=!1,Ul(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class Br extends pe{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ul(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(p){pe.call(this),this.h=p,this.g={}}S(Ri,pe);var Ai=[];function Ci(p){U(p.g,function(b,E){this.g.hasOwnProperty(E)&&sa(b)},p),p.g={}}Ri.prototype.N=function(){Ri.aa.N.call(this),Ci(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=d.JSON.stringify,gs=d.JSON.parse,Hr=class{stringify(p){return d.JSON.stringify(p,void 0)}parse(p){return d.JSON.parse(p,void 0)}};function la(){}la.prototype.h=null;function ys(p){return p.h||(p.h=p.i())}function Io(){}var qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){oe.call(this,"d")}S(di,oe);function ua(){oe.call(this,"c")}S(ua,oe);var ir={},Ii=null;function Oi(){return Ii=Ii||new kt}ir.La="serverreachability";function ca(p){oe.call(this,ir.La,p)}S(ca,oe);function q(p){const b=Oi();ot(b,new ca(b))}ir.STAT_EVENT="statevent";function Z(p,b){oe.call(this,ir.STAT_EVENT,p),this.stat=b}S(Z,oe);function ee(p){const b=Oi();ot(b,new Z(b,p))}ir.Ma="timingevent";function fe(p,b){oe.call(this,ir.Ma,p),this.size=b}S(fe,oe);function ve(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){p()},b)}function xe(){this.g=!0}xe.prototype.xa=function(){this.g=!1};function je(p,b,E,N,X,ae){p.info(function(){if(p.g)if(ae)for(var be="",St=ae.split("&"),mn=0;mn<St.length;mn++){var xt=St[mn].split("=");if(1<xt.length){var Rn=xt[0];xt=xt[1];var gn=Rn.split("_");be=2<=gn.length&&gn[1]=="type"?be+(Rn+"="+xt+"&"):be+(Rn+"=redacted&")}}else be=null;else be=ae;return"XMLHTTP REQ ("+N+") [attempt "+X+"]: "+b+`
`+E+`
`+be})}function Ae(p,b,E,N,X,ae,be){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+X+"]: "+b+`
`+E+`
`+ae+" "+be})}function De(p,b,E,N){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+Fe(p,E)+(N?" "+N:"")})}function Le(p,b){p.info(function(){return"TIMEOUT: "+b})}xe.prototype.info=function(){};function Fe(p,b){if(!p.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(p=0;p<E.length;p++)if(Array.isArray(E[p])){var N=E[p];if(!(2>N.length)){var X=N[1];if(Array.isArray(X)&&!(1>X.length)){var ae=X[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var be=1;be<X.length;be++)X[be]=""}}}}return wr(E)}catch{return b}}var Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pt;function Pt(){}S(Pt,la),Pt.prototype.g=function(){return new XMLHttpRequest},Pt.prototype.i=function(){return{}},pt=new Pt;function It(p,b,E,N){this.j=p,this.i=b,this.l=E,this.R=N||1,this.U=new Ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var dt={},$r={};function pn(p,b,E){p.L=1,p.v=No(Sr(b)),p.m=E,p.P=!0,sr(p,null)}function sr(p,b){p.F=Date.now(),Er(p),p.A=Sr(p.v);var E=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),Dc(E.i,"t",N),p.C=0,E=p.j.J,p.h=new wt,p.g=bh(p.j,E?b:null,!p.m),0<p.O&&(p.M=new Br(_(p.Y,p,p.g),p.O)),b=p.U,E=p.g,N=p.ca;var X="readystatechange";Array.isArray(X)||(X&&(Ai[0]=X.toString()),X=Ai);for(var ae=0;ae<X.length;ae++){var be=ia(E,X[ae],N||b.handleEvent,!1,b.h||b);if(!be)break;b.g[be.key]=be}b=p.H?A(p.H):{},p.m?(p.u||(p.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,b)):(p.u="GET",p.g.ea(p.A,p.u,null,b)),q(),je(p.i,p.u,p.A,p.l,p.R,p.m)}It.prototype.ca=function(p){p=p.target;const b=this.M;b&&Wr(p)==3?b.j():this.Y(p)},It.prototype.Y=function(p){try{if(p==this.g)e:{const gn=Wr(this.g);var b=this.g.Ba();const xs=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||fh(this.g)))){this.J||gn!=4||b==7||(b==8||0>=xs?q(3):q(2)),qn(this);var E=this.g.Z();this.X=E;t:if(Nn(this)){var N=fh(this.g);p="";var X=N.length,ae=Wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),ar(this);var be="";break t}this.h.i=new d.TextDecoder}for(b=0;b<X;b++)this.h.h=!0,p+=this.h.i.decode(N[b],{stream:!(ae&&b==X-1)});N.length=0,this.h.g+=p,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=E==200,Ae(this.i,this.u,this.A,this.l,this.R,gn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var St,mn=this.g;if((St=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(St)){var xt=St;break t}}xt=null}if(E=xt)De(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,E);else{this.o=!1,this.s=3,ee(12),Je(this),ar(this);break e}}if(this.P){E=!0;let Pn;for(;!this.J&&this.C<be.length;)if(Pn=ki(this,be),Pn==$r){gn==4&&(this.s=4,ee(14),E=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==dt){this.s=4,ee(15),De(this.i,this.l,be,"[Invalid Chunk]"),E=!1;break}else De(this.i,this.l,Pn,null),ln(this,Pn);if(Nn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||be.length!=0||this.h.h||(this.s=1,ee(16),E=!1),this.o=this.o&&E,!E)De(this.i,this.l,be,"[Invalid Chunked Response]"),Je(this),ar(this);else if(0<be.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),zo(Rn),Rn.M=!0,ee(11))}}else De(this.i,this.l,be,null),ln(this,be);gn==4&&Je(this),this.o&&!this.J&&(gn==4?yh(this.j,this):(this.o=!1,Er(this)))}else Lg(this.g),E==400&&0<be.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Je(this),ar(this)}}}catch{}finally{}};function Nn(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ki(p,b){var E=p.C,N=b.indexOf(`
`,E);return N==-1?$r:(E=Number(b.substring(E,N)),isNaN(E)?dt:(N+=1,N+E>b.length?$r:(b=b.slice(N,N+E),p.C=N+E,b)))}It.prototype.cancel=function(){this.J=!0,Je(this)};function Er(p){p.S=Date.now()+p.I,da(p,p.I)}function da(p,b){if(p.B!=null)throw Error("WatchDog timer not null");p.B=ve(_(p.ba,p),b)}function qn(p){p.B&&(d.clearTimeout(p.B),p.B=null)}It.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Le(this.i,this.A),this.L!=2&&(q(),ee(17)),Je(this),this.s=2,ar(this)):da(this,this.S-p)};function ar(p){p.j.G==0||p.J||yh(p.j,p)}function Je(p){qn(p);var b=p.M;b&&typeof b.ma=="function"&&b.ma(),p.M=null,Ci(p.U),p.g&&(b=p.g,p.g=null,b.abort(),b.ma())}function ln(p,b){try{var E=p.j;if(E.G!=0&&(E.g==p||Gr(E.h,p))){if(!p.K&&Gr(E.h,p)&&E.G==3){try{var N=E.Da.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var X=N;if(X[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<p.F)Kl(E),$l(E);else break e;Uc(E),ee(18)}}else E.za=X[1],0<E.za-E.T&&37500>X[2]&&E.F&&E.v==0&&!E.C&&(E.C=ve(_(E.Za,E),6e3));if(1>=qt(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ss(E,11)}else if((p.K||E.g==p)&&Kl(E),!B(b))for(X=E.Da.g.parse(b),b=0;b<X.length;b++){let xt=X[b];if(E.T=xt[0],xt=xt[1],E.G==2)if(xt[0]=="c"){E.K=xt[1],E.ia=xt[2];const Rn=xt[3];Rn!=null&&(E.la=Rn,E.j.info("VER="+E.la));const gn=xt[4];gn!=null&&(E.Aa=gn,E.j.info("SVER="+E.Aa));const xs=xt[5];xs!=null&&typeof xs=="number"&&0<xs&&(N=1.5*xs,E.L=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const Pn=p.g;if(Pn){const ji=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ji){var ae=N.h;ae.g||ji.indexOf("spdy")==-1&&ji.indexOf("quic")==-1&&ji.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(vs(ae,ae.h),ae.h=null))}if(N.D){const zc=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;zc&&(N.ya=zc,zt(N.I,N.D,zc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-p.F,E.j.info("Handshake RTT: "+E.R+"ms")),N=E;var be=p;if(N.qa=_h(N,N.J?N.ia:null,N.W),be.K){Dn(N.h,be);var St=be,mn=N.L;mn&&(St.I=mn),St.B&&(qn(St),Er(St)),N.g=be}else mh(N);0<E.i.length&&Gl(E)}else xt[0]!="stop"&&xt[0]!="close"||Ss(E,7);else E.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ss(E,7):Lc(E):xt[0]!="noop"&&E.l&&E.l.ta(xt),E.v=0)}}q(4)}catch{}}var Tr=class{constructor(p,b){this.g=p,this.map=b}};function hr(p){this.l=p||10,d.PerformanceNavigationTiming?(p=d.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ni(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function qt(p){return p.h?1:p.g?p.g.size:0}function Gr(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function vs(p,b){p.g?p.g.add(b):p.h=b}function Dn(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}hr.prototype.cancel=function(){if(this.i=Ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Ic(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const E of p.g.values())b=b.concat(E.D);return b}return R(p.i)}function Ng(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var b=[],E=p.length,N=0;N<E;N++)b.push(p[N]);return b}b=[],E=0;for(N in p)b[E++]=p[N];return b}function jl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var b=[];p=p.length;for(var E=0;E<p;E++)b.push(E);return b}b=[],E=0;for(const N in p)b[E++]=N;return b}}}function Oc(p,b){if(p.forEach&&typeof p.forEach=="function")p.forEach(b,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,b,void 0);else for(var E=jl(p),N=Ng(p),X=N.length,ae=0;ae<X;ae++)b.call(void 0,N[ae],E&&E[ae],p)}var Oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dg(p,b){if(p){p=p.split("&");for(var E=0;E<p.length;E++){var N=p[E].indexOf("="),X=null;if(0<=N){var ae=p[E].substring(0,N);X=p[E].substring(N+1)}else ae=p[E];b(ae,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function un(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof un){this.h=p.h,ko(this,p.j),this.o=p.o,this.g=p.g,fa(this,p.s),this.l=p.l;var b=p.i,E=new bs;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),_s(this,E),this.m=p.m}else p&&(b=String(p).match(Oo))?(this.h=!1,ko(this,b[1]||"",!0),this.o=Kr(b[2]||""),this.g=Kr(b[3]||"",!0),fa(this,b[4]),this.l=Kr(b[5]||"",!0),_s(this,b[6]||"",!0),this.m=Kr(b[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}un.prototype.toString=function(){var p=[],b=this.j;b&&p.push(Do(b,kc,!0),":");var E=this.g;return(E||b=="file")&&(p.push("//"),(b=this.o)&&p.push(Do(b,kc,!0),"@"),p.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&p.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&p.push("/"),p.push(Do(E,E.charAt(0)=="/"?Pg:Nc,!0))),(E=this.i.toString())&&p.push("?",E),(E=this.m)&&p.push("#",Do(E,zl)),p.join("")};function Sr(p){return new un(p)}function ko(p,b,E){p.j=E?Kr(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function fa(p,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);p.s=b}else p.s=null}function _s(p,b,E){b instanceof bs?(p.i=b,ch(p.i,p.h)):(E||(b=Do(b,Mg)),p.i=new bs(b,p.h))}function zt(p,b,E){p.i.set(b,E)}function No(p){return zt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Kr(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Do(p,b,E){return typeof p=="string"?(p=encodeURI(p).replace(b,uh),E&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function uh(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var kc=/[#\/\?@]/g,Nc=/[#\?:]/g,Pg=/[#\?]/g,Mg=/[#\?@]/g,zl=/#/g;function bs(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function Qr(p){p.g||(p.g=new Map,p.h=0,p.i&&Dg(p.i,function(b,E){p.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}n=bs.prototype,n.add=function(p,b){Qr(this),this.i=null,p=Di(this,p);var E=this.g.get(p);return E||this.g.set(p,E=[]),E.push(b),this.h+=1,this};function ws(p,b){Qr(p),b=Di(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function Es(p,b){return Qr(p),b=Di(p,b),p.g.has(b)}n.forEach=function(p,b){Qr(this),this.g.forEach(function(E,N){E.forEach(function(X){p.call(b,X,N,this)},this)},this)},n.na=function(){Qr(this);const p=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let N=0;N<b.length;N++){const X=p[N];for(let ae=0;ae<X.length;ae++)E.push(b[N])}return E},n.V=function(p){Qr(this);let b=[];if(typeof p=="string")Es(this,p)&&(b=b.concat(this.g.get(Di(this,p))));else{p=Array.from(this.g.values());for(let E=0;E<p.length;E++)b=b.concat(p[E])}return b},n.set=function(p,b){return Qr(this),this.i=null,p=Di(this,p),Es(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},n.get=function(p,b){return p?(p=this.V(p),0<p.length?String(p[0]):b):b};function Dc(p,b,E){ws(p,b),0<E.length&&(p.i=null,p.g.set(Di(p,b),R(E)),p.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var N=b[E];const ae=encodeURIComponent(String(N)),be=this.V(N);for(N=0;N<be.length;N++){var X=ae;be[N]!==""&&(X+="="+encodeURIComponent(String(be[N]))),p.push(X)}}return this.i=p.join("&")};function Di(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function ch(p,b){b&&!p.j&&(Qr(p),p.i=null,p.g.forEach(function(E,N){var X=N.toLowerCase();N!=X&&(ws(this,N),Dc(this,X,E))},p)),p.j=b}function Po(p,b){const E=new xe;if(d.Image){const N=new Image;N.onload=w(Yr,E,"TestLoadImage: loaded",!0,b,N),N.onerror=w(Yr,E,"TestLoadImage: error",!1,b,N),N.onabort=w(Yr,E,"TestLoadImage: abort",!1,b,N),N.ontimeout=w(Yr,E,"TestLoadImage: timeout",!1,b,N),d.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else b(!1)}function fi(p,b){const E=new xe,N=new AbortController,X=setTimeout(()=>{N.abort(),Yr(E,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:N.signal}).then(ae=>{clearTimeout(X),ae.ok?Yr(E,"TestPingServer: ok",!0,b):Yr(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),Yr(E,"TestPingServer: error",!1,b)})}function Yr(p,b,E,N,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),N(E)}catch{}}function Mo(){this.g=new Hr}function Pi(p,b,E){const N=E||"";try{Oc(p,function(X,ae){let be=X;h(X)&&(be=wr(X)),b.push(N+ae+"="+encodeURIComponent(be))})}catch(X){throw b.push(N+"type="+encodeURIComponent("_badmap")),X}}function ha(p){this.l=p.Ub||null,this.j=p.eb||!1}S(ha,la),ha.prototype.g=function(){return new Ts(this.l,this.j)},ha.prototype.i=function(p){return function(){return p}}({});function Ts(p,b){kt.call(this),this.D=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ts,kt),n=Ts.prototype,n.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=b,this.readyState=1,Li(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(b.body=p),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Li(this)),this.g&&(this.readyState=3,Li(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Mi(this):Li(this),this.readyState==3&&Pc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Mi(this))},n.Qa=function(p){this.g&&(this.response=p,Mi(this))},n.ga=function(){this.g&&Mi(this)};function Mi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Li(p)}n.setRequestHeader=function(p,b){this.u.append(p,b)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,p.push(E[0]+": "+E[1]),E=b.next();return p.join(`\r
`)};function Li(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Mc(p){let b="";return U(p,function(E,N){b+=N,b+=":",b+=E,b+=`\r
`}),b}function xn(p,b,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=Mc(E),typeof p=="string"?E!=null&&encodeURIComponent(String(E)):zt(p,b,E))}function Mt(p){kt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Mt,kt);var Fl=/^https?$/i,Lo=["POST","PUT"];n=Mt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,b,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pt.g(),this.v=this.o?ys(this.o):ys(pt),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(ae){dh(this,ae);return}if(p=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var X in N)E.set(X,N[X]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ae of N.keys())E.set(ae,N.get(ae));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(ae=>ae.toLowerCase()=="content-type"),X=d.FormData&&p instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Lo,b,void 0))||N||X||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,be]of E)this.g.setRequestHeader(ae,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vo(this),this.u=!0,this.g.send(p),this.u=!1}catch(ae){dh(this,ae)}};function dh(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.m=5,Bl(p),Vi(p)}function Bl(p){p.A||(p.A=!0,ot(p,"complete"),ot(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,ot(this,"complete"),ot(this,"abort"),Vi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Hl(this):this.bb())},n.bb=function(){Hl(this)};function Hl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Wr(p)!=4||p.Z()!=2)){if(p.u&&Wr(p)==4)on(p.Ea,0,p);else if(ot(p,"readystatechange"),Wr(p)==4){p.h=!1;try{const be=p.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var N;if(N=be===0){var X=String(p.D).match(Oo)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),N=!Fl.test(X?X.toLowerCase():"")}E=N}if(E)ot(p,"complete"),ot(p,"success");else{p.m=6;try{var ae=2<Wr(p)?p.g.statusText:""}catch{ae=""}p.l=ae+" ["+p.Z()+"]",Bl(p)}}finally{Vi(p)}}}}function Vi(p,b){if(p.g){Vo(p);const E=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,b||ot(p,"ready");try{E.onreadystatechange=N}catch{}}}function Vo(p){p.I&&(d.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Wr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),gs(b)}};function fh(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Lg(p){const b={};p=(p.g&&2<=Wr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(B(p[N]))continue;var E=z(p[N]);const X=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ae=b[X]||[];b[X]=ae,ae.push(E)}P(b,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uo(p,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[p]||b}function ql(p){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uo("baseRetryDelayMs",5e3,p),this.cb=Uo("retryDelaySeedMs",1e4,p),this.Wa=Uo("forwardChannelMaxRetries",2,p),this.wa=Uo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new hr(p&&p.concurrentRequestLimit),this.Da=new Mo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ql.prototype,n.la=8,n.G=1,n.connect=function(p,b,E,N){ee(0),this.W=p,this.H=b||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.I=_h(this,null,this.W),Gl(this)};function Lc(p){if(hh(p),p.G==3){var b=p.U++,E=Sr(p.I);if(zt(E,"SID",p.K),zt(E,"RID",b),zt(E,"TYPE","terminate"),jo(p,E),b=new It(p,p.j,b),b.L=2,b.v=No(Sr(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=b.v,E=!0),E||(b.g=bh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Er(b)}vh(p)}function $l(p){p.g&&(zo(p),p.g.cancel(),p.g=null)}function hh(p){$l(p),p.u&&(d.clearTimeout(p.u),p.u=null),Kl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&d.clearTimeout(p.s),p.s=null)}function Gl(p){if(!Ni(p.h)&&!p.s){p.s=!0;var b=p.Ga;le||V(),te||(le(),te=!0),de.add(b,p),p.B=0}}function Vg(p,b){return qt(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=b.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=ve(_(p.Ga,p,b),jc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const X=new It(this,this.j,p);let ae=this.o;if(this.S&&(ae?(ae=A(ae),M(ae,this.S)):ae=this.S),this.m!==null||this.O||(X.H=ae,ae=null),this.P)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,4096<b){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=ph(this,X,b),E=Sr(this.I),zt(E,"RID",p),zt(E,"CVER",22),this.D&&zt(E,"X-HTTP-Session-Id",this.D),jo(this,E),ae&&(this.O?b="headers="+encodeURIComponent(String(Mc(ae)))+"&"+b:this.m&&xn(E,this.m,ae)),vs(this.h,X),this.Ua&&zt(E,"TYPE","init"),this.P?(zt(E,"$req",b),zt(E,"SID","null"),X.T=!0,pn(X,E,null)):pn(X,E,b),this.G=2}}else this.G==3&&(p?Vc(this,p):this.i.length==0||Ni(this.h)||Vc(this))};function Vc(p,b){var E;b?E=b.l:E=p.U++;const N=Sr(p.I);zt(N,"SID",p.K),zt(N,"RID",E),zt(N,"AID",p.T),jo(p,N),p.m&&p.o&&xn(N,p.m,p.o),E=new It(p,p.j,E,p.B+1),p.m===null&&(E.H=p.o),b&&(p.i=b.D.concat(p.i)),b=ph(p,E,1e3),E.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),vs(p.h,E),pn(E,N,b)}function jo(p,b){p.H&&U(p.H,function(E,N){zt(b,N,E)}),p.l&&Oc({},function(E,N){zt(b,N,E)})}function ph(p,b,E){E=Math.min(p.i.length,E);var N=p.l?_(p.l.Na,p.l,p):null;e:{var X=p.i;let ae=-1;for(;;){const be=["count="+E];ae==-1?0<E?(ae=X[0].g,be.push("ofs="+ae)):ae=0:be.push("ofs="+ae);let St=!0;for(let mn=0;mn<E;mn++){let xt=X[mn].g;const Rn=X[mn].map;if(xt-=ae,0>xt)ae=Math.max(0,X[mn].g-100),St=!1;else try{Pi(Rn,be,"req"+xt+"_")}catch{N&&N(Rn)}}if(St){N=be.join("&");break e}}}return p=p.i.splice(0,E),b.D=p,N}function mh(p){if(!p.g&&!p.u){p.Y=1;var b=p.Fa;le||V(),te||(le(),te=!0),de.add(b,p),p.v=0}}function Uc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=ve(_(p.Fa,p),jc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,gh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=ve(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),$l(this),gh(this))};function zo(p){p.A!=null&&(d.clearTimeout(p.A),p.A=null)}function gh(p){p.g=new It(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var b=Sr(p.qa);zt(b,"RID","rpc"),zt(b,"SID",p.K),zt(b,"AID",p.T),zt(b,"CI",p.F?"0":"1"),!p.F&&p.ja&&zt(b,"TO",p.ja),zt(b,"TYPE","xmlhttp"),jo(p,b),p.m&&p.o&&xn(b,p.m,p.o),p.L&&(p.g.I=p.L);var E=p.g;p=p.ia,E.L=1,E.v=No(Sr(b)),E.m=null,E.P=!0,sr(E,p)}n.Za=function(){this.C!=null&&(this.C=null,$l(this),Uc(this),ee(19))};function Kl(p){p.C!=null&&(d.clearTimeout(p.C),p.C=null)}function yh(p,b){var E=null;if(p.g==b){Kl(p),zo(p),p.g=null;var N=2}else if(Gr(p.h,b))E=b.D,Dn(p.h,b),N=1;else return;if(p.G!=0){if(b.o)if(N==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var X=p.B;N=Oi(),ot(N,new fe(N,E)),Gl(p)}else mh(p);else if(X=b.s,X==3||X==0&&0<b.X||!(N==1&&Vg(p,b)||N==2&&Uc(p)))switch(E&&0<E.length&&(b=p.h,b.i=b.i.concat(E)),X){case 1:Ss(p,5);break;case 4:Ss(p,10);break;case 3:Ss(p,6);break;default:Ss(p,2)}}}function jc(p,b){let E=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(E*=2),E*b}function Ss(p,b){if(p.j.info("Error code "+b),b==2){var E=_(p.fb,p),N=p.Xa;const X=!N;N=new un(N||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ko(N,"https"),No(N),X?Po(N.toString(),E):fi(N.toString(),E)}else ee(2);p.G=0,p.l&&p.l.sa(b),vh(p),hh(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function vh(p){if(p.G=0,p.ka=[],p.l){const b=Ic(p.h);(b.length!=0||p.i.length!=0)&&(C(p.ka,b),C(p.ka,p.i),p.h.i.length=0,R(p.i),p.i.length=0),p.l.ra()}}function _h(p,b,E){var N=E instanceof un?Sr(E):new un(E);if(N.g!="")b&&(N.g=b+"."+N.g),fa(N,N.s);else{var X=d.location;N=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;var ae=new un(null);N&&ko(ae,N),b&&(ae.g=b),X&&fa(ae,X),E&&(ae.l=E),N=ae}return E=p.D,b=p.ya,E&&b&&zt(N,E,b),zt(N,"VER",p.la),jo(p,N),N}function bh(p,b,E){if(b&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Ca&&!p.pa?new Mt(new ha({eb:E})):new Mt(p.pa),b.Ha(p.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wh(){}n=wh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ql(){}Ql.prototype.g=function(p,b){return new or(p,b)};function or(p,b){kt.call(this),this.g=new ql(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(p?p["X-WebChannel-Client-Profile"]=b.va:p={"X-WebChannel-Client-Profile":b.va}),this.g.S=p,(p=b&&b.Sb)&&!B(p)&&(this.g.m=p),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!B(b)&&(this.g.D=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new Ui(this)}S(or,kt),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){Lc(this.g)},or.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var E={};E.__data__=p,p=E}else this.u&&(E={},E.__data__=wr(p),p=E);b.i.push(new Tr(b.Ya++,p)),b.G==3&&Gl(b)},or.prototype.N=function(){this.g.l=null,delete this.j,Lc(this.g),delete this.g,or.aa.N.call(this)};function Eh(p){di.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const E in b){p=E;break e}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}S(Eh,di);function Th(){ua.call(this),this.status=1}S(Th,ua);function Ui(p){this.g=p}S(Ui,wh),Ui.prototype.ua=function(){ot(this.g,"a")},Ui.prototype.ta=function(p){ot(this.g,new Eh(p))},Ui.prototype.sa=function(p){ot(this.g,new Th)},Ui.prototype.ra=function(){ot(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,q1=function(){return new Ql},H1=function(){return Oi()},B1=ir,Z_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Wp=Pe,qe.COMPLETE="complete",F1=qe,Io.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",kt.prototype.listen=kt.prototype.K,zd=Io,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,z1=Mt}).apply(typeof Op<"u"?Op:typeof self<"u"?self:typeof window<"u"?window:{});const hR="@firebase/firestore",pR="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new K0("@firebase/firestore");function ku(){return Sl.logLevel}function Re(n,...e){if(Sl.logLevel<=vt.DEBUG){const t=e.map(ab);Sl.debug(`Firestore (${bc}): ${n}`,...t)}}function Zs(n,...e){if(Sl.logLevel<=vt.ERROR){const t=e.map(ab);Sl.error(`Firestore (${bc}): ${n}`,...t)}}function ac(n,...e){if(Sl.logLevel<=vt.WARN){const t=e.map(ab);Sl.warn(`Firestore (${bc}): ${n}`,...t)}}function ab(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,$1(n,r,t)}function $1(n,e,t){let r=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Zs(r),new Error(r)}function Vt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||$1(e,s,r)}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends ra{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wn.UNAUTHENTICATED))}shutdown(){}}class f9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class h9{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Vt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new io;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new io,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new io)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string",31837,{l:r}),new G1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class p9{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class m9{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new p9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Vt(this.o===void 0,3512);const r=o=>{o.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=y9(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function ct(n,e){return n<e?-1:n>e?1:0}function X_(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return ct(r,s);{const o=K1(),u=v9(o.encode(gR(n,t)),o.encode(gR(e,t)));return u!==0?u:ct(r,s)}}t+=r>65535?2:1}return ct(n.length,e.length)}function gR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function v9(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ct(n[t],e[t]);return ct(n.length,e.length)}function oc(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=-62135596800,vR=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*vR);return new wn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ze(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ze(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yR)throw new ze(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vR}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new wn(0,0))}static max(){return new tt(new wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="__name__";class Gi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ze(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ze(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Gi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return ct(e.length,t.length)}static compareSegments(e,t){const r=Gi.isNumericId(e),s=Gi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Gi.extractNumericId(e).compare(Gi.extractNumericId(t)):X_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}}class nn extends Gi{construct(e,t,r){return new nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ze(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new nn(t)}static emptyPath(){return new nn([])}}const _9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Gi{construct(e,t,r){return new zn(e,t,r)}static isValidIdentifier(e){return _9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_R}static keyField(){return new zn([_R])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ze(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ze(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ze(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(o(),s++)}if(o(),u)throw new ze(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(nn.fromString(e))}static fromName(e){return new He(nn.fromString(e).popFirst(5))}static empty(){return new He(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new nn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=-1;function b9(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=tt.fromTimestamp(r===1e9?new wn(t+1,0):new wn(t,r));return new oo(s,He.empty(),e)}function w9(n){return new oo(n.readTime,n.key,cf)}class oo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oo(tt.min(),He.empty(),cf)}static max(){return new oo(tt.max(),He.empty(),cf)}}function E9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(n.documentKey,e.documentKey),t!==0?t:ct(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==T9)throw n;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let s=0,o=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++o,u&&o===s&&t()},f=>r(f))}),u=!0,o===s&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(s=>s?me.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new me((r,s)=>{const o=e.length,u=new Array(o);let d=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next(g=>{u[h]=g,++d,d===o&&r(u)},g=>s(g))}})}static doWhile(e,t){return new me((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function x9(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ec(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}rg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=-1;function ig(n){return n==null}function wm(n){return n===0&&1/n==-1/0}function R9(n){return typeof n=="number"&&Number.isInteger(n)&&!wm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="";function A9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bR(e)),e=C9(n.get(t),e);return bR(e)}function C9(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Y1:t+="";break;default:t+=o}}return t}function bR(n){return n+Y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function W1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new Xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kp(this.root,e,this.comparator,!0)}}class kp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=o??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Un(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ER(this.data.getIterator())}getIteratorFrom(e){return new ER(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class ER{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Lr([])}unionWith(e){let t=new En(zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Lr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Z1("Invalid base64 string: "+o):o}}(e);return new Fn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const I9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(n){if(Vt(!!n,39018),typeof n=="string"){let e=0;const t=I9.exec(n);if(Vt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(n.seconds),nanos:an(n.nanos)}}function an(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function uo(n){return typeof n=="string"?Fn.fromBase64String(n):Fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="server_timestamp",J1="__type__",eI="__previous_value__",tI="__local_write_time__";function lb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[J1])===null||t===void 0?void 0:t.stringValue)===X1}function sg(n){const e=n.mapValue.fields[eI];return lb(e)?sg(e):e}function df(n){const e=lo(n.mapValue.fields[tI].timestampValue);return new wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,t,r,s,o,u,d,f,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h}}const Em="(default)";class ff{constructor(e,t){this.projectId=e,this.database=t||Em}static empty(){return new ff("","")}get isDefaultDatabase(){return this.database===Em}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="__type__",k9="__max__",Np={mapValue:{}},rI="__vector__",Tm="value";function co(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lb(n)?4:D9(n)?9007199254740991:N9(n)?10:11:Ze(28295,{value:n})}function as(n,e){if(n===e)return!0;const t=co(n);if(t!==co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return df(n).isEqual(df(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=lo(s.timestampValue),d=lo(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return uo(s.bytesValue).isEqual(uo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return an(s.geoPointValue.latitude)===an(o.geoPointValue.latitude)&&an(s.geoPointValue.longitude)===an(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return an(s.integerValue)===an(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=an(s.doubleValue),d=an(o.doubleValue);return u===d?wm(u)===wm(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return oc(n.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},d=o.mapValue.fields||{};if(wR(u)!==wR(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!as(u[f],d[f])))return!1;return!0}(n,e);default:return Ze(52216,{left:n})}}function hf(n,e){return(n.values||[]).find(t=>as(t,e))!==void 0}function lc(n,e){if(n===e)return 0;const t=co(n),r=co(e);if(t!==r)return ct(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ct(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=an(o.integerValue||o.doubleValue),f=an(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return TR(n.timestampValue,e.timestampValue);case 4:return TR(df(n),df(e));case 5:return X_(n.stringValue,e.stringValue);case 6:return function(o,u){const d=uo(o),f=uo(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),f=u.split("/");for(let h=0;h<d.length&&h<f.length;h++){const g=ct(d[h],f[h]);if(g!==0)return g}return ct(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=ct(an(o.latitude),an(u.latitude));return d!==0?d:ct(an(o.longitude),an(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return SR(n.arrayValue,e.arrayValue);case 10:return function(o,u){var d,f,h,g;const v=o.fields||{},_=u.fields||{},w=(d=v[Tm])===null||d===void 0?void 0:d.arrayValue,S=(f=_[Tm])===null||f===void 0?void 0:f.arrayValue,R=ct(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return R!==0?R:SR(w,S)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Np.mapValue&&u===Np.mapValue)return 0;if(o===Np.mapValue)return 1;if(u===Np.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),h=u.fields||{},g=Object.keys(h);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const _=X_(f[v],g[v]);if(_!==0)return _;const w=lc(d[f[v]],h[g[v]]);if(w!==0)return w}return ct(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Ze(23264,{Pe:t})}}function TR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ct(n,e);const t=lo(n),r=lo(e),s=ct(t.seconds,r.seconds);return s!==0?s:ct(t.nanos,r.nanos)}function SR(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=lc(t[s],r[s]);if(o)return o}return ct(t.length,r.length)}function uc(n){return J_(n)}function J_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=lo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return uo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return He.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=J_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${J_(t.fields[u])}`;return s+"}"}(n.mapValue):Ze(61005,{value:n})}function Zp(n){switch(co(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sg(n);return e?16+Zp(e):16;case 5:return 2*n.stringValue.length;case 6:return uo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Zp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ro(r.fields,(o,u)=>{s+=o.length+Zp(u)}),s}(n.mapValue);default:throw Ze(13486,{value:n})}}function e0(n){return!!n&&"integerValue"in n}function ub(n){return!!n&&"arrayValue"in n}function xR(n){return!!n&&"nullValue"in n}function RR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xp(n){return!!n&&"mapValue"in n}function N9(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nI])===null||t===void 0?void 0:t.stringValue)===rI}function Qd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function D9(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===k9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qd(t)}setAll(e){let t=zn.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Qd(u):s.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());Xp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Xp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ro(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new br(Qd(this.value))}}function iI(n){const e=[];return Ro(n.fields,(t,r)=>{const s=new zn([t]);if(Xp(r)){const o=iI(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new Lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t,r,s,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Zn(e,0,tt.min(),tt.min(),tt.min(),br.empty(),0)}static newFoundDocument(e,t,r,s){return new Zn(e,1,t,tt.min(),r,s,0)}static newNoDocument(e,t){return new Zn(e,2,t,tt.min(),tt.min(),br.empty(),0)}static newUnknownDocument(e,t){return new Zn(e,3,t,tt.min(),tt.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t){this.position=e,this.inclusive=t}}function AR(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=He.comparator(He.fromName(u.referenceValue),t.key):r=lc(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function CR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!as(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t="asc"){this.field=e,this.dir=t}}function P9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{}class bn extends sI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new L9(e,t,r):t==="array-contains"?new j9(e,r):t==="in"?new z9(e,r):t==="not-in"?new F9(e,r):t==="array-contains-any"?new B9(e,r):new bn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new V9(e,r):new U9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(lc(t,this.value)):t!==null&&co(this.value)===co(t)&&this.matchesComparison(lc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends sI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new os(e,t)}matches(e){return aI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function aI(n){return n.op==="and"}function oI(n){return M9(n)&&aI(n)}function M9(n){for(const e of n.filters)if(e instanceof os)return!1;return!0}function t0(n){if(n instanceof bn)return n.field.canonicalString()+n.op.toString()+uc(n.value);if(oI(n))return n.filters.map(e=>t0(e)).join(",");{const e=n.filters.map(t=>t0(t)).join(",");return`${n.op}(${e})`}}function lI(n,e){return n instanceof bn?function(r,s){return s instanceof bn&&r.op===s.op&&r.field.isEqual(s.field)&&as(r.value,s.value)}(n,e):n instanceof os?function(r,s){return s instanceof os&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,d)=>o&&lI(u,s.filters[d]),!0):!1}(n,e):void Ze(19439)}function uI(n){return n instanceof bn?function(t){return`${t.field.canonicalString()} ${t.op} ${uc(t.value)}`}(n):n instanceof os?function(t){return t.op.toString()+" {"+t.getFilters().map(uI).join(" ,")+"}"}(n):"Filter"}class L9 extends bn{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class V9 extends bn{constructor(e,t){super(e,"in",t),this.keys=cI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class U9 extends bn{constructor(e,t){super(e,"not-in",t),this.keys=cI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class j9 extends bn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ub(t)&&hf(t.arrayValue,this.value)}}class z9 extends bn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hf(this.value.arrayValue,t)}}class F9 extends bn{constructor(e,t){super(e,"not-in",t)}matches(e){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hf(this.value.arrayValue,t)}}class B9 extends bn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ub(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,t=null,r=[],s=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function IR(n,e=null,t=[],r=[],s=null,o=null,u=null){return new H9(n,e,t,r,s,o,u)}function cb(n){const e=nt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>t0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ig(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uc(r)).join(",")),e.Ie=t}return e.Ie}function db(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!P9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CR(n.startAt,e.startAt)&&CR(n.endAt,e.endAt)}function n0(n){return He.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t=null,r=[],s=[],o=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function q9(n,e,t,r,s,o,u,d){return new ag(n,e,t,r,s,o,u,d)}function fb(n){return new ag(n)}function OR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $9(n){return n.collectionGroup!==null}function Yd(n){const e=nt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new En(zn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(d=d.add(h.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new xm(o,r))}),t.has(zn.keyField().canonicalString())||e.Ee.push(new xm(zn.keyField(),r))}return e.Ee}function ts(n){const e=nt(n);return e.de||(e.de=G9(e,Yd(n))),e.de}function G9(n,e){if(n.limitType==="F")return IR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new xm(s.field,o)});const t=n.endAt?new Sm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sm(n.startAt.position,n.startAt.inclusive):null;return IR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function r0(n,e,t){return new ag(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function og(n,e){return db(ts(n),ts(e))&&n.limitType===e.limitType}function dI(n){return`${cb(ts(n))}|lt:${n.limitType}`}function Nu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>uI(s)).join(", ")}]`),ig(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>uc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>uc(s)).join(",")),`Target(${r})`}(ts(n))}; limitType=${n.limitType})`}function lg(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):He.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of Yd(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const h=AR(u,d,f);return u.inclusive?h<=0:h<0}(r.startAt,Yd(r),s)||r.endAt&&!function(u,d,f){const h=AR(u,d,f);return u.inclusive?h>=0:h>0}(r.endAt,Yd(r),s))}(n,e)}function K9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fI(n){return(e,t)=>{let r=!1;for(const s of Yd(n)){const o=Q9(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Q9(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(o,u,d){const f=u.data.field(o),h=d.data.field(o);return f!==null&&h!==null?lc(f,h):Ze(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ze(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new Xt(He.comparator);function Xs(){return Y9}const hI=new Xt(He.comparator);function Fd(...n){let e=hI;for(const t of n)e=e.insert(t.key,t);return e}function pI(n){let e=hI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ol(){return Wd()}function mI(){return Wd()}function Wd(){return new Nl(n=>n.toString(),(n,e)=>n.isEqual(e))}const W9=new Xt(He.comparator),Z9=new En(He.comparator);function _t(...n){let e=Z9;for(const t of n)e=e.add(t);return e}const X9=new En(ct);function J9(){return X9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wm(e)?"-0":e}}function gI(n){return{integerValue:""+n}}function e3(n,e){return R9(e)?gI(e):hb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this._=void 0}}function t3(n,e,t){return n instanceof pf?function(s,o){const u={fields:{[J1]:{stringValue:X1},[tI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&lb(o)&&(o=sg(o)),o&&(u.fields[eI]=o),{mapValue:u}}(t,e):n instanceof mf?vI(n,e):n instanceof gf?_I(n,e):function(s,o){const u=yI(s,o),d=kR(u)+kR(s.Re);return e0(u)&&e0(s.Re)?gI(d):hb(s.serializer,d)}(n,e)}function n3(n,e,t){return n instanceof mf?vI(n,e):n instanceof gf?_I(n,e):t}function yI(n,e){return n instanceof Rm?function(r){return e0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class pf extends ug{}class mf extends ug{constructor(e){super(),this.elements=e}}function vI(n,e){const t=bI(e);for(const r of n.elements)t.some(s=>as(s,r))||t.push(r);return{arrayValue:{values:t}}}class gf extends ug{constructor(e){super(),this.elements=e}}function _I(n,e){let t=bI(e);for(const r of n.elements)t=t.filter(s=>!as(s,r));return{arrayValue:{values:t}}}class Rm extends ug{constructor(e,t){super(),this.serializer=e,this.Re=t}}function kR(n){return an(n.integerValue||n.doubleValue)}function bI(n){return ub(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,t){this.field=e,this.transform=t}}function i3(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof mf&&s instanceof mf||r instanceof gf&&s instanceof gf?oc(r.elements,s.elements,as):r instanceof Rm&&s instanceof Rm?as(r.Re,s.Re):r instanceof pf&&s instanceof pf}(n.transform,e.transform)}class s3{constructor(e,t){this.version=e,this.transformResults=t}}class ns{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cg{}function wI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new TI(n.key,ns.none()):new Xf(n.key,n.data,ns.none());{const t=n.data,r=br.empty();let s=new En(zn.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Ao(n.key,r,new Lr(s.toArray()),ns.none())}}function a3(n,e,t){n instanceof Xf?function(s,o,u){const d=s.value.clone(),f=DR(s.fieldTransforms,o,u.transformResults);d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ao?function(s,o,u){if(!Jp(s.precondition,o))return void o.convertToUnknownDocument(u.version);const d=DR(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(EI(s)),f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Zd(n,e,t,r){return n instanceof Xf?function(o,u,d,f){if(!Jp(o.precondition,u))return d;const h=o.value.clone(),g=PR(o.fieldTransforms,f,u);return h.setAll(g),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ao?function(o,u,d,f){if(!Jp(o.precondition,u))return d;const h=PR(o.fieldTransforms,f,u),g=u.data;return g.setAll(EI(o)),g.setAll(h),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,u,d){return Jp(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function o3(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=yI(r.transform,s||null);o!=null&&(t===null&&(t=br.empty()),t.set(r.field,o))}return t||null}function NR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oc(r,s,(o,u)=>i3(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xf extends cg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ao extends cg{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function EI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function DR(n,e,t){const r=new Map;Vt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,d=e.data.field(o.field);r.set(o.field,n3(u,d,t[s]))}return r}function PR(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,t3(o,u,e))}return r}class TI extends cg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l3 extends cg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&a3(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=mI();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(s.key)?null:d;const f=wI(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_t())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(t,r)=>NR(t,r))&&oc(this.baseMutations,e.baseMutations,(t,r)=>NR(t,r))}}class pb{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Vt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return W9}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new pb(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,At;function f3(n){switch(n){case ge.OK:return Ze(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Ze(15467,{code:n})}}function SI(n){if(n===void 0)return Zs("GRPC error has no .code"),ge.UNKNOWN;switch(n){case fn.OK:return ge.OK;case fn.CANCELLED:return ge.CANCELLED;case fn.UNKNOWN:return ge.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ge.INTERNAL;case fn.UNAVAILABLE:return ge.UNAVAILABLE;case fn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case fn.NOT_FOUND:return ge.NOT_FOUND;case fn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case fn.ABORTED:return ge.ABORTED;case fn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case fn.DATA_LOSS:return ge.DATA_LOSS;default:return Ze(39323,{code:n})}}(At=fn||(fn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new ro([4294967295,4294967295],0);function MR(n){const e=K1().encode(n),t=new j1;return t.update(e),new Uint8Array(t.digest())}function LR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ro([t,r],0),new ro([s,o],0)]}class mb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bd(`Invalid padding: ${t}`);if(r<0)throw new Bd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ro.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(ro.fromNumber(r)));return s.compare(h3)===1&&(s=new ro([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=MR(e),[r,s]=LR(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new mb(o,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=MR(e),[r,s]=LR(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Jf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new dg(tt.min(),s,new Xt(ct),Xs(),_t())}}class Jf{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Jf(r,t,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class xI{constructor(e,t){this.targetId=e,this.Ce=t}}class RI{constructor(e,t,r=Fn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class VR{constructor(){this.Fe=0,this.Me=UR(),this.xe=Fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=_t(),t=_t(),r=_t();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ze(38017,{changeType:o})}}),new Jf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=UR()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Vt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class p3{constructor(e){this.ze=e,this.je=new Map,this.He=Xs(),this.Je=Dp(),this.Ye=Dp(),this.Ze=new Xt(ct)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ze(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(n0(o))if(r===0){const u=new He(o.path);this.tt(t,u,Zn.newNoDocument(u,tt.min()))}else Vt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const d=this.ct(e),f=d?this.lt(d,e,u):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,d;try{u=uo(r).toUint8Array()}catch(f){if(f instanceof Z1)return ac("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new mb(u,s,o)}catch(f){return ac(f instanceof Bd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&n0(d.target)){const f=new He(d.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Zn.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=_t();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new dg(e,t,this.Ze,this.He,r);return this.He=Xs(),this.Je=Dp(),this.Ye=Dp(),this.Ze=new Xt(ct),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new VR,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new En(ct),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new En(ct),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new VR),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Dp(){return new Xt(He.comparator)}function UR(){return new Xt(He.comparator)}const m3={asc:"ASCENDING",desc:"DESCENDING"},g3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y3={and:"AND",or:"OR"};class v3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function i0(n,e){return n.useProto3Json||ig(e)?e:{value:e}}function Am(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _3(n,e){return Am(n,e.toTimestamp())}function rs(n){return Vt(!!n,49232),tt.fromTimestamp(function(t){const r=lo(t);return new wn(r.seconds,r.nanos)}(n))}function gb(n,e){return s0(n,e).canonicalString()}function s0(n,e){const t=function(s){return new nn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function CI(n){const e=nn.fromString(n);return Vt(DI(e),10190,{key:e.toString()}),e}function a0(n,e){return gb(n.databaseId,e.path)}function Zv(n,e){const t=CI(e);if(t.get(1)!==n.databaseId.projectId)throw new ze(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ze(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(OI(t))}function II(n,e){return gb(n.databaseId,e)}function b3(n){const e=CI(n);return e.length===4?nn.emptyPath():OI(e)}function o0(n){return new nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OI(n){return Vt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function jR(n,e,t){return{name:a0(n,e),fields:t.value.mapValue.fields}}function w3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ze(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,g){return h.useProto3Json?(Vt(g===void 0||typeof g=="string",58123),Fn.fromBase64String(g||"")):(Vt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Fn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(h){const g=h.code===void 0?ge.UNKNOWN:SI(h.code);return new ze(g,h.message||"")}(u);t=new RI(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zv(n,r.document.name),o=rs(r.document.updateTime),u=r.document.createTime?rs(r.document.createTime):tt.min(),d=new br({mapValue:{fields:r.document.fields}}),f=Zn.newFoundDocument(s,o,u,d),h=r.targetIds||[],g=r.removedTargetIds||[];t=new em(h,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zv(n,r.document),o=r.readTime?rs(r.readTime):tt.min(),u=Zn.newNoDocument(s,o),d=r.removedTargetIds||[];t=new em([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zv(n,r.document),o=r.removedTargetIds||[];t=new em([],o,s,null)}else{if(!("filter"in e))return Ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new d3(s,o),d=r.targetId;t=new xI(d,u)}}return t}function E3(n,e){let t;if(e instanceof Xf)t={update:jR(n,e.key,e.value)};else if(e instanceof TI)t={delete:a0(n,e.key)};else if(e instanceof Ao)t={update:jR(n,e.key,e.data),updateMask:k3(e.fieldMask)};else{if(!(e instanceof l3))return Ze(16599,{ft:e.type});t={verify:a0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof pf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof mf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Rm)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Ze(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:_3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze(27497)}(n,e.precondition)),t}function T3(n,e){return n&&n.length>0?(Vt(e!==void 0,14353),n.map(t=>function(s,o){let u=s.updateTime?rs(s.updateTime):rs(o);return u.isEqual(tt.min())&&(u=rs(o)),new s3(u,s.transformResults||[])}(t,e))):[]}function S3(n,e){return{documents:[II(n,e.path)]}}function x3(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=II(n,s);const o=function(h){if(h.length!==0)return NI(os.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(h){if(h.length!==0)return h.map(g=>function(_){return{field:Du(_.field),direction:C3(_.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=i0(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:s}}function R3(n){let e=b3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Vt(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const _=kI(v);return _ instanceof os&&oI(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(_=>function(S){return new xm(Pu(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(t.orderBy));let d=null;t.limit&&(d=function(v){let _;return _=typeof v=="object"?v.value:v,ig(_)?null:_}(t.limit));let f=null;t.startAt&&(f=function(v){const _=!!v.before,w=v.values||[];return new Sm(w,_)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const _=!v.before,w=v.values||[];return new Sm(w,_)}(t.endAt)),q9(e,s,u,o,d,"F",f,h)}function A3(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Pu(t.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pu(t.unaryFilter.field);return bn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pu(t.unaryFilter.field);return bn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Pu(t.unaryFilter.field);return bn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}}(n):n.fieldFilter!==void 0?function(t){return bn.create(Pu(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return os.create(t.compositeFilter.filters.map(r=>kI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}}(t.compositeFilter.op))}(n):Ze(30097,{filter:n})}function C3(n){return m3[n]}function I3(n){return g3[n]}function O3(n){return y3[n]}function Du(n){return{fieldPath:n.canonicalString()}}function Pu(n){return zn.fromServerFormat(n.fieldPath)}function NI(n){return n instanceof bn?function(t){if(t.op==="=="){if(RR(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NAN"}};if(xR(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(RR(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NOT_NAN"}};if(xR(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(t.field),op:I3(t.op),value:t.value}}}(n):n instanceof os?function(t){const r=t.getFilters().map(s=>NI(s));return r.length===1?r[0]:{compositeFilter:{op:O3(t.op),filters:r}}}(n):Ze(54877,{filter:n})}function k3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function DI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t,r,s,o=tt.min(),u=tt.min(),d=Fn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.wt=e}}function D3(n){const e=R3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?r0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.yn=new M3}addToCollectionParentIndex(e,t){return this.yn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(oo.min())}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class M3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new En(nn.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new En(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PI=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(PI,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new cc(0)}static ir(){return new cc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="LruGarbageCollector",L3=1048576;function BR([n,e],[t,r]){const s=ct(n,t);return s===0?ct(e,r):s}class V3{constructor(e){this.cr=e,this.buffer=new En(BR),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();BR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Re(FR,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ec(t)?Re(FR,"Ignoring IndexedDB error during garbage collection: ",t):await wc(t)}await this.Ir(3e5)})}}class j3{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return me.resolve(rg.le);const r=new V3(t);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(zR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zR):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,s,o,u,d,f,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),ku()<=vt.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-g}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function z3(n,e){return new j3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.changes=new Nl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Zd(r.mutation,s,Lr.empty(),wn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_t()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_t()){const s=ol();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=Fd();return o.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ol();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_t()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let o=Xs();const u=Wd(),d=function(){return Wd()}();return t.forEach((f,h)=>{const g=r.get(h.key);s.has(h.key)&&(g===void 0||g.mutation instanceof Ao)?o=o.insert(h.key,h):g!==void 0?(u.set(h.key,g.mutation.getFieldMask()),Zd(g.mutation,h,g.mutation.getFieldMask(),wn.now())):u.set(h.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,g)=>u.set(h,g)),t.forEach((h,g)=>{var v;return d.set(h,new B3(g,(v=u.get(h))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Wd();let s=new Xt((u,d)=>u-d),o=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let g=r.get(f)||Lr.empty();g=d.applyToLocalView(h,g),r.set(f,g);const v=(s.get(d.batchId)||_t()).add(f);s=s.insert(d.batchId,v)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,g=f.value,v=mI();g.forEach(_=>{if(!o.has(_)){const w=wI(t.get(_),r.get(_));w!==null&&v.set(_,w),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,h,v))}return me.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return He.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$9(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):me.resolve(ol());let d=cf,f=o;return u.next(h=>me.forEach(h,(g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(g)?me.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{f=f.insert(g,_)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,_t())).next(g=>({batchId:d,changes:pI(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let s=Fd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=Fd();return this.indexManager.getCollectionParents(e,o).next(d=>me.forEach(d,f=>{const h=function(v,_){return new ag(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(g=>{g.forEach((v,_)=>{u=u.insert(v,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((f,h)=>{const g=h.getKey();u.get(g)===null&&(u=u.insert(g,Zn.newInvalidDocument(g)))});let d=Fd();return u.forEach((f,h)=>{const g=o.get(f);g!==void 0&&Zd(g.mutation,h,Lr.empty(),wn.now()),lg(t,h)&&(d=d.insert(f,h))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return me.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:rs(s.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:D3(s.bundledQuery),readTime:rs(s.readTime)}}(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.overlays=new Xt(He.comparator),this.Or=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ol();return me.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.St(e,t,o)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const s=ol(),o=t.length+1,u=new He(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return me.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Xt((h,g)=>h-g);const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let g=o.get(h.largestBatchId);g===null&&(g=ol(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const d=ol(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,g)=>d.set(h,g)),!(d.size()>=s)););return me.resolve(d)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new c3(t,r));let o=this.Or.get(t);o===void 0&&(o=_t(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.Nr=new En(On.Br),this.Lr=new En(On.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new On(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new On(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new He(new nn([])),r=new On(t,e),s=new On(t,e+1),o=[];return this.Lr.forEachInRange([r,s],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new He(new nn([])),r=new On(t,e),s=new On(t,e+1);let o=_t();return this.Lr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new On(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class On{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return He.comparator(e.key,t.key)||ct(e.Gr,t.Gr)}static kr(e,t){return ct(e.Gr,t.Gr)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new En(On.Br)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new u3(o,t,r,s);this.mutationQueue.push(u);for(const d of s)this.zr=this.zr.add(new On(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,t){return me.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Hr(r),o=s<0?0:s;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?ob:this.Jn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new On(t,0),s=new On(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,s],u=>{const d=this.jr(u.Gr);o.push(d)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(ct);return t.forEach(s=>{const o=new On(s,0),u=new On(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],d=>{r=r.add(d.Gr)})}),me.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;He.isDocumentKey(o)||(o=o.child(""));const u=new On(new He(o),0);let d=new En(ct);return this.zr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(d=d.add(f.Gr)),!0)},u),me.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Vt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return me.forEach(t.mutations,s=>{const o=new On(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new On(t,0),s=this.zr.firstAfterOrEqual(r);return me.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.Zr=e,this.docs=function(){return new Xt(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(t))}getEntries(e,t){let r=Xs();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Zn.newInvalidDocument(s))}),me.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Xs();const u=t.path,d=new He(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:g}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||E9(w9(g),r)<=0||(s.has(g.key)||lg(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Ze(9500)}Xr(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Y3(this)}getSize(e){return me.resolve(this.size)}}class Y3 extends F3{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.persistence=e,this.ei=new Nl(t=>cb(t),db),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.ti=0,this.ni=new yb,this.targetCount=0,this.ri=cc.rr()}forEachTarget(e,t){return this.ei.forEach((r,s)=>t(s)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),me.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new cc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.ar(t),me.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ei.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),me.waitFor(o).next(()=>s)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),me.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t){this.ii={},this.overlays={},this.si=new rg(0),this.oi=!1,this.oi=!0,this._i=new G3,this.referenceDelegate=e(this),this.ai=new W3(this),this.indexManager=new P3,this.remoteDocumentCache=function(s){return new Q3(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new N3(t),this.ci=new q3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new K3(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const s=new Z3(this.si.next());return this.referenceDelegate.li(),r(s).next(o=>this.referenceDelegate.hi(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Pi(e,t){return me.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class Z3 extends S9{constructor(e){super(),this.currentSequenceNumber=e}}class vb{constructor(e){this.persistence=e,this.Ti=new yb,this.Ii=null}static Ei(e){return new vb(e)}get di(){if(this.Ii)return this.Ii;throw Ze(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,r=>{const s=He.fromPath(r);return this.Ai(e,s).next(o=>{o||t.removeEntry(s,tt.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return me.or([()=>me.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Cm{constructor(e,t){this.persistence=e,this.Ri=new Nl(r=>A9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=z3(this,t)}static Ei(e,t){return new Cm(e,t)}li(){}hi(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return me.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(o=>o?me.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.Xr(e,u=>this.gr(e,u,t).next(d=>{d||(r++,o.removeEntry(u,tt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zp(e.data.value)),t}gr(e,t,r){return me.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return me.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=s}static Ps(e,t){let r=_t(),s=_t();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new _b(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return IV()?8:x9(Xn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new X3;return this.fs(e,t,u).next(d=>{if(o.result=d,this.Is)return this.gs(e,t,u,d.size)})}).next(()=>o.result)}gs(e,t,r,s){return r.documentReadCount<this.Es?(ku()<=vt.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Nu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),me.resolve()):(ku()<=vt.DEBUG&&Re("QueryEngine","Query:",Nu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ku()<=vt.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Nu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ts(t))):me.resolve())}Rs(e,t){if(OR(t))return me.resolve(null);let r=ts(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=r0(t,null,"F"),r=ts(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=_t(...o);return this.As.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.ps(t,d);return this.ys(t,h,u,f.readTime)?this.Rs(e,r0(t,null,"F")):this.ws(e,h,t,f)}))})))}Vs(e,t,r,s){return OR(t)||s.isEqual(tt.min())?me.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,s)?me.resolve(null):(ku()<=vt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Nu(t)),this.ws(e,u,t,b9(s,cf)).next(d=>d))})}ps(e,t){let r=new En(fI(e));return t.forEach((s,o)=>{lg(e,o)&&(r=r.add(o))}),r}ys(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}fs(e,t,r){return ku()<=vt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Nu(t)),this.As.getDocumentsMatchingQuery(e,t,oo.min(),r)}ws(e,t,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="LocalStore",ez=3e8;class tz{constructor(e,t,r,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new Xt(ct),this.Ds=new Nl(o=>cb(o),db),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H3(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function nz(n,e,t,r){return new tz(n,e,t,r)}async function LI(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],d=[];let f=_t();for(const h of s){u.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}for(const h of o){d.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(h=>({Ms:h,removedBatchIds:u,addedBatchIds:d}))})})}function rz(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,f,h,g){const v=h.batch,_=v.keys();let w=me.resolve();return _.forEach(S=>{w=w.next(()=>g.getEntry(f,S)).next(R=>{const C=h.docVersions.get(S);Vt(C!==null,48541),R.version.compareTo(C)<0&&(v.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),g.addEntry(R)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=_t();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function VI(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function iz(n,e){const t=nt(n),r=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const d=[];e.targetChanges.forEach((g,v)=>{const _=s.get(v);if(!_)return;d.push(t.ai.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.ai.addMatchingKeys(o,g.addedDocuments,v)));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(Fn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),s=s.insert(v,w),function(R,C,D){return R.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=ez?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,w,g)&&d.push(t.ai.updateTargetData(o,w))});let f=Xs(),h=_t();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),d.push(sz(o,u,e.documentUpdates).next(g=>{f=g.xs,h=g.Os})),!r.isEqual(tt.min())){const g=t.ai.getLastRemoteSnapshotVersion(o).next(v=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(g)}return me.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(t.Ss=s,o))}function sz(n,e,t){let r=_t(),s=_t();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Xs();return t.forEach((d,f)=>{const h=o.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):Re(bb,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)}),{xs:u,Os:s}})}function az(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ob),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oz(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.ai.getTargetData(r,e).next(o=>o?(s=o,me.resolve(s)):t.ai.allocateTargetId(r).next(u=>(s=new Xa(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function l0(n,e,t){const r=nt(n),s=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ec(u))throw u;Re(bb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function HR(n,e,t){const r=nt(n);let s=tt.min(),o=_t();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,h,g){const v=nt(f),_=v.Ds.get(g);return _!==void 0?me.resolve(v.Ss.get(_)):v.ai.getTargetData(h,g)}(r,u,ts(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,d.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?s:tt.min(),t?o:_t())).next(d=>(lz(r,K9(e),d),{documents:d,Ns:o})))}function lz(n,e,t){let r=n.vs.get(e)||tt.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class qR{constructor(){this.activeTargetIds=J9()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uz{constructor(){this.So=new qR,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new qR,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="ConnectivityMonitor";class GR{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Re($R,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Re($R,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp=null;function u0(){return Pp===null?Pp=function(){return 268435456+Math.round(2147483648*Math.random())}():Pp++,"0x"+Pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="RestConnection",dz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fz{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Em?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,t,r,s,o){const u=u0(),d=this.$o(e,t.toUriEncodedString());Re(Xv,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,s,o),this.Ko(e,d,f,r).then(h=>(Re(Xv,`Received RPC '${e}' ${u}: `,h),h),h=>{throw ac(Xv,`RPC '${e}' ${u} failed with error: `,h,"url: ",d,"request:",r),h})}Wo(e,t,r,s,o,u){return this.Qo(e,t,r,s,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}$o(e,t){const r=dz[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class pz extends fz{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,s){const o=u0();return new Promise((u,d)=>{const f=new z1;f.setWithCredentials(!0),f.listenOnce(F1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Wp.NO_ERROR:const g=f.getResponseJson();Re(Kn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Wp.TIMEOUT:Re(Kn,`RPC '${e}' ${o} timed out`),d(new ze(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Wp.HTTP_ERROR:const v=f.getStatus();if(Re(Kn,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const S=function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(D)>=0?D:ge.UNKNOWN}(w.status);d(new ze(S,w.message))}else d(new ze(ge.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ze(ge.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{s_:e,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{Re(Kn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Re(Kn,`RPC '${e}' ${o} sending request:`,s),f.send(t,"POST",h,r,15)})}a_(e,t,r){const s=u0(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=q1(),d=H1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");Re(Kn,`Creating RPC '${e}' stream ${s}: ${g}`,f);const v=u.createWebChannel(g,f);let _=!1,w=!1;const S=new hz({Go:C=>{w?Re(Kn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(_||(Re(Kn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),Re(Kn,`RPC '${e}' stream ${s} sending:`,C),v.send(C))},zo:()=>v.close()}),R=(C,D,B)=>{C.listen(D,j=>{try{B(j)}catch($){setTimeout(()=>{throw $},0)}})};return R(v,zd.EventType.OPEN,()=>{w||(Re(Kn,`RPC '${e}' stream ${s} transport opened.`),S.t_())}),R(v,zd.EventType.CLOSE,()=>{w||(w=!0,Re(Kn,`RPC '${e}' stream ${s} transport closed`),S.r_())}),R(v,zd.EventType.ERROR,C=>{w||(w=!0,ac(Kn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),S.r_(new ze(ge.UNAVAILABLE,"The operation could not be completed")))}),R(v,zd.EventType.MESSAGE,C=>{var D;if(!w){const B=C.data[0];Vt(!!B,16349);const j=B,$=(j==null?void 0:j.error)||((D=j[0])===null||D===void 0?void 0:D.error);if($){Re(Kn,`RPC '${e}' stream ${s} received error:`,$);const Q=$.status;let U=function(O){const M=fn[O];if(M!==void 0)return SI(M)}(Q),P=$.message;U===void 0&&(U=ge.INTERNAL,P="Unknown error status: "+Q+" with message "+$.message),w=!0,S.r_(new ze(U,P)),v.close()}else Re(Kn,`RPC '${e}' stream ${s} received:`,B),S.i_(B)}}),R(d,B1.STAT_EVENT,C=>{C.stat===Z_.PROXY?Re(Kn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Z_.NOPROXY&&Re(Kn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function Jv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(n){return new v3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t,r=1e3,s=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=s,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-r);s>0&&Re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="PersistentStream";class jI{constructor(e,t,r,s,o,u,d,f){this.bi=e,this.R_=r,this.V_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new UI(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Zs(t.toString()),Zs("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===t&&this.B_(r,s)},r=>{e(()=>{const s=new ze(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Re(KR,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Re(KR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mz extends jI{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=w3(this.serializer,e),r=function(o){if(!("targetChange"in o))return tt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?tt.min():u.readTime?rs(u.readTime):tt.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=o0(this.serializer),t.addTarget=function(o,u){let d;const f=u.target;if(d=n0(f)?{documents:S3(o,f)}:{query:x3(o,f).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=AI(o,u.resumeToken);const h=i0(o,u.expectedCount);h!==null&&(d.expectedCount=h)}else if(u.snapshotVersion.compareTo(tt.min())>0){d.readTime=Am(o,u.snapshotVersion.toTimestamp());const h=i0(o,u.expectedCount);h!==null&&(d.expectedCount=h)}return d}(this.serializer,e);const r=A3(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=o0(this.serializer),t.removeTarget=e,this.F_(t)}}class gz extends jI{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=T3(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=o0(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>E3(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{}class vz extends yz{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new ze(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,s0(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(ge.UNKNOWN,o.toString())})}Wo(e,t,r,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Wo(e,s0(t,r),s,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ze(ge.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class _z{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Zs(t),this.ea=!1):Re("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="RemoteStore";class bz{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Dl(this)&&(Re(xl,"Restarting streams for network reachability change."),await async function(f){const h=nt(f);h.aa.add(4),await eh(h),h.la.set("Unknown"),h.aa.delete(4),await hg(h)}(this))})}),this.la=new _z(r,s)}}async function hg(n){if(Dl(n))for(const e of n.ua)await e(!0)}async function eh(n){for(const e of n.ua)await e(!1)}function zI(n,e){const t=nt(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Sb(t)?Tb(t):Tc(t).b_()&&Eb(t,e))}function wb(n,e){const t=nt(n),r=Tc(t);t._a.delete(e),r.b_()&&FI(t,e),t._a.size===0&&(r.b_()?r.v_():Dl(t)&&t.la.set("Unknown"))}function Eb(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Tc(n).U_(e)}function FI(n,e){n.ha.Ke(e),Tc(n).K_(e)}function Tb(n){n.ha=new p3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Tc(n).start(),n.la.ta()}function Sb(n){return Dl(n)&&!Tc(n).w_()&&n._a.size>0}function Dl(n){return nt(n).aa.size===0}function BI(n){n.ha=void 0}async function wz(n){n.la.set("Online")}async function Ez(n){n._a.forEach((e,t)=>{Eb(n,e)})}async function Tz(n,e){BI(n),Sb(n)?(n.la.ia(e),Tb(n)):n.la.set("Unknown")}async function Sz(n,e,t){if(n.la.set("Online"),e instanceof RI&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const d of o.targetIds)s._a.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s._a.delete(d),s.ha.removeTarget(d))}(n,e)}catch(r){Re(xl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Im(n,r)}else if(e instanceof em?n.ha.Xe(e):e instanceof xI?n.ha.ot(e):n.ha.nt(e),!t.isEqual(tt.min()))try{const r=await VI(n.localStore);t.compareTo(r)>=0&&await function(o,u){const d=o.ha.It(u);return d.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const g=o._a.get(h);g&&o._a.set(h,g.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,h)=>{const g=o._a.get(f);if(!g)return;o._a.set(f,g.withResumeToken(Fn.EMPTY_BYTE_STRING,g.snapshotVersion)),FI(o,f);const v=new Xa(g.target,f,h,g.sequenceNumber);Eb(o,v)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Re(xl,"Failed to raise snapshot:",r),await Im(n,r)}}async function Im(n,e,t){if(!Ec(e))throw e;n.aa.add(1),await eh(n),n.la.set("Offline"),t||(t=()=>VI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Re(xl,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await hg(n)})}function HI(n,e){return e().catch(t=>Im(n,t,e))}async function pg(n){const e=nt(n),t=fo(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:ob;for(;xz(e);)try{const s=await az(e.localStore,r);if(s===null){e.oa.length===0&&t.v_();break}r=s.batchId,Rz(e,s)}catch(s){await Im(e,s)}qI(e)&&$I(e)}function xz(n){return Dl(n)&&n.oa.length<10}function Rz(n,e){n.oa.push(e);const t=fo(n);t.b_()&&t.W_&&t.G_(e.mutations)}function qI(n){return Dl(n)&&!fo(n).w_()&&n.oa.length>0}function $I(n){fo(n).start()}async function Az(n){fo(n).H_()}async function Cz(n){const e=fo(n);for(const t of n.oa)e.G_(t.mutations)}async function Iz(n,e,t){const r=n.oa.shift(),s=pb.from(r,e,t);await HI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await pg(n)}async function Oz(n,e){e&&fo(n).W_&&await async function(r,s){if(function(u){return f3(u)&&u!==ge.ABORTED}(s.code)){const o=r.oa.shift();fo(r).D_(),await HI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await pg(r)}}(n,e),qI(n)&&$I(n)}async function QR(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Re(xl,"RemoteStore received new credentials");const r=Dl(t);t.aa.add(3),await eh(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await hg(t)}async function kz(n,e){const t=nt(n);e?(t.aa.delete(2),await hg(t)):e||(t.aa.add(2),await eh(t),t.la.set("Unknown"))}function Tc(n){return n.Pa||(n.Pa=function(t,r,s){const o=nt(t);return o.Y_(),new mz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{jo:wz.bind(null,n),Jo:Ez.bind(null,n),Zo:Tz.bind(null,n),Q_:Sz.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Sb(n)?Tb(n):n.la.set("Unknown")):(await n.Pa.stop(),BI(n))})),n.Pa}function fo(n){return n.Ta||(n.Ta=function(t,r,s){const o=nt(t);return o.Y_(),new gz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:Az.bind(null,n),Zo:Oz.bind(null,n),z_:Cz.bind(null,n),j_:Iz.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await pg(n)):(await n.Ta.stop(),n.oa.length>0&&(Re(xl,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,d=new xb(e,t,u,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rb(n,e){if(Zs("AsyncQueue",`${e}: ${n}`),Ec(n))return new ze(ge.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{static emptySet(e){return new Fu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=Fd(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.Ia=new Xt(He.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ze(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class dc{constructor(e,t,r,s,o,u,d,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new dc(e,t,Fu.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Dz{constructor(){this.queries=WR(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const s=nt(t),o=s.queries;s.queries=WR(),o.forEach((u,d)=>{for(const f of d.Ra)f.onError(r)})})(this,new ze(ge.ABORTED,"Firestore shutting down"))}}function WR(){return new Nl(n=>dI(n),og)}async function Pz(n,e){const t=nt(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Va()&&e.ma()&&(r=2):(o=new Nz,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(s,!0);break;case 1:o.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=Rb(u,`Initialization of query '${Nu(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Ab(t)}async function Mz(n,e){const t=nt(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?s=e.ma()?0:1:!o.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Lz(n,e){const t=nt(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const d of u.Ra)d.pa(s)&&(r=!0);u.Aa=s}}r&&Ab(t)}function Vz(n,e,t){const r=nt(n),s=r.queries.get(e);if(s)for(const o of s.Ra)o.onError(t);r.queries.delete(e)}function Ab(n){n.fa.forEach(e=>{e.next()})}var c0,ZR;(ZR=c0||(c0={})).ya="default",ZR.Cache="cache";class Uz{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==c0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.key=e}}class KI{constructor(e){this.key=e}}class jz{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=_t(),this.mutatedKeys=_t(),this.Ua=fI(e),this.Ka=new Fu(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new YR,s=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const _=s.get(g),w=lg(this.query,v)?v:null,S=!!_&&this.mutatedKeys.has(_.key),R=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;_&&w?_.data.isEqual(w.data)?S!==R&&(r.track({type:3,doc:w}),C=!0):this.ja(_,w)||(r.track({type:2,doc:w}),C=!0,(f&&this.Ua(w,f)>0||h&&this.Ua(w,h)<0)&&(d=!0)):!_&&w?(r.track({type:0,doc:w}),C=!0):_&&!w&&(r.track({type:1,doc:_}),C=!0,(f||h)&&(d=!0)),C&&(w?(u=u.add(w),o=R?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ka:u,za:r,ys:d,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((g,v)=>function(w,S){const R=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Vt:C})}};return R(w)-R(S)}(g.type,v.type)||this.Ua(g.doc,v.doc)),this.Ha(r),s=s!=null&&s;const d=t&&!s?this.Ja():[],f=this.$a.size===0&&this.current&&!s?1:0,h=f!==this.Qa;return this.Qa=f,u.length!==0||h?{snapshot:new dc(this.query,e.Ka,o,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new YR,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=_t(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new KI(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new GI(r))}),t}Xa(e){this.qa=e.Ns,this.$a=_t();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return dc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Cb="SyncEngine";class zz{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Fz{constructor(e){this.key=e,this.tu=!1}}class Bz{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Nl(d=>dI(d),og),this.iu=new Map,this.su=new Set,this.ou=new Xt(He.comparator),this._u=new Map,this.au=new yb,this.uu={},this.cu=new Map,this.lu=cc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Hz(n,e,t=!0){const r=JI(n);let s;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.eu()):s=await QI(r,e,t,!0),s}async function qz(n,e){const t=JI(n);await QI(t,e,!0,!1)}async function QI(n,e,t,r){const s=await oz(n.localStore,ts(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await $z(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&zI(n.remoteStore,s),d}async function $z(n,e,t,r,s){n.Pu=(v,_,w)=>async function(R,C,D,B){let j=C.view.Ga(D);j.ys&&(j=await HR(R.localStore,C.query,!1).then(({documents:P})=>C.view.Ga(P,j)));const $=B&&B.targetChanges.get(C.targetId),Q=B&&B.targetMismatches.get(C.targetId)!=null,U=C.view.applyChanges(j,R.isPrimaryClient,$,Q);return JR(R,C.targetId,U.Ya),U.snapshot}(n,v,_,w);const o=await HR(n.localStore,e,!0),u=new jz(e,o.Ns),d=u.Ga(o.documents),f=Jf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),h=u.applyChanges(d,n.isPrimaryClient,f);JR(n,t,h.Ya);const g=new zz(e,t,u);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),h.snapshot}async function Gz(n,e,t){const r=nt(n),s=r.ru.get(e),o=r.iu.get(s.targetId);if(o.length>1)return r.iu.set(s.targetId,o.filter(u=>!og(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await l0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&wb(r.remoteStore,s.targetId),d0(r,s.targetId)}).catch(wc)):(d0(r,s.targetId),await l0(r.localStore,s.targetId,!0))}async function Kz(n,e){const t=nt(n),r=t.ru.get(e),s=t.iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),wb(t.remoteStore,r.targetId))}async function Qz(n,e,t){const r=t6(n);try{const s=await function(u,d){const f=nt(u),h=wn.now(),g=d.reduce((w,S)=>w.add(S.key),_t());let v,_;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=Xs(),R=_t();return f.Cs.getEntries(w,g).next(C=>{S=C,S.forEach((D,B)=>{B.isValidDocument()||(R=R.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,S)).next(C=>{v=C;const D=[];for(const B of d){const j=o3(B,v.get(B.key).overlayedDocument);j!=null&&D.push(new Ao(B.key,j,iI(j.value.mapValue),ns.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,D,d)}).next(C=>{_=C;const D=C.applyToLocalDocumentSet(v,R);return f.documentOverlayCache.saveOverlays(w,C.batchId,D)})}).then(()=>({batchId:_.batchId,changes:pI(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let h=u.uu[u.currentUser.toKey()];h||(h=new Xt(ct)),h=h.insert(d,f),u.uu[u.currentUser.toKey()]=h}(r,s.batchId,t),await th(r,s.changes),await pg(r.remoteStore)}catch(s){const o=Rb(s,"Failed to persist write");t.reject(o)}}async function YI(n,e){const t=nt(n);try{const r=await iz(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t._u.get(o);u&&(Vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.tu=!0:s.modifiedDocuments.size>0?Vt(u.tu,14607):s.removedDocuments.size>0&&(Vt(u.tu,42227),u.tu=!1))}),await th(t,r,e)}catch(r){await wc(r)}}function XR(n,e,t){const r=nt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ru.forEach((o,u)=>{const d=u.view.ga(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=nt(u);f.onlineState=d;let h=!1;f.queries.forEach((g,v)=>{for(const _ of v.Ra)_.ga(d)&&(h=!0)}),h&&Ab(f)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yz(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r._u.get(e),o=s&&s.key;if(o){let u=new Xt(He.comparator);u=u.insert(o,Zn.newNoDocument(o,tt.min()));const d=_t().add(o),f=new dg(tt.min(),new Map,new Xt(ct),u,d);await YI(r,f),r.ou=r.ou.remove(o),r._u.delete(e),Ib(r)}else await l0(r.localStore,e,!1).then(()=>d0(r,e,t)).catch(wc)}async function Wz(n,e){const t=nt(n),r=e.batch.batchId;try{const s=await rz(t.localStore,e);ZI(t,r,null),WI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await th(t,s)}catch(s){await wc(s)}}async function Zz(n,e,t){const r=nt(n);try{const s=await function(u,d){const f=nt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return f.mutationQueue.lookupMutationBatch(h,d).next(v=>(Vt(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(h,v))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,g,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>f.localDocuments.getDocuments(h,g))})}(r.localStore,e);ZI(r,e,t),WI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await th(r,s)}catch(s){await wc(s)}}function WI(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function ZI(n,e,t){const r=nt(n);let s=r.uu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function d0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||XI(n,r)})}function XI(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(wb(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Ib(n))}function JR(n,e,t){for(const r of t)r instanceof GI?(n.au.addReference(r.key,e),Xz(n,r)):r instanceof KI?(Re(Cb,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||XI(n,r.key)):Ze(19791,{Iu:r})}function Xz(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Re(Cb,"New document in limbo: "+t),n.su.add(r),Ib(n))}function Ib(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new He(nn.fromString(e)),r=n.lu.next();n._u.set(r,new Fz(t)),n.ou=n.ou.insert(t,r),zI(n.remoteStore,new Xa(ts(fb(t.path)),r,"TargetPurposeLimboResolution",rg.le))}}async function th(n,e,t){const r=nt(n),s=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((d,f)=>{u.push(r.Pu(f,e,t).then(h=>{var g;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(h){s.push(h);const v=_b.Ps(f.targetId,h);o.push(v)}}))}),await Promise.all(u),r.nu.Q_(s),await async function(f,h){const g=nt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>me.forEach(h,_=>me.forEach(_.ls,w=>g.persistence.referenceDelegate.addReference(v,_.targetId,w)).next(()=>me.forEach(_.hs,w=>g.persistence.referenceDelegate.removeReference(v,_.targetId,w)))))}catch(v){if(!Ec(v))throw v;Re(bb,"Failed to update sequence numbers: "+v)}for(const v of h){const _=v.targetId;if(!v.fromCache){const w=g.Ss.get(_),S=w.snapshotVersion,R=w.withLastLimboFreeSnapshotVersion(S);g.Ss=g.Ss.insert(_,R)}}}(r.localStore,o))}async function Jz(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Re(Cb,"User change. New user:",e.toKey());const r=await LI(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(d=>{d.forEach(f=>{f.reject(new ze(ge.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await th(t,r.Ms)}}function e6(n,e){const t=nt(n),r=t._u.get(e);if(r&&r.tu)return _t().add(r.key);{let s=_t();const o=t.iu.get(e);if(!o)return s;for(const u of o){const d=t.ru.get(u);s=s.unionWith(d.view.Wa)}return s}}function JI(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yz.bind(null,e),e.nu.Q_=Lz.bind(null,e.eventManager),e.nu.Tu=Vz.bind(null,e.eventManager),e}function t6(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zz.bind(null,e),e}class Om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fg(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return nz(this.persistence,new J3,e.initialUser,this.serializer)}Ru(e){return new MI(vb.Ei,this.serializer)}Au(e){return new uz}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Om.provider={build:()=>new Om};class n6 extends Om{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Vt(this.persistence.referenceDelegate instanceof Cm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new U3(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new MI(r=>Cm.Ei(r,t),this.serializer)}}class f0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jz.bind(null,this.syncEngine),await kz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Dz}()}createDatastore(e){const t=fg(e.databaseInfo.databaseId),r=function(o){return new pz(o)}(e.databaseInfo);return function(o,u,d,f){return new vz(o,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,d){return new bz(r,s,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>XR(this.syncEngine,t,0),function(){return GR.C()?new GR:new cz}())}createSyncEngine(e,t){return function(s,o,u,d,f,h,g){const v=new Bz(s,o,u,d,f,h);return g&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=nt(s);Re(xl,"RemoteStore shutting down."),o.aa.add(5),await eh(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}f0.provider={build:()=>new f0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Zs("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="FirestoreClient";class i6{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Wn.UNAUTHENTICATED,this.clientId=Q1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Re(ho,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Re(ho,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Rb(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function e_(n,e){n.asyncQueue.verifyOperationInProgress(),Re(ho,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function eA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await s6(n);Re(ho,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>QR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>QR(e.remoteStore,s)),n._onlineComponents=e}async function s6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re(ho,"Using user provided OfflineComponentProvider");try{await e_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ge.FAILED_PRECONDITION||s.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ac("Error using user provided cache. Falling back to memory cache: "+t),await e_(n,new Om)}}else Re(ho,"Using default OfflineComponentProvider"),await e_(n,new n6(void 0));return n._offlineComponents}async function eO(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re(ho,"Using user provided OnlineComponentProvider"),await eA(n,n._uninitializedComponentsProvider._online)):(Re(ho,"Using default OnlineComponentProvider"),await eA(n,new f0))),n._onlineComponents}function a6(n){return eO(n).then(e=>e.syncEngine)}async function o6(n){const e=await eO(n),t=e.eventManager;return t.onListen=Hz.bind(null,e.syncEngine),t.onUnlisten=Gz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Kz.bind(null,e.syncEngine),t}function l6(n,e,t={}){const r=new io;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,h){const g=new r6({next:_=>{g.yu(),u.enqueueAndForget(()=>Mz(o,v));const w=_.docs.has(d);!w&&_.fromCache?h.reject(new ze(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&f&&f.source==="server"?h.reject(new ze(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),v=new Uz(fb(d.path),g,{includeMetadataChanges:!0,Fa:!0});return Pz(o,v)}(await o6(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(n,e,t){if(!t)throw new ze(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function c6(n,e,t,r){if(e===!0&&r===!0)throw new ze(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nA(n){if(!He.isDocumentKey(n))throw new ze(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ob(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ze(12329,{type:typeof n})}function Rl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ze(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ob(n);throw new ze(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="firestore.googleapis.com",rA=!0;class iA{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ze(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nO,this.ssl=rA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:rA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L3)throw new ze(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ze(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ze(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ze(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kb{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new d9;switch(r.type){case"firstParty":return new m9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=tA.get(t);r&&(Re("ComponentProvider","Removing Datastore"),tA.delete(t),r.terminate())}(this),Promise.resolve()}}function d6(n,e,t,r={}){var s;const o=(n=Rl(n,kb))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o.host!==nO&&o.host!==d&&ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:d,ssl:!1,emulatorOptions:r});if(!bl(f,u)&&(n._setSettings(f),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=Wn.MOCK_USER;else{h=EV(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ze(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Wn(v)}n._authCredentials=new f9(new G1(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nb(this.firestore,e,this._query)}}class Vr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class yf extends Nb{constructor(e,t,r){super(e,t,fb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new He(e))}withConverter(e){return new yf(this.firestore,e,this._path)}}function t_(n,e,...t){if(n=Jn(n),arguments.length===1&&(e=Q1.newId()),u6("doc","path",e),n instanceof kb){const r=nn.fromString(e,...t);return nA(r),new Vr(n,null,new He(r))}{if(!(n instanceof Vr||n instanceof yf))throw new ze(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return nA(r),new Vr(n.firestore,n instanceof yf?n.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="AsyncQueue";class aA{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new UI(this,"async_queue_retry"),this.ju=()=>{const r=Jv();r&&Re(sA,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Jv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Jv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new io;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ec(e))throw e;Re(sA,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Zs("INTERNAL UNHANDLED ERROR: ",oA(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=xb.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(s),s}Ju(){this.Ku&&Ze(47125,{ec:oA(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function oA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class mg extends kb{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new aA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aA(e),this._firestoreClient=void 0,await e}}}function f6(n,e){const t=typeof n=="object"?n:n1(),r=typeof n=="string"?n:Em,s=Y0(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=bV("firestore");o&&d6(s,...o)}return s}function rO(n){if(n._terminated)throw new ze(ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||h6(n),n._firestoreClient}function h6(n){var e,t,r;const s=n._freezeSettings(),o=function(d,f,h,g){return new O9(d,f,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,tO(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new i6(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fc(Fn.fromBase64String(e))}catch(t){throw new ze(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fc(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ze(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ze(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ze(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=/^__.*__$/;class m6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xf(e,this.data,t,this.fieldTransforms)}}class iO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ao(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{oc:n})}}class Mb{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Mb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return km(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(sO(this.oc)&&p6.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class g6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fg(e)}dc(e,t,r,s=!1){return new Mb({oc:e,methodName:t,Ec:r,path:zn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aO(n){const e=n._freezeSettings(),t=fg(n._databaseId);return new g6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function y6(n,e,t,r,s,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,s);Vb("Data must be an object, but it was:",u,r);const d=oO(r,u);let f,h;if(o.merge)f=new Lr(u.fieldMask),h=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const _=h0(e,v,t);if(!u.contains(_))throw new ze(ge.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);uO(g,_)||g.push(_)}f=new Lr(g),h=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,h=u.fieldTransforms;return new m6(new br(d),f,h)}class vg extends yg{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vg}}class Lb extends yg{_toFieldTransform(e){return new r3(e.path,new pf)}isEqual(e){return e instanceof Lb}}function v6(n,e,t,r){const s=n.dc(1,e,t);Vb("Data must be an object, but it was:",s,r);const o=[],u=br.empty();Ro(r,(f,h)=>{const g=Ub(e,f,t);h=Jn(h);const v=s.hc(g);if(h instanceof vg)o.push(g);else{const _=_g(h,v);_!=null&&(o.push(g),u.set(g,_))}});const d=new Lr(o);return new iO(u,d,s.fieldTransforms)}function _6(n,e,t,r,s,o){const u=n.dc(1,e,t),d=[h0(e,r,t)],f=[s];if(o.length%2!=0)throw new ze(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(h0(e,o[_])),f.push(o[_+1]);const h=[],g=br.empty();for(let _=d.length-1;_>=0;--_)if(!uO(h,d[_])){const w=d[_];let S=f[_];S=Jn(S);const R=u.hc(w);if(S instanceof vg)h.push(w);else{const C=_g(S,R);C!=null&&(h.push(w),g.set(w,C))}}const v=new Lr(h);return new iO(g,v,u.fieldTransforms)}function _g(n,e){if(lO(n=Jn(n)))return Vb("Unsupported field value:",e,n),oO(n,e);if(n instanceof yg)return function(r,s){if(!sO(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const d of r){let f=_g(d,s.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=wn.fromDate(r);return{timestampValue:Am(s.serializer,o)}}if(r instanceof wn){const o=new wn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Am(s.serializer,o)}}if(r instanceof Db)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fc)return{bytesValue:AI(s.serializer,r._byteString)};if(r instanceof Vr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Pb)return function(u,d){return{mapValue:{fields:{[nI]:{stringValue:rI},[Tm]:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw d.Tc("VectorValues must only contain numeric values.");return hb(d.serializer,h)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${Ob(r)}`)}(n,e)}function oO(n,e){const t={};return W1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(n,(r,s)=>{const o=_g(s,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function lO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wn||n instanceof Db||n instanceof fc||n instanceof Vr||n instanceof yg||n instanceof Pb)}function Vb(n,e,t){if(!lO(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Ob(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function h0(n,e,t){if((e=Jn(e))instanceof gg)return e._internalPath;if(typeof e=="string")return Ub(n,e);throw km("Field path arguments must be of type string or ",n,!1,void 0,t)}const b6=new RegExp("[~\\*/\\[\\]]");function Ub(n,e,t){if(e.search(b6)>=0)throw km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gg(...e.split("."))._internalPath}catch{throw km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function km(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ze(ge.INVALID_ARGUMENT,d+n+f)}function uO(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dO("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class w6 extends cO{data(){return super.data()}}function dO(n,e){return typeof e=="string"?Ub(n,e):e instanceof gg?e._internalPath:e._delegate._internalPath}class E6{convertValue(e,t="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ro(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Tm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>an(u.doubleValue));return new Pb(o)}convertGeoPoint(e){return new Db(an(e.latitude),an(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(df(e));default:return null}}convertTimestamp(e){const t=lo(e);return new wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nn.fromString(e);Vt(DI(r),9688,{name:e});const s=new ff(r.get(1),r.get(3)),o=new He(r.popFirst(5));return s.isEqual(t)||Zs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fO extends cO{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new x6(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class x6 extends fO{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(n){n=Rl(n,Vr);const e=Rl(n.firestore,mg);return l6(rO(e),n._key).then(t=>O6(e,n,t))}class A6 extends E6{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,t)}}function C6(n,e,t){n=Rl(n,Vr);const r=Rl(n.firestore,mg),s=T6(n.converter,e);return hO(r,[y6(aO(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ns.none())])}function I6(n,e,t,...r){n=Rl(n,Vr);const s=Rl(n.firestore,mg),o=aO(s);let u;return u=typeof(e=Jn(e))=="string"||e instanceof gg?_6(o,"updateDoc",n._key,e,t,r):v6(o,"updateDoc",n._key,e),hO(s,[u.toMutation(n._key,ns.exists(!0))])}function hO(n,e){return function(r,s){const o=new io;return r.asyncQueue.enqueueAndForget(async()=>Qz(await a6(r),s,o)),o.promise}(rO(n),e)}function O6(n,e,t){const r=t.docs.get(e._key),s=new A6(n);return new fO(n,s,e._key,r,new S6(t.hasPendingWrites,t.fromCache),e.converter)}function n_(){return new Lb("serverTimestamp")}(function(e,t=!0){(function(s){bc=s})(vc),sc(new wl("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new mg(new h9(r.getProvider("auth-internal")),new g9(u,r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ze(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(h.options.projectId,g)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),no(hR,pR,e),no(hR,pR,"esm2017")})();const k6={apiKey:"AIzaSyDh6tOPoZqk7PeJfqJnf4w0O0nGDupBPW8",authDomain:"pokemon-battle-area-database.firebaseapp.com",projectId:"pokemon-battle-area-database",storageBucket:"pokemon-battle-area-database.firebasestorage.app",messagingSenderId:"200692055130",appId:"1:200692055130:web:49128e70e22d034facec63",measurementId:"G-LRDPHPLCXX"},pO=t1(k6),Dd=U1(pO),r_=f6(pO),nh=Xm(n=>({user:null,loading:!0,error:null,signIn:async(e,t)=>{try{n({loading:!0,error:null}),await Kj(Dd,e,t)}catch(r){throw n({error:r.message,loading:!1}),r}},signUp:async(e,t)=>{try{n({loading:!0,error:null}),await Gj(Dd,e,t)}catch(r){throw n({error:r.message,loading:!1}),r}},logout:async()=>{try{n({loading:!0,error:null}),await Zj(Dd)}catch(e){throw n({error:e.message,loading:!1}),e}},clearError:()=>n({error:null}),initializeAuth:()=>Wj(Dd,t=>{n({user:t,loading:!1})}),signInWithGoogle:async()=>{try{n({loading:!0,error:null});const e=new qs;await y4(Dd,e)}catch(e){throw n({error:e.message,loading:!1}),e}}}));nh.getState().initializeAuth();class Xd{static async getPlayerData(e){try{const t=t_(r_,"players",e),r=await R6(t);return r.exists()?r.data():null}catch(t){throw console.error("Error getting player data:",t),t}}static async createPlayerData(e){try{const t=t_(r_,"players",e.uid),r=e.playerTeam.map(o=>o&&typeof o=="object"?JSON.parse(JSON.stringify(o)):o),s={...e,playerTeam:r,createdAt:n_(),updatedAt:n_()};await C6(t,s)}catch(t){throw console.error("Error creating player data:",t),t}}static async updatePlayerData(e,t){try{const r=t_(r_,"players",e),s={...t};if(t.playerTeam){const o=t.playerTeam.map(u=>u&&typeof u=="object"?JSON.parse(JSON.stringify(u)):u);s.playerTeam=o}await I6(r,{...s,updatedAt:n_()})}catch(r){throw console.error("Error updating player data:",r),r}}}var Ct;(function(n){n.assertEqual=s=>s;function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const o={};for(const u of s)o[u]=u;return o},n.getValidEnumValues=s=>{const o=n.objectKeys(s).filter(d=>typeof s[s[d]]!="number"),u={};for(const d of o)u[d]=s[d];return n.objectValues(u)},n.objectValues=s=>n.objectKeys(s).map(function(o){return s[o]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&o.push(u);return o},n.find=(s,o)=>{for(const u of s)if(o(u))return u},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}n.joinValues=r,n.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ct||(Ct={}));var p0;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(p0||(p0={}));const Se=Ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bs=n=>{switch(typeof n){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return isNaN(n)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(n)?Se.array:n===null?Se.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Se.promise:typeof Map<"u"&&n instanceof Map?Se.map:typeof Set<"u"&&n instanceof Set?Se.set:typeof Date<"u"&&n instanceof Date?Se.date:Se.object;default:return Se.unknown}},ye=Ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),N6=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Ur extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},r={_errors:[]},s=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(s);else if(u.code==="invalid_return_type")s(u.returnTypeError);else if(u.code==="invalid_arguments")s(u.argumentsError);else if(u.path.length===0)r._errors.push(t(u));else{let d=r,f=0;for(;f<u.path.length;){const h=u.path[f];f===u.path.length-1?(d[h]=d[h]||{_errors:[]},d[h]._errors.push(t(u))):d[h]=d[h]||{_errors:[]},d=d[h],f++}}};return s(this),r}static assert(e){if(!(e instanceof Ur))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Ur.create=n=>new Ur(n);const hc=(n,e)=>{let t;switch(n.code){case ye.invalid_type:n.received===Se.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ye.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Ct.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ct.joinValues(n.keys,", ")}`;break;case ye.invalid_union:t="Invalid input";break;case ye.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ct.joinValues(n.options)}`;break;case ye.invalid_enum_value:t=`Invalid enum value. Expected ${Ct.joinValues(n.options)}, received '${n.received}'`;break;case ye.invalid_arguments:t="Invalid function arguments";break;case ye.invalid_return_type:t="Invalid function return type";break;case ye.invalid_date:t="Invalid date";break;case ye.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Ct.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ye.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ye.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ye.custom:t="Invalid input";break;case ye.invalid_intersection_types:t="Intersection results could not be merged";break;case ye.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ye.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ct.assertNever(n)}return{message:t}};let mO=hc;function D6(n){mO=n}function Nm(){return mO}const Dm=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,o=[...t,...s.path||[]],u={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let d="";const f=r.filter(h=>!!h).slice().reverse();for(const h of f)d=h(u,{data:e,defaultError:d}).message;return{...s,path:o,message:d}},P6=[];function Te(n,e){const t=Nm(),r=Dm({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===hc?void 0:hc].filter(s=>!!s)});n.common.issues.push(r)}class er{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return Xe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const o=await s.key,u=await s.value;r.push({key:o,value:u})}return er.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:o,value:u}=s;if(o.status==="aborted"||u.status==="aborted")return Xe;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||s.alwaysSet)&&(r[o.value]=u.value)}return{status:e.value,value:r}}}const Xe=Object.freeze({status:"aborted"}),Lu=n=>({status:"dirty",value:n}),dr=n=>({status:"valid",value:n}),m0=n=>n.status==="aborted",g0=n=>n.status==="dirty",Al=n=>n.status==="valid",vf=n=>typeof Promise<"u"&&n instanceof Promise;function Pm(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function gO(n,e,t,r,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Me;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Me||(Me={}));var Hd,qd;class ls{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lA=(n,e)=>{if(Al(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ur(n.common.issues);return this._error=t,this._error}}};function rt(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(u,d)=>{var f,h;const{message:g}=n;return u.code==="invalid_enum_value"?{message:g??d.defaultError}:typeof d.data>"u"?{message:(f=g??r)!==null&&f!==void 0?f:d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:(h=g??t)!==null&&h!==void 0?h:d.defaultError}},description:s}}class at{get description(){return this._def.description}_getType(e){return Bs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new er,ctx:{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(vf(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const s={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},o=this._parseSync({data:e,path:s.path,parent:s});return lA(s,o)}"~validate"(e){var t,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:s});return Al(o)?{value:o.value}:{issues:s.common.issues}}catch(o){!((r=(t=o==null?void 0:o.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(o=>Al(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},s=this._parse({data:e,path:r.path,parent:r}),o=await(vf(s)?s:Promise.resolve(s));return lA(r,o)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,o)=>{const u=e(s),d=()=>o.addIssue({code:ye.custom,...r(s)});return typeof Promise<"u"&&u instanceof Promise?u.then(f=>f?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Ti({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return is.create(this,this._def)}nullable(){return yo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ei.create(this)}promise(){return mc.create(this,this._def)}or(e){return Ef.create([this,e],this._def)}and(e){return Tf.create(this,e,this._def)}transform(e){return new Ti({...rt(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Cf({...rt(this._def),innerType:this,defaultValue:t,typeName:Qe.ZodDefault})}brand(){return new jb({typeName:Qe.ZodBranded,type:this,...rt(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new If({...rt(this._def),innerType:this,catchValue:t,typeName:Qe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return rh.create(this,e)}readonly(){return Of.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const M6=/^c[^\s-]{8,}$/i,L6=/^[0-9a-z]+$/,V6=/^[0-9A-HJKMNP-TV-Z]{26}$/i,U6=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,j6=/^[a-z0-9_-]{21}$/i,z6=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,F6=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,B6=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,H6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let i_;const q6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,G6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,K6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Q6=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Y6=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",W6=new RegExp(`^${yO}$`);function vO(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Z6(n){return new RegExp(`^${vO(n)}$`)}function _O(n){let e=`${yO}T${vO(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function X6(n,e){return!!((e==="v4"||!e)&&q6.test(n)||(e==="v6"||!e)&&G6.test(n))}function J6(n,e){if(!z6.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function eF(n,e){return!!((e==="v4"||!e)&&$6.test(n)||(e==="v6"||!e)&&K6.test(n))}class bi extends at{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Se.string){const o=this._getOrReturnCtx(e);return Te(o,{code:ye.invalid_type,expected:Se.string,received:o.parsedType}),Xe}const r=new er;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,d=e.data.length<o.value;(u||d)&&(s=this._getOrReturnCtx(e,s),u?Te(s,{code:ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&Te(s,{code:ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")B6.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"email",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")i_||(i_=new RegExp(H6,"u")),i_.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"emoji",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")U6.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"uuid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")j6.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"nanoid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")M6.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"cuid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")L6.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"cuid2",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")V6.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"ulid",code:ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Te(s,{validation:"url",code:ye.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"regex",code:ye.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),Te(s,{code:ye.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),Te(s,{code:ye.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),Te(s,{code:ye.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?_O(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:ye.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?W6.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:ye.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Z6(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:ye.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?F6.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"duration",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?X6(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"ip",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?J6(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"jwt",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?eF(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"cidr",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Q6.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"base64",code:ye.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Y6.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"base64url",code:ye.invalid_string,message:o.message}),r.dirty()):Ct.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:ye.invalid_string,...Me.errToObj(r)})}_addCheck(e){return new bi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Me.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Me.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Me.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Me.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Me.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Me.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Me.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Me.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Me.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Me.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Me.errToObj(t)})}nonempty(e){return this.min(1,Me.errToObj(e))}trim(){return new bi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}bi.create=n=>{var e;return new bi({checks:[],typeName:Qe.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...rt(n)})};function tF(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,o=parseInt(n.toFixed(s).replace(".","")),u=parseInt(e.toFixed(s).replace(".",""));return o%u/Math.pow(10,s)}class po extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Se.number){const o=this._getOrReturnCtx(e);return Te(o,{code:ye.invalid_type,expected:Se.number,received:o.parsedType}),Xe}let r;const s=new er;for(const o of this._def.checks)o.kind==="int"?Ct.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:ye.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ye.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ye.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?tF(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ye.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:ye.not_finite,message:o.message}),s.dirty()):Ct.assertNever(o);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Me.toString(t))}setLimit(e,t,r,s){return new po({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Me.toString(s)}]})}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ct.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}po.create=n=>new po({checks:[],typeName:Qe.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...rt(n)});class mo extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Se.bigint)return this._getInvalidInput(e);let r;const s=new er;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ye.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ye.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ye.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ct.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Te(t,{code:ye.invalid_type,expected:Se.bigint,received:t.parsedType}),Xe}gte(e,t){return this.setLimit("min",e,!0,Me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Me.toString(t))}setLimit(e,t,r,s){return new mo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Me.toString(s)}]})}_addCheck(e){return new mo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}mo.create=n=>{var e;return new mo({checks:[],typeName:Qe.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...rt(n)})};class _f extends at{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Se.boolean){const r=this._getOrReturnCtx(e);return Te(r,{code:ye.invalid_type,expected:Se.boolean,received:r.parsedType}),Xe}return dr(e.data)}}_f.create=n=>new _f({typeName:Qe.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...rt(n)});class Cl extends at{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Se.date){const o=this._getOrReturnCtx(e);return Te(o,{code:ye.invalid_type,expected:Se.date,received:o.parsedType}),Xe}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Te(o,{code:ye.invalid_date}),Xe}const r=new er;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:ye.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:ye.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Ct.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Cl({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Me.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Me.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Cl.create=n=>new Cl({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Qe.ZodDate,...rt(n)});class Mm extends at{_parse(e){if(this._getType(e)!==Se.symbol){const r=this._getOrReturnCtx(e);return Te(r,{code:ye.invalid_type,expected:Se.symbol,received:r.parsedType}),Xe}return dr(e.data)}}Mm.create=n=>new Mm({typeName:Qe.ZodSymbol,...rt(n)});class bf extends at{_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:ye.invalid_type,expected:Se.undefined,received:r.parsedType}),Xe}return dr(e.data)}}bf.create=n=>new bf({typeName:Qe.ZodUndefined,...rt(n)});class wf extends at{_parse(e){if(this._getType(e)!==Se.null){const r=this._getOrReturnCtx(e);return Te(r,{code:ye.invalid_type,expected:Se.null,received:r.parsedType}),Xe}return dr(e.data)}}wf.create=n=>new wf({typeName:Qe.ZodNull,...rt(n)});class pc extends at{constructor(){super(...arguments),this._any=!0}_parse(e){return dr(e.data)}}pc.create=n=>new pc({typeName:Qe.ZodAny,...rt(n)});class yl extends at{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dr(e.data)}}yl.create=n=>new yl({typeName:Qe.ZodUnknown,...rt(n)});class Js extends at{_parse(e){const t=this._getOrReturnCtx(e);return Te(t,{code:ye.invalid_type,expected:Se.never,received:t.parsedType}),Xe}}Js.create=n=>new Js({typeName:Qe.ZodNever,...rt(n)});class Lm extends at{_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:ye.invalid_type,expected:Se.void,received:r.parsedType}),Xe}return dr(e.data)}}Lm.create=n=>new Lm({typeName:Qe.ZodVoid,...rt(n)});class Ei extends at{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==Se.array)return Te(t,{code:ye.invalid_type,expected:Se.array,received:t.parsedType}),Xe;if(s.exactLength!==null){const u=t.data.length>s.exactLength.value,d=t.data.length<s.exactLength.value;(u||d)&&(Te(t,{code:u?ye.too_big:ye.too_small,minimum:d?s.exactLength.value:void 0,maximum:u?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(Te(t,{code:ye.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(Te(t,{code:ye.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((u,d)=>s.type._parseAsync(new ls(t,u,t.path,d)))).then(u=>er.mergeArray(r,u));const o=[...t.data].map((u,d)=>s.type._parseSync(new ls(t,u,t.path,d)));return er.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new Ei({...this._def,minLength:{value:e,message:Me.toString(t)}})}max(e,t){return new Ei({...this._def,maxLength:{value:e,message:Me.toString(t)}})}length(e,t){return new Ei({...this._def,exactLength:{value:e,message:Me.toString(t)}})}nonempty(e){return this.min(1,e)}}Ei.create=(n,e)=>new Ei({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...rt(e)});function Mu(n){if(n instanceof Zt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=is.create(Mu(r))}return new Zt({...n._def,shape:()=>e})}else return n instanceof Ei?new Ei({...n._def,type:Mu(n.element)}):n instanceof is?is.create(Mu(n.unwrap())):n instanceof yo?yo.create(Mu(n.unwrap())):n instanceof us?us.create(n.items.map(e=>Mu(e))):n}class Zt extends at{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Ct.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Se.object){const h=this._getOrReturnCtx(e);return Te(h,{code:ye.invalid_type,expected:Se.object,received:h.parsedType}),Xe}const{status:r,ctx:s}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof Js&&this._def.unknownKeys==="strip"))for(const h in s.data)u.includes(h)||d.push(h);const f=[];for(const h of u){const g=o[h],v=s.data[h];f.push({key:{status:"valid",value:h},value:g._parse(new ls(s,v,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof Js){const h=this._def.unknownKeys;if(h==="passthrough")for(const g of d)f.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(h==="strict")d.length>0&&(Te(s,{code:ye.unrecognized_keys,keys:d}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const g of d){const v=s.data[g];f.push({key:{status:"valid",value:g},value:h._parse(new ls(s,v,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const g of f){const v=await g.key,_=await g.value;h.push({key:v,value:_,alwaysSet:g.alwaysSet})}return h}).then(h=>er.mergeObjectSync(r,h)):er.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return Me.errToObj,new Zt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,o,u,d;const f=(u=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,t,r).message)!==null&&u!==void 0?u:r.defaultError;return t.code==="unrecognized_keys"?{message:(d=Me.errToObj(e).message)!==null&&d!==void 0?d:f}:{message:f}}}:{}})}strip(){return new Zt({...this._def,unknownKeys:"strip"})}passthrough(){return new Zt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Zt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Zt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Qe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Zt({...this._def,catchall:e})}pick(e){const t={};return Ct.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new Zt({...this._def,shape:()=>t})}omit(e){const t={};return Ct.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new Zt({...this._def,shape:()=>t})}deepPartial(){return Mu(this)}partial(e){const t={};return Ct.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new Zt({...this._def,shape:()=>t})}required(e){const t={};return Ct.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof is;)o=o._def.innerType;t[r]=o}}),new Zt({...this._def,shape:()=>t})}keyof(){return bO(Ct.objectKeys(this.shape))}}Zt.create=(n,e)=>new Zt({shape:()=>n,unknownKeys:"strip",catchall:Js.create(),typeName:Qe.ZodObject,...rt(e)});Zt.strictCreate=(n,e)=>new Zt({shape:()=>n,unknownKeys:"strict",catchall:Js.create(),typeName:Qe.ZodObject,...rt(e)});Zt.lazycreate=(n,e)=>new Zt({shape:n,unknownKeys:"strip",catchall:Js.create(),typeName:Qe.ZodObject,...rt(e)});class Ef extends at{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return t.common.issues.push(...d.ctx.common.issues),d.result;const u=o.map(d=>new Ur(d.ctx.common.issues));return Te(t,{code:ye.invalid_union,unionErrors:u}),Xe}if(t.common.async)return Promise.all(r.map(async o=>{const u={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:u}),ctx:u}})).then(s);{let o;const u=[];for(const f of r){const h={...t,common:{...t.common,issues:[]},parent:null},g=f._parseSync({data:t.data,path:t.path,parent:h});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:h}),h.common.issues.length&&u.push(h.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const d=u.map(f=>new Ur(f));return Te(t,{code:ye.invalid_union,unionErrors:d}),Xe}}get options(){return this._def.options}}Ef.create=(n,e)=>new Ef({options:n,typeName:Qe.ZodUnion,...rt(e)});const Fs=n=>n instanceof xf?Fs(n.schema):n instanceof Ti?Fs(n.innerType()):n instanceof Rf?[n.value]:n instanceof go?n.options:n instanceof Af?Ct.objectValues(n.enum):n instanceof Cf?Fs(n._def.innerType):n instanceof bf?[void 0]:n instanceof wf?[null]:n instanceof is?[void 0,...Fs(n.unwrap())]:n instanceof yo?[null,...Fs(n.unwrap())]:n instanceof jb||n instanceof Of?Fs(n.unwrap()):n instanceof If?Fs(n._def.innerType):[];class bg extends at{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Se.object)return Te(t,{code:ye.invalid_type,expected:Se.object,received:t.parsedType}),Xe;const r=this.discriminator,s=t.data[r],o=this.optionsMap.get(s);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(Te(t,{code:ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Xe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const o of t){const u=Fs(o.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of u){if(s.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);s.set(d,o)}}return new bg({typeName:Qe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...rt(r)})}}function y0(n,e){const t=Bs(n),r=Bs(e);if(n===e)return{valid:!0,data:n};if(t===Se.object&&r===Se.object){const s=Ct.objectKeys(e),o=Ct.objectKeys(n).filter(d=>s.indexOf(d)!==-1),u={...n,...e};for(const d of o){const f=y0(n[d],e[d]);if(!f.valid)return{valid:!1};u[d]=f.data}return{valid:!0,data:u}}else if(t===Se.array&&r===Se.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<n.length;o++){const u=n[o],d=e[o],f=y0(u,d);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return t===Se.date&&r===Se.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Tf extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(o,u)=>{if(m0(o)||m0(u))return Xe;const d=y0(o.value,u.value);return d.valid?((g0(o)||g0(u))&&t.dirty(),{status:t.value,value:d.data}):(Te(r,{code:ye.invalid_intersection_types}),Xe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,u])=>s(o,u)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Tf.create=(n,e,t)=>new Tf({left:n,right:e,typeName:Qe.ZodIntersection,...rt(t)});class us extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.array)return Te(r,{code:ye.invalid_type,expected:Se.array,received:r.parsedType}),Xe;if(r.data.length<this._def.items.length)return Te(r,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&r.data.length>this._def.items.length&&(Te(r,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map((u,d)=>{const f=this._def.items[d]||this._def.rest;return f?f._parse(new ls(r,u,r.path,d)):null}).filter(u=>!!u);return r.common.async?Promise.all(o).then(u=>er.mergeArray(t,u)):er.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new us({...this._def,rest:e})}}us.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new us({items:n,typeName:Qe.ZodTuple,rest:null,...rt(e)})};class Sf extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.object)return Te(r,{code:ye.invalid_type,expected:Se.object,received:r.parsedType}),Xe;const s=[],o=this._def.keyType,u=this._def.valueType;for(const d in r.data)s.push({key:o._parse(new ls(r,d,r.path,d)),value:u._parse(new ls(r,r.data[d],r.path,d)),alwaysSet:d in r.data});return r.common.async?er.mergeObjectAsync(t,s):er.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof at?new Sf({keyType:e,valueType:t,typeName:Qe.ZodRecord,...rt(r)}):new Sf({keyType:bi.create(),valueType:e,typeName:Qe.ZodRecord,...rt(t)})}}class Vm extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.map)return Te(r,{code:ye.invalid_type,expected:Se.map,received:r.parsedType}),Xe;const s=this._def.keyType,o=this._def.valueType,u=[...r.data.entries()].map(([d,f],h)=>({key:s._parse(new ls(r,d,r.path,[h,"key"])),value:o._parse(new ls(r,f,r.path,[h,"value"]))}));if(r.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const f of u){const h=await f.key,g=await f.value;if(h.status==="aborted"||g.status==="aborted")return Xe;(h.status==="dirty"||g.status==="dirty")&&t.dirty(),d.set(h.value,g.value)}return{status:t.value,value:d}})}else{const d=new Map;for(const f of u){const h=f.key,g=f.value;if(h.status==="aborted"||g.status==="aborted")return Xe;(h.status==="dirty"||g.status==="dirty")&&t.dirty(),d.set(h.value,g.value)}return{status:t.value,value:d}}}}Vm.create=(n,e,t)=>new Vm({valueType:e,keyType:n,typeName:Qe.ZodMap,...rt(t)});class Il extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.set)return Te(r,{code:ye.invalid_type,expected:Se.set,received:r.parsedType}),Xe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Te(r,{code:ye.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Te(r,{code:ye.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const o=this._def.valueType;function u(f){const h=new Set;for(const g of f){if(g.status==="aborted")return Xe;g.status==="dirty"&&t.dirty(),h.add(g.value)}return{status:t.value,value:h}}const d=[...r.data.values()].map((f,h)=>o._parse(new ls(r,f,r.path,h)));return r.common.async?Promise.all(d).then(f=>u(f)):u(d)}min(e,t){return new Il({...this._def,minSize:{value:e,message:Me.toString(t)}})}max(e,t){return new Il({...this._def,maxSize:{value:e,message:Me.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Il.create=(n,e)=>new Il({valueType:n,minSize:null,maxSize:null,typeName:Qe.ZodSet,...rt(e)});class Bu extends at{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Se.function)return Te(t,{code:ye.invalid_type,expected:Se.function,received:t.parsedType}),Xe;function r(d,f){return Dm({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Nm(),hc].filter(h=>!!h),issueData:{code:ye.invalid_arguments,argumentsError:f}})}function s(d,f){return Dm({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Nm(),hc].filter(h=>!!h),issueData:{code:ye.invalid_return_type,returnTypeError:f}})}const o={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof mc){const d=this;return dr(async function(...f){const h=new Ur([]),g=await d._def.args.parseAsync(f,o).catch(w=>{throw h.addIssue(r(f,w)),h}),v=await Reflect.apply(u,this,g);return await d._def.returns._def.type.parseAsync(v,o).catch(w=>{throw h.addIssue(s(v,w)),h})})}else{const d=this;return dr(function(...f){const h=d._def.args.safeParse(f,o);if(!h.success)throw new Ur([r(f,h.error)]);const g=Reflect.apply(u,this,h.data),v=d._def.returns.safeParse(g,o);if(!v.success)throw new Ur([s(g,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Bu({...this._def,args:us.create(e).rest(yl.create())})}returns(e){return new Bu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Bu({args:e||us.create([]).rest(yl.create()),returns:t||yl.create(),typeName:Qe.ZodFunction,...rt(r)})}}class xf extends at{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}xf.create=(n,e)=>new xf({getter:n,typeName:Qe.ZodLazy,...rt(e)});class Rf extends at{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Te(t,{received:t.data,code:ye.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Rf.create=(n,e)=>new Rf({value:n,typeName:Qe.ZodLiteral,...rt(e)});function bO(n,e){return new go({values:n,typeName:Qe.ZodEnum,...rt(e)})}class go extends at{constructor(){super(...arguments),Hd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Te(t,{expected:Ct.joinValues(r),received:t.parsedType,code:ye.invalid_type}),Xe}if(Pm(this,Hd)||gO(this,Hd,new Set(this._def.values)),!Pm(this,Hd).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Te(t,{received:t.data,code:ye.invalid_enum_value,options:r}),Xe}return dr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return go.create(e,{...this._def,...t})}exclude(e,t=this._def){return go.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Hd=new WeakMap;go.create=bO;class Af extends at{constructor(){super(...arguments),qd.set(this,void 0)}_parse(e){const t=Ct.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Se.string&&r.parsedType!==Se.number){const s=Ct.objectValues(t);return Te(r,{expected:Ct.joinValues(s),received:r.parsedType,code:ye.invalid_type}),Xe}if(Pm(this,qd)||gO(this,qd,new Set(Ct.getValidEnumValues(this._def.values))),!Pm(this,qd).has(e.data)){const s=Ct.objectValues(t);return Te(r,{received:r.data,code:ye.invalid_enum_value,options:s}),Xe}return dr(e.data)}get enum(){return this._def.values}}qd=new WeakMap;Af.create=(n,e)=>new Af({values:n,typeName:Qe.ZodNativeEnum,...rt(e)});class mc extends at{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Se.promise&&t.common.async===!1)return Te(t,{code:ye.invalid_type,expected:Se.promise,received:t.parsedType}),Xe;const r=t.parsedType===Se.promise?t.data:Promise.resolve(t.data);return dr(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}mc.create=(n,e)=>new mc({type:n,typeName:Qe.ZodPromise,...rt(e)});class Ti extends at{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:u=>{Te(r,u),u.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const u=s.transform(r.data,o);if(r.common.async)return Promise.resolve(u).then(async d=>{if(t.value==="aborted")return Xe;const f=await this._def.schema._parseAsync({data:d,path:r.path,parent:r});return f.status==="aborted"?Xe:f.status==="dirty"||t.value==="dirty"?Lu(f.value):f});{if(t.value==="aborted")return Xe;const d=this._def.schema._parseSync({data:u,path:r.path,parent:r});return d.status==="aborted"?Xe:d.status==="dirty"||t.value==="dirty"?Lu(d.value):d}}if(s.type==="refinement"){const u=d=>{const f=s.refinement(d,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?Xe:(d.status==="dirty"&&t.dirty(),u(d.value),{status:t.value,value:d.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>d.status==="aborted"?Xe:(d.status==="dirty"&&t.dirty(),u(d.value).then(()=>({status:t.value,value:d.value}))))}if(s.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Al(u))return u;const d=s.transform(u.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:d}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>Al(u)?Promise.resolve(s.transform(u.value,o)).then(d=>({status:t.value,value:d})):u);Ct.assertNever(s)}}Ti.create=(n,e,t)=>new Ti({schema:n,typeName:Qe.ZodEffects,effect:e,...rt(t)});Ti.createWithPreprocess=(n,e,t)=>new Ti({schema:e,effect:{type:"preprocess",transform:n},typeName:Qe.ZodEffects,...rt(t)});class is extends at{_parse(e){return this._getType(e)===Se.undefined?dr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}is.create=(n,e)=>new is({innerType:n,typeName:Qe.ZodOptional,...rt(e)});class yo extends at{_parse(e){return this._getType(e)===Se.null?dr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yo.create=(n,e)=>new yo({innerType:n,typeName:Qe.ZodNullable,...rt(e)});class Cf extends at{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Cf.create=(n,e)=>new Cf({innerType:n,typeName:Qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...rt(e)});class If extends at{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return vf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ur(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ur(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}If.create=(n,e)=>new If({innerType:n,typeName:Qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...rt(e)});class Um extends at{_parse(e){if(this._getType(e)!==Se.nan){const r=this._getOrReturnCtx(e);return Te(r,{code:ye.invalid_type,expected:Se.nan,received:r.parsedType}),Xe}return{status:"valid",value:e.data}}}Um.create=n=>new Um({typeName:Qe.ZodNaN,...rt(n)});const nF=Symbol("zod_brand");class jb extends at{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class rh extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Xe:o.status==="dirty"?(t.dirty(),Lu(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Xe:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new rh({in:e,out:t,typeName:Qe.ZodPipeline})}}class Of extends at{_parse(e){const t=this._def.innerType._parse(e),r=s=>(Al(s)&&(s.value=Object.freeze(s.value)),s);return vf(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}Of.create=(n,e)=>new Of({innerType:n,typeName:Qe.ZodReadonly,...rt(e)});function uA(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function wO(n,e={},t){return n?pc.create().superRefine((r,s)=>{var o,u;const d=n(r);if(d instanceof Promise)return d.then(f=>{var h,g;if(!f){const v=uA(e,r),_=(g=(h=v.fatal)!==null&&h!==void 0?h:t)!==null&&g!==void 0?g:!0;s.addIssue({code:"custom",...v,fatal:_})}});if(!d){const f=uA(e,r),h=(u=(o=f.fatal)!==null&&o!==void 0?o:t)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...f,fatal:h})}}):pc.create()}const rF={object:Zt.lazycreate};var Qe;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const iF=(n,e={message:`Input not instance of ${n.name}`})=>wO(t=>t instanceof n,e),EO=bi.create,TO=po.create,sF=Um.create,aF=mo.create,SO=_f.create,oF=Cl.create,lF=Mm.create,uF=bf.create,cF=wf.create,dF=pc.create,fF=yl.create,hF=Js.create,pF=Lm.create,mF=Ei.create,gF=Zt.create,yF=Zt.strictCreate,vF=Ef.create,_F=bg.create,bF=Tf.create,wF=us.create,EF=Sf.create,TF=Vm.create,SF=Il.create,xF=Bu.create,RF=xf.create,AF=Rf.create,CF=go.create,IF=Af.create,OF=mc.create,cA=Ti.create,kF=is.create,NF=yo.create,DF=Ti.createWithPreprocess,PF=rh.create,MF=()=>EO().optional(),LF=()=>TO().optional(),VF=()=>SO().optional(),UF={string:n=>bi.create({...n,coerce:!0}),number:n=>po.create({...n,coerce:!0}),boolean:n=>_f.create({...n,coerce:!0}),bigint:n=>mo.create({...n,coerce:!0}),date:n=>Cl.create({...n,coerce:!0})},jF=Xe;var Qn=Object.freeze({__proto__:null,defaultErrorMap:hc,setErrorMap:D6,getErrorMap:Nm,makeIssue:Dm,EMPTY_PATH:P6,addIssueToContext:Te,ParseStatus:er,INVALID:Xe,DIRTY:Lu,OK:dr,isAborted:m0,isDirty:g0,isValid:Al,isAsync:vf,get util(){return Ct},get objectUtil(){return p0},ZodParsedType:Se,getParsedType:Bs,ZodType:at,datetimeRegex:_O,ZodString:bi,ZodNumber:po,ZodBigInt:mo,ZodBoolean:_f,ZodDate:Cl,ZodSymbol:Mm,ZodUndefined:bf,ZodNull:wf,ZodAny:pc,ZodUnknown:yl,ZodNever:Js,ZodVoid:Lm,ZodArray:Ei,ZodObject:Zt,ZodUnion:Ef,ZodDiscriminatedUnion:bg,ZodIntersection:Tf,ZodTuple:us,ZodRecord:Sf,ZodMap:Vm,ZodSet:Il,ZodFunction:Bu,ZodLazy:xf,ZodLiteral:Rf,ZodEnum:go,ZodNativeEnum:Af,ZodPromise:mc,ZodEffects:Ti,ZodTransformer:Ti,ZodOptional:is,ZodNullable:yo,ZodDefault:Cf,ZodCatch:If,ZodNaN:Um,BRAND:nF,ZodBranded:jb,ZodPipeline:rh,ZodReadonly:Of,custom:wO,Schema:at,ZodSchema:at,late:rF,get ZodFirstPartyTypeKind(){return Qe},coerce:UF,any:dF,array:mF,bigint:aF,boolean:SO,date:oF,discriminatedUnion:_F,effect:cA,enum:CF,function:xF,instanceof:iF,intersection:bF,lazy:RF,literal:AF,map:TF,nan:sF,nativeEnum:IF,never:hF,null:cF,nullable:NF,number:TO,object:gF,oboolean:VF,onumber:LF,optional:kF,ostring:MF,pipeline:PF,preprocess:DF,promise:OF,record:EF,set:SF,strictObject:yF,string:EO,symbol:lF,transformer:cA,tuple:wF,undefined:uF,union:vF,unknown:fF,void:pF,NEVER:jF,ZodIssueCode:ye,quotelessJson:N6,ZodError:Ur}),zb=class{constructor(n){Kt(this,"id");Kt(this,"name");Kt(this,"level");Kt(this,"types");Kt(this,"teraType");Kt(this,"specialForm");Kt(this,"isMega",!1);Kt(this,"isDynamax",!1);Kt(this,"isGDynamax",!1);Kt(this,"weight");Kt(this,"ability");Kt(this,"gender");Kt(this,"status");Kt(this,"baseStat");Kt(this,"effortValues");Kt(this,"individualValues");Kt(this,"stats");Kt(this,"statStage");Kt(this,"nature");Kt(this,"item");Kt(this,"originalItem");Kt(this,"flags");Kt(this,"moves");Kt(this,"sprite");Kt(this,"takenDamage",0);this.id=n==null?void 0:n.id,this.name=n==null?void 0:n.name,this.level=(n==null?void 0:n.level)??50,this.types=(n==null?void 0:n.types)??["Normal"],this.teraType=(n==null?void 0:n.teraType)||this.types[0],this.specialForm=(n==null?void 0:n.specialForm)??"None",this.weight=(n==null?void 0:n.weight)??0,this.ability=n==null?void 0:n.ability,this.gender=(n==null?void 0:n.gender)??"Unknown",this.status=(n==null?void 0:n.status)??"Healthy",this.item=n==null?void 0:n.item,this.originalItem=n==null?void 0:n.originalItem,n!=null&&n.stats&&(this.stats=zF(n==null?void 0:n.stats)),this.baseStat=FF(n==null?void 0:n.baseStat),this.individualValues=BF(n==null?void 0:n.individualValues),this.effortValues=HF(n==null?void 0:n.effortValues),this.statStage=qF(n==null?void 0:n.statStage),this.nature=(n==null?void 0:n.nature)??{},this.flags=n==null?void 0:n.flags,this.moves=(n==null?void 0:n.moves)??[],this.sprite=n==null?void 0:n.sprite}getStat(n,e=!0){var r,s;if(!this.stats&&!this.baseStat)throw new Error("Please init pokemon with ID or manually set stats");if(n==="hp")return(r=this.stats)!=null&&r.hp?this.stats.hp:this.getHp(this.baseStat[n],this.individualValues[n],this.effortValues[n]);const t=e?this.statStage[n]:0;return(s=this.stats)!=null&&s[n]?dA(this.stats[n],t):this.getTargetStat(n,this.baseStat[n],this.individualValues[n],this.effortValues[n],t)}getStats(n=!0){if(!this.stats&&!this.baseStat)throw new Error("Please init pokemon with ID or manually set stats");return Object.keys(this.baseStat).reduce((t,r)=>(t[r]=this.getStat(r,n),t),{})}setFlags(n){this.flags=this.flags?Object.assign(this.flags,n):n}setNature(n){this.nature=this.nature?Object.assign(this.nature,n):n}toggleTera(n){n.isTera&&n.type?(this.teraType=n.type,this.specialForm="Tera"):this.specialForm="None"}isFainted(){return this.getStat("hp")<this.takenDamage}async initWithId(n,e){this.id=n;try{const r=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${n}`)).json();for(let s=0;s<r.stats.length;s++){const o=r.stats[s];switch(o==null?void 0:o.stat.name){case"hp":case"attack":case"defense":case"speed":this.baseStat[o.stat.name]=o.base_stat;break;case"special-attack":this.baseStat.specialAttack=o.base_stat;break;case"special-defense":this.baseStat.specialDefense=o.base_stat;break;default:return}}this.weight=r.weight,this.types=r.types.map(s=>$F(s.type.name)),e!=null&&e.effortValues&&(this.effortValues=Object.assign(this.effortValues,e.effortValues)),e!=null&&e.individualValues&&(this.individualValues=Object.assign(this.individualValues,e.individualValues)),e!=null&&e.statStage&&(this.statStage=Object.assign(this.statStage,e.statStage))}catch(t){throw console.log("Failed to init pokemon from pokeapi: ",t),new Error("Failed to init pokemon from pokeapi")}}initBattleStatus(){this.takenDamage=0,this.specialForm="None",this.status="Healthy",this.flags=void 0,this.statStage={attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0}}getHp(n,e,t){return this.id===292?1:Math.trunc((n*2+e+Math.trunc(t/4))*this.level/100)+10+this.level}getTargetStat(n,e,t,r,s){return dA(Math.trunc((Math.trunc((e*2+t+Math.trunc(r/4))*this.level/100)+5)*this.getNatureModifer(n)),s)}getNatureModifer(n){return n===this.nature.plus?1.1:n===this.nature.minus?.9:1}isTera(){return this.specialForm==="Tera"}};function zF(n){return Object.assign({hp:100,attack:100,defense:100,specialAttack:100,specialDefense:100,speed:100},n)}function FF(n){return Object.assign({hp:100,attack:100,defense:100,specialAttack:100,specialDefense:100,speed:100},n)}function BF(n){return Object.assign({hp:31,attack:31,defense:31,specialAttack:31,specialDefense:31,speed:31},n)}function HF(n){return Object.assign({hp:0,attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},n)}function qF(n){return Object.assign({attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},n)}function $F(n){var e;return((e=n[0])==null?void 0:e.toUpperCase())+n.slice(1)}function dA(n,e){return e>0?n*(2+e)/2:n*2/(2-e)}var s_=Qn.object({type:Qn.object({name:Qn.string()})}).transform(n=>{const e=n.type.name;return e.charAt(0).toUpperCase()+e.slice(1)});Qn.object({id:Qn.number(),weight:Qn.number().transform(n=>n/10).describe("pokemon weight from pokeapi "),types:Qn.union([Qn.tuple([s_]),Qn.tuple([s_,s_])]),stats:Qn.array(Qn.object({base_stat:Qn.number(),stat:Qn.object({name:Qn.string()})})).transform(n=>n.reduce((e,t)=>{const r=GF(t.stat.name);return e[r]=t.base_stat,e},{})),sprites:Qn.object({front_default:Qn.string()}).transform(n=>n.front_default)});function GF(n){if(n==="hp"||n==="attack"||n==="defense"||n==="speed")return n;if(n==="special-attack")return"specialAttack";if(n==="special-defense")return"specialDefense";throw new Error("invalid stat key name")}const xO=new zb({name:"venusaur",level:50,types:["Grass","Poison"],teraType:"Grass",weight:100,gender:"Male",status:"Healthy",specialForm:"None",takenDamage:0,baseStat:{hp:80,attack:82,defense:83,specialAttack:100,specialDefense:100,speed:80},effortValues:{hp:0,attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},individualValues:{hp:31,attack:31,defense:31,specialAttack:31,specialDefense:31,speed:31},statStage:{attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},nature:{plus:"speed",minus:"attack"},flags:{hasEvolution:!1},moves:["Leaf Storm","Sludge Bomb","Earthquake","Giga Drain"],sprite:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/3.png"}),RO=new zb({name:"charizard",level:50,types:["Fire","Flying"],teraType:"Fire",weight:90.5,gender:"Male",status:"Healthy",specialForm:"None",takenDamage:0,baseStat:{hp:78,attack:84,defense:78,specialAttack:109,specialDefense:85,speed:100},effortValues:{hp:0,attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},individualValues:{hp:31,attack:31,defense:31,specialAttack:31,specialDefense:31,speed:31},statStage:{attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},nature:{plus:"speed",minus:"attack"},flags:{hasEvolution:!1},moves:["Flamethrower","Dragon Claw","Air Slash","Solar Beam"],sprite:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/6.png"}),AO=new zb({name:"blastoise",level:50,types:["Water"],teraType:"Water",weight:85.5,gender:"Male",status:"Healthy",specialForm:"None",takenDamage:0,baseStat:{hp:79,attack:83,defense:100,specialAttack:85,specialDefense:105,speed:78},effortValues:{hp:0,attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},individualValues:{hp:31,attack:31,defense:31,specialAttack:31,specialDefense:31,speed:31},statStage:{attack:0,defense:0,specialAttack:0,specialDefense:0,speed:0},nature:{plus:"specialAttack",minus:"attack"},flags:{hasEvolution:!1},moves:["Hydro Pump","Ice Beam","Earthquake","Dark Pulse"],sprite:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/9.png"}),v0=Xm((n,e)=>({playerName:"Player",playerTeam:[xO,RO,AO],currentPokemonIndex:0,isNpc:!1,useSpecialForm:!1,winStreak:0,biggestWinStreak:0,totalWins:0,uid:null,setWinStreak:()=>n(t=>({winStreak:t.winStreak+1})),setPlayerName:t=>n({playerName:t}),setTeam:t=>n({playerTeam:t}),switchPokemon:t=>n({currentPokemonIndex:t}),replacePokemonAtIndex:(t,r)=>n(s=>{const o=[...s.playerTeam];return o[t]=r,{playerTeam:o}}),toggleSpecialForm:()=>n(t=>({useSpecialForm:!t.useSpecialForm})),resetState:()=>n({currentPokemonIndex:0,useSpecialForm:!1}),setPlayerData:t=>{n({...t,uid:t.uid||e().uid})},loadPlayerData:async t=>{var r;try{const s=await Xd.getPlayerData(t);if(s)e().setPlayerData(s);else{console.log("Player data not found, creating new player");const u=U1().currentUser;if(u){const d=u.displayName||((r=u.email)==null?void 0:r.split("@")[0])||"Trainer",f=u.email||"";await e().createNewPlayer(t,f,d),console.log("New player created successfully")}else console.error("Cannot create player: No authenticated user found")}}catch(s){console.error("Failed to load player data:",s)}},savePlayerData:async()=>{const t=e();if(t.uid)try{await Xd.updatePlayerData(t.uid,{playerName:t.playerName,playerTeam:t.playerTeam,currentPokemonIndex:t.currentPokemonIndex,useSpecialForm:t.useSpecialForm,winStreak:t.winStreak,biggestWinStreak:t.biggestWinStreak,totalWins:t.totalWins})}catch(r){console.error("Failed to save player data:",r)}},createNewPlayer:async(t,r,s)=>{try{const o=e(),u={uid:t,playerName:s,email:r,playerTeam:o.playerTeam,currentPokemonIndex:0,useSpecialForm:!1,winStreak:0,biggestWinStreak:0,totalWins:0};await Xd.createPlayerData(u),n({...u})}catch(o){console.error("Failed to create player data:",o)}}}));Xm(n=>({playerName:"NPC",playerTeam:[xO,RO,AO],currentPokemonIndex:0,isNpc:!0,useSpecialForm:!1,uid:null,setPlayerName:e=>n({playerName:e}),setTeam:e=>n({playerTeam:e}),switchPokemon:e=>n({currentPokemonIndex:e}),toggleSpecialForm:()=>n(e=>({useSpecialForm:!e.useSpecialForm})),resetState:()=>n({currentPokemonIndex:0,useSpecialForm:!1}),loadNpcData:()=>{}}));function KF(){const{user:n}=nh(),{setPlayerData:e}=v0();return Q2({queryKey:["playerData",n==null?void 0:n.uid],queryFn:async()=>{var t;if(!n)return null;try{const r=await Xd.getPlayerData(n.uid);if(r)return e(r),r;const s=n.displayName||((t=n.email)==null?void 0:t.split("@")[0])||"Trainer",o={uid:n.uid,playerName:s,email:n.email||"",totalWins:0,winStreak:0,biggestWinStreak:0};return await Xd.createPlayerData({...o,playerTeam:v0.getState().playerTeam,currentPokemonIndex:0,useSpecialForm:!1}),e(o),o}catch(r){throw console.error("Failed to load player data:",r),r}},enabled:!!n,staleTime:1e3*60*5})}function QF({children:n}){const{user:e,loading:t}=nh(),{isLoading:r}=KF(),s=U0();return x.useEffect(()=>{!t&&!e&&s("/auth")},[e,t,s]),t||r?k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-6xl mb-4 animate-spin",children:"⚡"}),k.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200",children:"載入中..."}),k.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"正在初始化 Pokemon Battle Arena"})]})}):e?k.jsx(k.Fragment,{children:n}):null}function fA(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function wg(...n){return e=>{let t=!1;const r=n.map(s=>{const o=fA(s,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():fA(n[s],null)}}}}function tr(...n){return x.useCallback(wg(...n),n)}function kf(n){const e=YF(n),t=x.forwardRef((r,s)=>{const{children:o,...u}=r,d=x.Children.toArray(o),f=d.find(ZF);if(f){const h=f.props.children,g=d.map(v=>v===f?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return k.jsx(e,{...u,ref:s,children:x.isValidElement(h)?x.cloneElement(h,void 0,g):null})}return k.jsx(e,{...u,ref:s,children:o})});return t.displayName=`${n}.Slot`,t}var CO=kf("Slot");function YF(n){const e=x.forwardRef((t,r)=>{const{children:s,...o}=t;if(x.isValidElement(s)){const u=JF(s),d=XF(o,s.props);return s.type!==x.Fragment&&(d.ref=r?wg(r,u):u),x.cloneElement(s,d)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var IO=Symbol("radix.slottable");function WF(n){const e=({children:t})=>k.jsx(k.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=IO,e}function ZF(n){return x.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===IO}function XF(n,e){const t={...e};for(const r in e){const s=n[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?t[r]=(...d)=>{const f=o(...d);return s(...d),f}:s&&(t[r]=s):r==="style"?t[r]={...s,...o}:r==="className"&&(t[r]=[s,o].filter(Boolean).join(" "))}return{...n,...t}}function JF(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function OO(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=OO(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function kO(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=OO(n))&&(r&&(r+=" "),r+=e);return r}const hA=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,pA=kO,NO=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return pA(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:o}=e,u=Object.keys(s).map(h=>{const g=t==null?void 0:t[h],v=o==null?void 0:o[h];if(g===null)return null;const _=hA(g)||hA(v);return s[h][_]}),d=t&&Object.entries(t).reduce((h,g)=>{let[v,_]=g;return _===void 0||(h[v]=_),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:v,className:_,...w}=g;return Object.entries(w).every(S=>{let[R,C]=S;return Array.isArray(C)?C.includes({...o,...d}[R]):{...o,...d}[R]===C})?[...h,v,_]:h},[]);return pA(n,u,f,t==null?void 0:t.class,t==null?void 0:t.className)},Fb="-",e5=n=>{const e=n5(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const d=u.split(Fb);return d[0]===""&&d.length!==1&&d.shift(),DO(d,e)||t5(u)},getConflictingClassGroupIds:(u,d)=>{const f=t[u]||[];return d&&r[u]?[...f,...r[u]]:f}}},DO=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?DO(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(Fb);return(u=e.validators.find(({validator:d})=>d(o)))==null?void 0:u.classGroupId},mA=/^\[(.+)\]$/,t5=n=>{if(mA.test(n)){const e=mA.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},n5=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)_0(t[s],r,s,e);return r},_0=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:gA(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(r5(s)){_0(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,u])=>{_0(u,gA(e,o),t,r)})})},gA=(n,e)=>{let t=n;return e.split(Fb).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},r5=n=>n.isThemeGetter,i5=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,u)=>{t.set(o,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let u=t.get(o);if(u!==void 0)return u;if((u=r.get(o))!==void 0)return s(o,u),u},set(o,u){t.has(o)?t.set(o,u):s(o,u)}}},b0="!",w0=":",s5=w0.length,a5=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const o=[];let u=0,d=0,f=0,h;for(let S=0;S<s.length;S++){let R=s[S];if(u===0&&d===0){if(R===w0){o.push(s.slice(f,S)),f=S+s5;continue}if(R==="/"){h=S;continue}}R==="["?u++:R==="]"?u--:R==="("?d++:R===")"&&d--}const g=o.length===0?s:s.substring(f),v=o5(g),_=v!==g,w=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:_,baseClassName:v,maybePostfixModifierPosition:w}};if(e){const s=e+w0,o=r;r=u=>u.startsWith(s)?o(u.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=o=>t({className:o,parseClassName:s})}return r},o5=n=>n.endsWith(b0)?n.substring(0,n.length-1):n.startsWith(b0)?n.substring(1):n,l5=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(u=>{u[0]==="["||e[u]?(s.push(...o.sort(),u),o=[]):o.push(u)}),s.push(...o.sort()),s}},u5=n=>({cache:i5(n.cacheSize),parseClassName:a5(n),sortModifiers:l5(n),...e5(n)}),c5=/\s+/,d5=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,u=[],d=n.trim().split(c5);let f="";for(let h=d.length-1;h>=0;h-=1){const g=d[h],{isExternal:v,modifiers:_,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:R}=t(g);if(v){f=g+(f.length>0?" "+f:f);continue}let C=!!R,D=r(C?S.substring(0,R):S);if(!D){if(!C){f=g+(f.length>0?" "+f:f);continue}if(D=r(S),!D){f=g+(f.length>0?" "+f:f);continue}C=!1}const B=o(_).join(":"),j=w?B+b0:B,$=j+D;if(u.includes($))continue;u.push($);const Q=s(D,C);for(let U=0;U<Q.length;++U){const P=Q[U];u.push(j+P)}f=g+(f.length>0?" "+f:f)}return f};function f5(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=PO(e))&&(r&&(r+=" "),r+=t);return r}const PO=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=PO(n[r]))&&(t&&(t+=" "),t+=e);return t};function h5(n,...e){let t,r,s,o=u;function u(f){const h=e.reduce((g,v)=>v(g),n());return t=u5(h),r=t.cache.get,s=t.cache.set,o=d,d(f)}function d(f){const h=r(f);if(h)return h;const g=d5(f,t);return s(f,g),g}return function(){return o(f5.apply(null,arguments))}}const _n=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},MO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,LO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,p5=/^\d+\/\d+$/,m5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,v5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ru=n=>p5.test(n),ut=n=>!!n&&!Number.isNaN(Number(n)),La=n=>!!n&&Number.isInteger(Number(n)),a_=n=>n.endsWith("%")&&ut(n.slice(0,-1)),js=n=>m5.test(n),b5=()=>!0,w5=n=>g5.test(n)&&!y5.test(n),VO=()=>!1,E5=n=>v5.test(n),T5=n=>_5.test(n),S5=n=>!ke(n)&&!Ne(n),x5=n=>Sc(n,zO,VO),ke=n=>MO.test(n),nl=n=>Sc(n,FO,w5),o_=n=>Sc(n,O5,ut),yA=n=>Sc(n,UO,VO),R5=n=>Sc(n,jO,T5),Mp=n=>Sc(n,BO,E5),Ne=n=>LO.test(n),Pd=n=>xc(n,FO),A5=n=>xc(n,k5),vA=n=>xc(n,UO),C5=n=>xc(n,zO),I5=n=>xc(n,jO),Lp=n=>xc(n,BO,!0),Sc=(n,e,t)=>{const r=MO.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},xc=(n,e,t=!1)=>{const r=LO.exec(n);return r?r[1]?e(r[1]):t:!1},UO=n=>n==="position"||n==="percentage",jO=n=>n==="image"||n==="url",zO=n=>n==="length"||n==="size"||n==="bg-size",FO=n=>n==="length",O5=n=>n==="number",k5=n=>n==="family-name",BO=n=>n==="shadow",N5=()=>{const n=_n("color"),e=_n("font"),t=_n("text"),r=_n("font-weight"),s=_n("tracking"),o=_n("leading"),u=_n("breakpoint"),d=_n("container"),f=_n("spacing"),h=_n("radius"),g=_n("shadow"),v=_n("inset-shadow"),_=_n("text-shadow"),w=_n("drop-shadow"),S=_n("blur"),R=_n("perspective"),C=_n("aspect"),D=_n("ease"),B=_n("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Q=()=>[...$(),Ne,ke],U=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],A=()=>[Ne,ke,f],O=()=>[Ru,"full","auto",...A()],M=()=>[La,"none","subgrid",Ne,ke],z=()=>["auto",{span:["full",La,Ne,ke]},La,Ne,ke],H=()=>[La,"auto",Ne,ke],L=()=>["auto","min","max","fr",Ne,ke],we=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ee=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...A()],le=()=>[Ru,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],te=()=>[n,Ne,ke],de=()=>[...$(),vA,yA,{position:[Ne,ke]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",C5,x5,{size:[Ne,ke]}],pe=()=>[a_,Pd,nl],oe=()=>["","none","full",h,Ne,ke],_e=()=>["",ut,Pd,nl],Ue=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ge=()=>[ut,a_,vA,yA],ht=()=>["","none",S,Ne,ke],Dt=()=>["none",ut,Ne,ke],bt=()=>["none",ut,Ne,ke],Yt=()=>[ut,Ne,ke],Tn=()=>[Ru,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[js],breakpoint:[js],color:[b5],container:[js],"drop-shadow":[js],ease:["in","out","in-out"],font:[S5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[js],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[js],shadow:[js],spacing:["px",ut],text:[js],"text-shadow":[js],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ru,ke,Ne,C]}],container:["container"],columns:[{columns:[ut,ke,Ne,d]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Q()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[La,"auto",Ne,ke]}],basis:[{basis:[Ru,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ut,Ru,"auto","initial","none",ke]}],grow:[{grow:["",ut,Ne,ke]}],shrink:[{shrink:["",ut,Ne,ke]}],order:[{order:[La,"first","last","none",Ne,ke]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...we(),"normal"]}],"justify-items":[{"justify-items":[...Ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ee()]}],"align-content":[{content:["normal",...we()]}],"align-items":[{items:[...Ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":we()}],"place-items":[{"place-items":[...Ee(),"baseline"]}],"place-self":[{"place-self":["auto",...Ee()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[d,"screen",...le()]}],"min-w":[{"min-w":[d,"screen","none",...le()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...le()]}],h:[{h:["screen",...le()]}],"min-h":[{"min-h":["screen","none",...le()]}],"max-h":[{"max-h":["screen",...le()]}],"font-size":[{text:["base",t,Pd,nl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ne,o_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",a_,ke]}],"font-family":[{font:[A5,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ne,ke]}],"line-clamp":[{"line-clamp":[ut,"none",Ne,o_]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",Ne,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ne,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[ut,"from-font","auto",Ne,nl]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[ut,"auto",Ne,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},La,Ne,ke],radial:["",Ne,ke],conic:[La,Ne,ke]},I5,R5]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:pe()}],"gradient-via-pos":[{via:pe()}],"gradient-to-pos":[{to:pe()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:_e()}],"border-w-x":[{"border-x":_e()}],"border-w-y":[{"border-y":_e()}],"border-w-s":[{"border-s":_e()}],"border-w-e":[{"border-e":_e()}],"border-w-t":[{"border-t":_e()}],"border-w-r":[{"border-r":_e()}],"border-w-b":[{"border-b":_e()}],"border-w-l":[{"border-l":_e()}],"divide-x":[{"divide-x":_e()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":_e()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ue(),"hidden","none"]}],"divide-style":[{divide:[...Ue(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...Ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ut,Ne,ke]}],"outline-w":[{outline:["",ut,Pd,nl]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",g,Lp,Mp]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",v,Lp,Mp]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:_e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[ut,nl]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":_e()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",_,Lp,Mp]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[ut,Ne,ke]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ge()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":Ge()}],"mask-image-t-to-pos":[{"mask-t-to":Ge()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":Ge()}],"mask-image-r-to-pos":[{"mask-r-to":Ge()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":Ge()}],"mask-image-b-to-pos":[{"mask-b-to":Ge()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":Ge()}],"mask-image-l-to-pos":[{"mask-l-to":Ge()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":Ge()}],"mask-image-x-to-pos":[{"mask-x-to":Ge()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":Ge()}],"mask-image-y-to-pos":[{"mask-y-to":Ge()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[Ne,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ge()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ge()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ne,ke]}],filter:[{filter:["","none",Ne,ke]}],blur:[{blur:ht()}],brightness:[{brightness:[ut,Ne,ke]}],contrast:[{contrast:[ut,Ne,ke]}],"drop-shadow":[{"drop-shadow":["","none",w,Lp,Mp]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",ut,Ne,ke]}],"hue-rotate":[{"hue-rotate":[ut,Ne,ke]}],invert:[{invert:["",ut,Ne,ke]}],saturate:[{saturate:[ut,Ne,ke]}],sepia:[{sepia:["",ut,Ne,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ne,ke]}],"backdrop-blur":[{"backdrop-blur":ht()}],"backdrop-brightness":[{"backdrop-brightness":[ut,Ne,ke]}],"backdrop-contrast":[{"backdrop-contrast":[ut,Ne,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ut,Ne,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ut,Ne,ke]}],"backdrop-invert":[{"backdrop-invert":["",ut,Ne,ke]}],"backdrop-opacity":[{"backdrop-opacity":[ut,Ne,ke]}],"backdrop-saturate":[{"backdrop-saturate":[ut,Ne,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",ut,Ne,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ne,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ut,"initial",Ne,ke]}],ease:[{ease:["linear","initial",D,Ne,ke]}],delay:[{delay:[ut,Ne,ke]}],animate:[{animate:["none",B,Ne,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,Ne,ke]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:Dt()}],"rotate-x":[{"rotate-x":Dt()}],"rotate-y":[{"rotate-y":Dt()}],"rotate-z":[{"rotate-z":Dt()}],scale:[{scale:bt()}],"scale-x":[{"scale-x":bt()}],"scale-y":[{"scale-y":bt()}],"scale-z":[{"scale-z":bt()}],"scale-3d":["scale-3d"],skew:[{skew:Yt()}],"skew-x":[{"skew-x":Yt()}],"skew-y":[{"skew-y":Yt()}],transform:[{transform:[Ne,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Tn()}],"translate-x":[{"translate-x":Tn()}],"translate-y":[{"translate-y":Tn()}],"translate-z":[{"translate-z":Tn()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne,ke]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[ut,Pd,nl,o_]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},D5=h5(N5);function Pl(...n){return D5(kO(n))}const P5=NO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ai({className:n,variant:e,size:t,asChild:r=!1,...s}){const o=r?CO:"button";return k.jsx(o,{"data-slot":"button",className:Pl(P5({variant:e,size:t,className:n})),...s})}function M5(){const{isDarkMode:n,toggleTheme:e}=GC();return k.jsx(k.Fragment,{children:k.jsx(ai,{variant:"outline",className:"cursor-pointer px-2",onClick:e,children:n?"☀️":"🌙"})})}function st(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Rc(n,e=[]){let t=[];function r(o,u){const d=x.createContext(u),f=t.length;t=[...t,u];const h=v=>{var D;const{scope:_,children:w,...S}=v,R=((D=_==null?void 0:_[n])==null?void 0:D[f])||d,C=x.useMemo(()=>S,Object.values(S));return k.jsx(R.Provider,{value:C,children:w})};h.displayName=o+"Provider";function g(v,_){var R;const w=((R=_==null?void 0:_[n])==null?void 0:R[f])||d,S=x.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=t.map(u=>x.createContext(u));return function(d){const f=(d==null?void 0:d[n])||o;return x.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return s.scopeName=n,[r,L5(s,...e)]}function L5(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const u=r.reduce((d,{useScope:f,scopeName:h})=>{const v=f(o)[`__scope${h}`];return{...d,...v}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var vo=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},V5=ZA[" useInsertionEffect ".trim().toString()]||vo;function Bb({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,o,u]=U5({defaultProp:e,onChange:t}),d=n!==void 0,f=d?n:s;{const g=x.useRef(n!==void 0);x.useEffect(()=>{const v=g.current;v!==d&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const h=x.useCallback(g=>{var v;if(d){const _=j5(g)?g(n):g;_!==n&&((v=u.current)==null||v.call(u,_))}else o(g)},[d,n,o,u]);return[f,h]}function U5({defaultProp:n,onChange:e}){const[t,r]=x.useState(n),s=x.useRef(t),o=x.useRef(e);return V5(()=>{o.current=e},[e]),x.useEffect(()=>{var u;s.current!==t&&((u=o.current)==null||u.call(o,t),s.current=t)},[t,s]),[t,r,o]}function j5(n){return typeof n=="function"}var z5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bn=z5.reduce((n,e)=>{const t=kf(`Primitive.${e}`),r=x.forwardRef((s,o)=>{const{asChild:u,...d}=s,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(f,{...d,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function HO(n,e){n&&Ym.flushSync(()=>n.dispatchEvent(e))}function qO(n){const e=n+"CollectionProvider",[t,r]=Rc(e),[s,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:C,children:D}=R,B=$i.useRef(null),j=$i.useRef(new Map).current;return k.jsx(s,{scope:C,itemMap:j,collectionRef:B,children:D})};u.displayName=e;const d=n+"CollectionSlot",f=kf(d),h=$i.forwardRef((R,C)=>{const{scope:D,children:B}=R,j=o(d,D),$=tr(C,j.collectionRef);return k.jsx(f,{ref:$,children:B})});h.displayName=d;const g=n+"CollectionItemSlot",v="data-radix-collection-item",_=kf(g),w=$i.forwardRef((R,C)=>{const{scope:D,children:B,...j}=R,$=$i.useRef(null),Q=tr(C,$),U=o(g,D);return $i.useEffect(()=>(U.itemMap.set($,{ref:$,...j}),()=>void U.itemMap.delete($))),k.jsx(_,{[v]:"",ref:Q,children:B})});w.displayName=g;function S(R){const C=o(n+"CollectionConsumer",R);return $i.useCallback(()=>{const B=C.collectionRef.current;if(!B)return[];const j=Array.from(B.querySelectorAll(`[${v}]`));return Array.from(C.itemMap.values()).sort((U,P)=>j.indexOf(U.ref.current)-j.indexOf(P.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:u,Slot:h,ItemSlot:w},S,r]}var F5=x.createContext(void 0);function $O(n){const e=x.useContext(F5);return n||e||"ltr"}function ea(n){const e=x.useRef(n);return x.useEffect(()=>{e.current=n}),x.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function B5(n,e=globalThis==null?void 0:globalThis.document){const t=ea(n);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var H5="DismissableLayer",E0="dismissableLayer.update",q5="dismissableLayer.pointerDownOutside",$5="dismissableLayer.focusOutside",_A,GO=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hb=x.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:u,onDismiss:d,...f}=n,h=x.useContext(GO),[g,v]=x.useState(null),_=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),S=tr(e,P=>v(P)),R=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),D=R.indexOf(C),B=g?R.indexOf(g):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,$=B>=D,Q=Q5(P=>{const A=P.target,O=[...h.branches].some(M=>M.contains(A));!$||O||(s==null||s(P),u==null||u(P),P.defaultPrevented||d==null||d())},_),U=Y5(P=>{const A=P.target;[...h.branches].some(M=>M.contains(A))||(o==null||o(P),u==null||u(P),P.defaultPrevented||d==null||d())},_);return B5(P=>{B===h.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&d&&(P.preventDefault(),d()))},_),x.useEffect(()=>{if(g)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(_A=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),bA(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=_A)}},[g,_,t,h]),x.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),bA())},[g,h]),x.useEffect(()=>{const P=()=>w({});return document.addEventListener(E0,P),()=>document.removeEventListener(E0,P)},[]),k.jsx(Bn.div,{...f,ref:S,style:{pointerEvents:j?$?"auto":"none":void 0,...n.style},onFocusCapture:st(n.onFocusCapture,U.onFocusCapture),onBlurCapture:st(n.onBlurCapture,U.onBlurCapture),onPointerDownCapture:st(n.onPointerDownCapture,Q.onPointerDownCapture)})});Hb.displayName=H5;var G5="DismissableLayerBranch",K5=x.forwardRef((n,e)=>{const t=x.useContext(GO),r=x.useRef(null),s=tr(e,r);return x.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),k.jsx(Bn.div,{...n,ref:s})});K5.displayName=G5;function Q5(n,e=globalThis==null?void 0:globalThis.document){const t=ea(n),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let f=function(){KO(q5,t,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Y5(n,e=globalThis==null?void 0:globalThis.document){const t=ea(n),r=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!r.current&&KO($5,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bA(){const n=new CustomEvent(E0);document.dispatchEvent(n)}function KO(n,e,t,{discrete:r}){const s=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?HO(s,o):s.dispatchEvent(o)}var l_=0;function W5(){x.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??wA()),document.body.insertAdjacentElement("beforeend",n[1]??wA()),l_++,()=>{l_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),l_--}},[])}function wA(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var u_="focusScope.autoFocusOnMount",c_="focusScope.autoFocusOnUnmount",EA={bubbles:!1,cancelable:!0},Z5="FocusScope",QO=x.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...u}=n,[d,f]=x.useState(null),h=ea(s),g=ea(o),v=x.useRef(null),_=tr(e,R=>f(R)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let R=function(j){if(w.paused||!d)return;const $=j.target;d.contains($)?v.current=$:ja(v.current,{select:!0})},C=function(j){if(w.paused||!d)return;const $=j.relatedTarget;$!==null&&(d.contains($)||ja(v.current,{select:!0}))},D=function(j){if(document.activeElement===document.body)for(const Q of j)Q.removedNodes.length>0&&ja(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",C);const B=new MutationObserver(D);return d&&B.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",C),B.disconnect()}}},[r,d,w.paused]),x.useEffect(()=>{if(d){SA.add(w);const R=document.activeElement;if(!d.contains(R)){const D=new CustomEvent(u_,EA);d.addEventListener(u_,h),d.dispatchEvent(D),D.defaultPrevented||(X5(rB(YO(d)),{select:!0}),document.activeElement===R&&ja(d))}return()=>{d.removeEventListener(u_,h),setTimeout(()=>{const D=new CustomEvent(c_,EA);d.addEventListener(c_,g),d.dispatchEvent(D),D.defaultPrevented||ja(R??document.body,{select:!0}),d.removeEventListener(c_,g),SA.remove(w)},0)}}},[d,h,g,w]);const S=x.useCallback(R=>{if(!t&&!r||w.paused)return;const C=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,D=document.activeElement;if(C&&D){const B=R.currentTarget,[j,$]=J5(B);j&&$?!R.shiftKey&&D===$?(R.preventDefault(),t&&ja(j,{select:!0})):R.shiftKey&&D===j&&(R.preventDefault(),t&&ja($,{select:!0})):D===B&&R.preventDefault()}},[t,r,w.paused]);return k.jsx(Bn.div,{tabIndex:-1,...u,ref:_,onKeyDown:S})});QO.displayName=Z5;function X5(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ja(r,{select:e}),document.activeElement!==t)return}function J5(n){const e=YO(n),t=TA(e,n),r=TA(e.reverse(),n);return[t,r]}function YO(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function TA(n,e){for(const t of n)if(!eB(t,{upTo:e}))return t}function eB(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function tB(n){return n instanceof HTMLInputElement&&"select"in n}function ja(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&tB(n)&&e&&n.select()}}var SA=nB();function nB(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=xA(n,e),n.unshift(e)},remove(e){var t;n=xA(n,e),(t=n[0])==null||t.resume()}}}function xA(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function rB(n){return n.filter(e=>e.tagName!=="A")}var iB=ZA[" useId ".trim().toString()]||(()=>{}),sB=0;function jm(n){const[e,t]=x.useState(iB());return vo(()=>{t(r=>r??String(sB++))},[n]),e?`radix-${e}`:""}const aB=["top","right","bottom","left"],_o=Math.min,Pr=Math.max,zm=Math.round,Vp=Math.floor,ss=n=>({x:n,y:n}),oB={left:"right",right:"left",bottom:"top",top:"bottom"},lB={start:"end",end:"start"};function T0(n,e,t){return Pr(n,_o(e,t))}function ta(n,e){return typeof n=="function"?n(e):n}function na(n){return n.split("-")[0]}function Ac(n){return n.split("-")[1]}function qb(n){return n==="x"?"y":"x"}function $b(n){return n==="y"?"height":"width"}function Qs(n){return["top","bottom"].includes(na(n))?"y":"x"}function Gb(n){return qb(Qs(n))}function uB(n,e,t){t===void 0&&(t=!1);const r=Ac(n),s=Gb(n),o=$b(s);let u=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=Fm(u)),[u,Fm(u)]}function cB(n){const e=Fm(n);return[S0(n),e,S0(e)]}function S0(n){return n.replace(/start|end/g,e=>lB[e])}function dB(n,e,t){const r=["left","right"],s=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?o:u;default:return[]}}function fB(n,e,t,r){const s=Ac(n);let o=dB(na(n),t==="start",r);return s&&(o=o.map(u=>u+"-"+s),e&&(o=o.concat(o.map(S0)))),o}function Fm(n){return n.replace(/left|right|bottom|top/g,e=>oB[e])}function hB(n){return{top:0,right:0,bottom:0,left:0,...n}}function WO(n){return typeof n!="number"?hB(n):{top:n,right:n,bottom:n,left:n}}function Bm(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function RA(n,e,t){let{reference:r,floating:s}=n;const o=Qs(e),u=Gb(e),d=$b(u),f=na(e),h=o==="y",g=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,_=r[d]/2-s[d]/2;let w;switch(f){case"top":w={x:g,y:r.y-s.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:v};break;case"left":w={x:r.x-s.width,y:v};break;default:w={x:r.x,y:r.y}}switch(Ac(e)){case"start":w[u]-=_*(t&&h?-1:1);break;case"end":w[u]+=_*(t&&h?-1:1);break}return w}const pB=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:u}=t,d=o.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let h=await u.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y:v}=RA(h,r,f),_=r,w={},S=0;for(let R=0;R<d.length;R++){const{name:C,fn:D}=d[R],{x:B,y:j,data:$,reset:Q}=await D({x:g,y:v,initialPlacement:r,placement:_,strategy:s,middlewareData:w,rects:h,platform:u,elements:{reference:n,floating:e}});g=B??g,v=j??v,w={...w,[C]:{...w[C],...$}},Q&&S<=50&&(S++,typeof Q=="object"&&(Q.placement&&(_=Q.placement),Q.rects&&(h=Q.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:s}):Q.rects),{x:g,y:v}=RA(h,_,f)),R=-1)}return{x:g,y:v,placement:_,strategy:s,middlewareData:w}};async function Nf(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:u,elements:d,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:_=!1,padding:w=0}=ta(e,n),S=WO(w),C=d[_?v==="floating"?"reference":"floating":v],D=Bm(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(C)))==null||t?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:g,strategy:f})),B=v==="floating"?{x:r,y:s,width:u.floating.width,height:u.floating.height}:u.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),$=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},Q=Bm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:B,offsetParent:j,strategy:f}):B);return{top:(D.top-Q.top+S.top)/$.y,bottom:(Q.bottom-D.bottom+S.bottom)/$.y,left:(D.left-Q.left+S.left)/$.x,right:(Q.right-D.right+S.right)/$.x}}const mB=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:o,platform:u,elements:d,middlewareData:f}=e,{element:h,padding:g=0}=ta(n,e)||{};if(h==null)return{};const v=WO(g),_={x:t,y:r},w=Gb(s),S=$b(w),R=await u.getDimensions(h),C=w==="y",D=C?"top":"left",B=C?"bottom":"right",j=C?"clientHeight":"clientWidth",$=o.reference[S]+o.reference[w]-_[w]-o.floating[S],Q=_[w]-o.reference[w],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let P=U?U[j]:0;(!P||!await(u.isElement==null?void 0:u.isElement(U)))&&(P=d.floating[j]||o.floating[S]);const A=$/2-Q/2,O=P/2-R[S]/2-1,M=_o(v[D],O),z=_o(v[B],O),H=M,L=P-R[S]-z,we=P/2-R[S]/2+A,Ee=T0(H,we,L),K=!f.arrow&&Ac(s)!=null&&we!==Ee&&o.reference[S]/2-(we<H?M:z)-R[S]/2<0,le=K?we<H?we-H:we-L:0;return{[w]:_[w]+le,data:{[w]:Ee,centerOffset:we-Ee-le,...K&&{alignmentOffset:le}},reset:K}}}),gB=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:o,rects:u,initialPlacement:d,platform:f,elements:h}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:_,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:R=!0,...C}=ta(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const D=na(s),B=Qs(d),j=na(d)===d,$=await(f.isRTL==null?void 0:f.isRTL(h.floating)),Q=_||(j||!R?[Fm(d)]:cB(d)),U=S!=="none";!_&&U&&Q.push(...fB(d,R,S,$));const P=[d,...Q],A=await Nf(e,C),O=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&O.push(A[D]),v){const Ee=uB(s,u,$);O.push(A[Ee[0]],A[Ee[1]])}if(M=[...M,{placement:s,overflows:O}],!O.every(Ee=>Ee<=0)){var z,H;const Ee=(((z=o.flip)==null?void 0:z.index)||0)+1,K=P[Ee];if(K){var L;const te=v==="alignment"?B!==Qs(K):!1,de=((L=M[0])==null?void 0:L.overflows[0])>0;if(!te||de)return{data:{index:Ee,overflows:M},reset:{placement:K}}}let le=(H=M.filter(te=>te.overflows[0]<=0).sort((te,de)=>te.overflows[1]-de.overflows[1])[0])==null?void 0:H.placement;if(!le)switch(w){case"bestFit":{var we;const te=(we=M.filter(de=>{if(U){const V=Qs(de.placement);return V===B||V==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(V=>V>0).reduce((V,ie)=>V+ie,0)]).sort((de,V)=>de[1]-V[1])[0])==null?void 0:we[0];te&&(le=te);break}case"initialPlacement":le=d;break}if(s!==le)return{reset:{placement:le}}}return{}}}};function AA(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function CA(n){return aB.some(e=>n[e]>=0)}const yB=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=ta(n,e);switch(r){case"referenceHidden":{const o=await Nf(e,{...s,elementContext:"reference"}),u=AA(o,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:CA(u)}}}case"escaped":{const o=await Nf(e,{...s,altBoundary:!0}),u=AA(o,t.floating);return{data:{escapedOffsets:u,escaped:CA(u)}}}default:return{}}}}};async function vB(n,e){const{placement:t,platform:r,elements:s}=n,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),u=na(t),d=Ac(t),f=Qs(t)==="y",h=["left","top"].includes(u)?-1:1,g=o&&f?-1:1,v=ta(e,n);let{mainAxis:_,crossAxis:w,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof S=="number"&&(w=d==="end"?S*-1:S),f?{x:w*g,y:_*h}:{x:_*h,y:w*g}}const _B=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:o,placement:u,middlewareData:d}=e,f=await vB(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:u}}}}},bB=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:u=!1,limiter:d={fn:C=>{let{x:D,y:B}=C;return{x:D,y:B}}},...f}=ta(n,e),h={x:t,y:r},g=await Nf(e,f),v=Qs(na(s)),_=qb(v);let w=h[_],S=h[v];if(o){const C=_==="y"?"top":"left",D=_==="y"?"bottom":"right",B=w+g[C],j=w-g[D];w=T0(B,w,j)}if(u){const C=v==="y"?"top":"left",D=v==="y"?"bottom":"right",B=S+g[C],j=S-g[D];S=T0(B,S,j)}const R=d.fn({...e,[_]:w,[v]:S});return{...R,data:{x:R.x-t,y:R.y-r,enabled:{[_]:o,[v]:u}}}}}},wB=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:o,middlewareData:u}=e,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=ta(n,e),g={x:t,y:r},v=Qs(s),_=qb(v);let w=g[_],S=g[v];const R=ta(d,e),C=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(f){const j=_==="y"?"height":"width",$=o.reference[_]-o.floating[j]+C.mainAxis,Q=o.reference[_]+o.reference[j]-C.mainAxis;w<$?w=$:w>Q&&(w=Q)}if(h){var D,B;const j=_==="y"?"width":"height",$=["top","left"].includes(na(s)),Q=o.reference[v]-o.floating[j]+($&&((D=u.offset)==null?void 0:D[v])||0)+($?0:C.crossAxis),U=o.reference[v]+o.reference[j]+($?0:((B=u.offset)==null?void 0:B[v])||0)-($?C.crossAxis:0);S<Q?S=Q:S>U&&(S=U)}return{[_]:w,[v]:S}}}},EB=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:o,platform:u,elements:d}=e,{apply:f=()=>{},...h}=ta(n,e),g=await Nf(e,h),v=na(s),_=Ac(s),w=Qs(s)==="y",{width:S,height:R}=o.floating;let C,D;v==="top"||v==="bottom"?(C=v,D=_===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(D=v,C=_==="end"?"top":"bottom");const B=R-g.top-g.bottom,j=S-g.left-g.right,$=_o(R-g[C],B),Q=_o(S-g[D],j),U=!e.middlewareData.shift;let P=$,A=Q;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=B),U&&!_){const M=Pr(g.left,0),z=Pr(g.right,0),H=Pr(g.top,0),L=Pr(g.bottom,0);w?A=S-2*(M!==0||z!==0?M+z:Pr(g.left,g.right)):P=R-2*(H!==0||L!==0?H+L:Pr(g.top,g.bottom))}await f({...e,availableWidth:A,availableHeight:P});const O=await u.getDimensions(d.floating);return S!==O.width||R!==O.height?{reset:{rects:!0}}:{}}}};function Eg(){return typeof window<"u"}function Cc(n){return ZO(n)?(n.nodeName||"").toLowerCase():"#document"}function jr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function hs(n){var e;return(e=(ZO(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function ZO(n){return Eg()?n instanceof Node||n instanceof jr(n).Node:!1}function Si(n){return Eg()?n instanceof Element||n instanceof jr(n).Element:!1}function cs(n){return Eg()?n instanceof HTMLElement||n instanceof jr(n).HTMLElement:!1}function IA(n){return!Eg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof jr(n).ShadowRoot}function ih(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=xi(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function TB(n){return["table","td","th"].includes(Cc(n))}function Tg(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Kb(n){const e=Qb(),t=Si(n)?xi(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function SB(n){let e=bo(n);for(;cs(e)&&!gc(e);){if(Kb(e))return e;if(Tg(e))return null;e=bo(e)}return null}function Qb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gc(n){return["html","body","#document"].includes(Cc(n))}function xi(n){return jr(n).getComputedStyle(n)}function Sg(n){return Si(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function bo(n){if(Cc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||IA(n)&&n.host||hs(n);return IA(e)?e.host:e}function XO(n){const e=bo(n);return gc(e)?n.ownerDocument?n.ownerDocument.body:n.body:cs(e)&&ih(e)?e:XO(e)}function Df(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=XO(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),u=jr(s);if(o){const d=x0(u);return e.concat(u,u.visualViewport||[],ih(s)?s:[],d&&t?Df(d):[])}return e.concat(s,Df(s,[],t))}function x0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function JO(n){const e=xi(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=cs(n),o=s?n.offsetWidth:t,u=s?n.offsetHeight:r,d=zm(t)!==o||zm(r)!==u;return d&&(t=o,r=u),{width:t,height:r,$:d}}function Yb(n){return Si(n)?n:n.contextElement}function Hu(n){const e=Yb(n);if(!cs(e))return ss(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=JO(e);let u=(o?zm(t.width):t.width)/r,d=(o?zm(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const xB=ss(0);function ek(n){const e=jr(n);return!Qb()||!e.visualViewport?xB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RB(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==jr(n)?!1:e}function Ol(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),o=Yb(n);let u=ss(1);e&&(r?Si(r)&&(u=Hu(r)):u=Hu(n));const d=RB(o,t,r)?ek(o):ss(0);let f=(s.left+d.x)/u.x,h=(s.top+d.y)/u.y,g=s.width/u.x,v=s.height/u.y;if(o){const _=jr(o),w=r&&Si(r)?jr(r):r;let S=_,R=x0(S);for(;R&&r&&w!==S;){const C=Hu(R),D=R.getBoundingClientRect(),B=xi(R),j=D.left+(R.clientLeft+parseFloat(B.paddingLeft))*C.x,$=D.top+(R.clientTop+parseFloat(B.paddingTop))*C.y;f*=C.x,h*=C.y,g*=C.x,v*=C.y,f+=j,h+=$,S=jr(R),R=x0(S)}}return Bm({width:g,height:v,x:f,y:h})}function Wb(n,e){const t=Sg(n).scrollLeft;return e?e.left+t:Ol(hs(n)).left+t}function tk(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:Wb(n,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function AB(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const o=s==="fixed",u=hs(r),d=e?Tg(e.floating):!1;if(r===u||d&&o)return t;let f={scrollLeft:0,scrollTop:0},h=ss(1);const g=ss(0),v=cs(r);if((v||!v&&!o)&&((Cc(r)!=="body"||ih(u))&&(f=Sg(r)),cs(r))){const w=Ol(r);h=Hu(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const _=u&&!v&&!o?tk(u,f,!0):ss(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+g.x+_.x,y:t.y*h.y-f.scrollTop*h.y+g.y+_.y}}function CB(n){return Array.from(n.getClientRects())}function IB(n){const e=hs(n),t=Sg(n),r=n.ownerDocument.body,s=Pr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Pr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+Wb(n);const d=-t.scrollTop;return xi(r).direction==="rtl"&&(u+=Pr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:u,y:d}}function OB(n,e){const t=jr(n),r=hs(n),s=t.visualViewport;let o=r.clientWidth,u=r.clientHeight,d=0,f=0;if(s){o=s.width,u=s.height;const h=Qb();(!h||h&&e==="fixed")&&(d=s.offsetLeft,f=s.offsetTop)}return{width:o,height:u,x:d,y:f}}function kB(n,e){const t=Ol(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,o=cs(n)?Hu(n):ss(1),u=n.clientWidth*o.x,d=n.clientHeight*o.y,f=s*o.x,h=r*o.y;return{width:u,height:d,x:f,y:h}}function OA(n,e,t){let r;if(e==="viewport")r=OB(n,t);else if(e==="document")r=IB(hs(n));else if(Si(e))r=kB(e,t);else{const s=ek(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Bm(r)}function nk(n,e){const t=bo(n);return t===e||!Si(t)||gc(t)?!1:xi(t).position==="fixed"||nk(t,e)}function NB(n,e){const t=e.get(n);if(t)return t;let r=Df(n,[],!1).filter(d=>Si(d)&&Cc(d)!=="body"),s=null;const o=xi(n).position==="fixed";let u=o?bo(n):n;for(;Si(u)&&!gc(u);){const d=xi(u),f=Kb(u);!f&&d.position==="fixed"&&(s=null),(o?!f&&!s:!f&&d.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ih(u)&&!f&&nk(n,u))?r=r.filter(g=>g!==u):s=d,u=bo(u)}return e.set(n,r),r}function DB(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const u=[...t==="clippingAncestors"?Tg(e)?[]:NB(e,this._c):[].concat(t),r],d=u[0],f=u.reduce((h,g)=>{const v=OA(e,g,s);return h.top=Pr(v.top,h.top),h.right=_o(v.right,h.right),h.bottom=_o(v.bottom,h.bottom),h.left=Pr(v.left,h.left),h},OA(e,d,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function PB(n){const{width:e,height:t}=JO(n);return{width:e,height:t}}function MB(n,e,t){const r=cs(e),s=hs(e),o=t==="fixed",u=Ol(n,!0,o,e);let d={scrollLeft:0,scrollTop:0};const f=ss(0);function h(){f.x=Wb(s)}if(r||!r&&!o)if((Cc(e)!=="body"||ih(s))&&(d=Sg(e)),r){const w=Ol(e,!0,o,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else s&&h();o&&!r&&s&&h();const g=s&&!r&&!o?tk(s,d):ss(0),v=u.left+d.scrollLeft-f.x-g.x,_=u.top+d.scrollTop-f.y-g.y;return{x:v,y:_,width:u.width,height:u.height}}function d_(n){return xi(n).position==="static"}function kA(n,e){if(!cs(n)||xi(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return hs(n)===t&&(t=t.ownerDocument.body),t}function rk(n,e){const t=jr(n);if(Tg(n))return t;if(!cs(n)){let s=bo(n);for(;s&&!gc(s);){if(Si(s)&&!d_(s))return s;s=bo(s)}return t}let r=kA(n,e);for(;r&&TB(r)&&d_(r);)r=kA(r,e);return r&&gc(r)&&d_(r)&&!Kb(r)?t:r||SB(n)||t}const LB=async function(n){const e=this.getOffsetParent||rk,t=this.getDimensions,r=await t(n.floating);return{reference:MB(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VB(n){return xi(n).direction==="rtl"}const UB={convertOffsetParentRelativeRectToViewportRelativeRect:AB,getDocumentElement:hs,getClippingRect:DB,getOffsetParent:rk,getElementRects:LB,getClientRects:CB,getDimensions:PB,getScale:Hu,isElement:Si,isRTL:VB};function ik(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function jB(n,e){let t=null,r;const s=hs(n);function o(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=n.getBoundingClientRect(),{left:g,top:v,width:_,height:w}=h;if(d||e(),!_||!w)return;const S=Vp(v),R=Vp(s.clientWidth-(g+_)),C=Vp(s.clientHeight-(v+w)),D=Vp(g),j={rootMargin:-S+"px "+-R+"px "+-C+"px "+-D+"px",threshold:Pr(0,_o(1,f))||1};let $=!0;function Q(U){const P=U[0].intersectionRatio;if(P!==f){if(!$)return u();P?u(!1,P):r=setTimeout(()=>{u(!1,1e-7)},1e3)}P===1&&!ik(h,n.getBoundingClientRect())&&u(),$=!1}try{t=new IntersectionObserver(Q,{...j,root:s.ownerDocument})}catch{t=new IntersectionObserver(Q,j)}t.observe(n)}return u(!0),o}function zB(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=Yb(n),g=s||o?[...h?Df(h):[],...Df(e)]:[];g.forEach(D=>{s&&D.addEventListener("scroll",t,{passive:!0}),o&&D.addEventListener("resize",t)});const v=h&&d?jB(h,t):null;let _=-1,w=null;u&&(w=new ResizeObserver(D=>{let[B]=D;B&&B.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var j;(j=w)==null||j.observe(e)})),t()}),h&&!f&&w.observe(h),w.observe(e));let S,R=f?Ol(n):null;f&&C();function C(){const D=Ol(n);R&&!ik(R,D)&&t(),R=D,S=requestAnimationFrame(C)}return t(),()=>{var D;g.forEach(B=>{s&&B.removeEventListener("scroll",t),o&&B.removeEventListener("resize",t)}),v==null||v(),(D=w)==null||D.disconnect(),w=null,f&&cancelAnimationFrame(S)}}const FB=_B,BB=bB,HB=gB,qB=EB,$B=yB,NA=mB,GB=wB,KB=(n,e,t)=>{const r=new Map,s={platform:UB,...t},o={...s.platform,_c:r};return pB(n,e,{...s,platform:o})};var tm=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Hm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Hm(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const o=s[r];if(!(o==="_owner"&&n.$$typeof)&&!Hm(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function sk(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function DA(n,e){const t=sk(n);return Math.round(e*t)/t}function f_(n){const e=x.useRef(n);return tm(()=>{e.current=n}),e}function QB(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:u}={},transform:d=!0,whileElementsMounted:f,open:h}=n,[g,v]=x.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,w]=x.useState(r);Hm(_,r)||w(r);const[S,R]=x.useState(null),[C,D]=x.useState(null),B=x.useCallback(te=>{te!==U.current&&(U.current=te,R(te))},[]),j=x.useCallback(te=>{te!==P.current&&(P.current=te,D(te))},[]),$=o||S,Q=u||C,U=x.useRef(null),P=x.useRef(null),A=x.useRef(g),O=f!=null,M=f_(f),z=f_(s),H=f_(h),L=x.useCallback(()=>{if(!U.current||!P.current)return;const te={placement:e,strategy:t,middleware:_};z.current&&(te.platform=z.current),KB(U.current,P.current,te).then(de=>{const V={...de,isPositioned:H.current!==!1};we.current&&!Hm(A.current,V)&&(A.current=V,Ym.flushSync(()=>{v(V)}))})},[_,e,t,z,H]);tm(()=>{h===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,v(te=>({...te,isPositioned:!1})))},[h]);const we=x.useRef(!1);tm(()=>(we.current=!0,()=>{we.current=!1}),[]),tm(()=>{if($&&(U.current=$),Q&&(P.current=Q),$&&Q){if(M.current)return M.current($,Q,L);L()}},[$,Q,L,M,O]);const Ee=x.useMemo(()=>({reference:U,floating:P,setReference:B,setFloating:j}),[B,j]),K=x.useMemo(()=>({reference:$,floating:Q}),[$,Q]),le=x.useMemo(()=>{const te={position:t,left:0,top:0};if(!K.floating)return te;const de=DA(K.floating,g.x),V=DA(K.floating,g.y);return d?{...te,transform:"translate("+de+"px, "+V+"px)",...sk(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:de,top:V}},[t,d,K.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:L,refs:Ee,elements:K,floatingStyles:le}),[g,L,Ee,K,le])}const YB=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?NA({element:r.current,padding:s}).fn(t):{}:r?NA({element:r,padding:s}).fn(t):{}}}},WB=(n,e)=>({...FB(n),options:[n,e]}),ZB=(n,e)=>({...BB(n),options:[n,e]}),XB=(n,e)=>({...GB(n),options:[n,e]}),JB=(n,e)=>({...HB(n),options:[n,e]}),eH=(n,e)=>({...qB(n),options:[n,e]}),tH=(n,e)=>({...$B(n),options:[n,e]}),nH=(n,e)=>({...YB(n),options:[n,e]});var rH="Arrow",ak=x.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...o}=n;return k.jsx(Bn.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:k.jsx("polygon",{points:"0,0 30,0 15,10"})})});ak.displayName=rH;var iH=ak;function sH(n){const[e,t]=x.useState(void 0);return vo(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let u,d;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;u=h.inlineSize,d=h.blockSize}else u=n.offsetWidth,d=n.offsetHeight;t({width:u,height:d})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Zb="Popper",[ok,xg]=Rc(Zb),[aH,lk]=ok(Zb),uk=n=>{const{__scopePopper:e,children:t}=n,[r,s]=x.useState(null);return k.jsx(aH,{scope:e,anchor:r,onAnchorChange:s,children:t})};uk.displayName=Zb;var ck="PopperAnchor",dk=x.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,o=lk(ck,t),u=x.useRef(null),d=tr(e,u);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:k.jsx(Bn.div,{...s,ref:d})});dk.displayName=ck;var Xb="PopperContent",[oH,lH]=ok(Xb),fk=x.forwardRef((n,e)=>{var Ge,ht,Dt,bt,Yt,Tn;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:_=!1,updatePositionStrategy:w="optimized",onPlaced:S,...R}=n,C=lk(Xb,t),[D,B]=x.useState(null),j=tr(e,rr=>B(rr)),[$,Q]=x.useState(null),U=sH($),P=(U==null?void 0:U.width)??0,A=(U==null?void 0:U.height)??0,O=r+(o!=="center"?"-"+o:""),M=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},z=Array.isArray(h)?h:[h],H=z.length>0,L={padding:M,boundary:z.filter(cH),altBoundary:H},{refs:we,floatingStyles:Ee,placement:K,isPositioned:le,middlewareData:te}=QB({strategy:"fixed",placement:O,whileElementsMounted:(...rr)=>zB(...rr,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[WB({mainAxis:s+A,alignmentAxis:u}),f&&ZB({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?XB():void 0,...L}),f&&JB({...L}),eH({...L,apply:({elements:rr,rects:Sn,availableWidth:ps,availableHeight:ia})=>{const{width:kn,height:Co}=Sn.reference,zr=rr.floating.style;zr.setProperty("--radix-popper-available-width",`${ps}px`),zr.setProperty("--radix-popper-available-height",`${ia}px`),zr.setProperty("--radix-popper-anchor-width",`${kn}px`),zr.setProperty("--radix-popper-anchor-height",`${Co}px`)}}),$&&nH({element:$,padding:d}),dH({arrowWidth:P,arrowHeight:A}),_&&tH({strategy:"referenceHidden",...L})]}),[de,V]=mk(K),ie=ea(S);vo(()=>{le&&(ie==null||ie())},[le,ie]);const pe=(Ge=te.arrow)==null?void 0:Ge.x,oe=(ht=te.arrow)==null?void 0:ht.y,_e=((Dt=te.arrow)==null?void 0:Dt.centerOffset)!==0,[Ue,Ce]=x.useState();return vo(()=>{D&&Ce(window.getComputedStyle(D).zIndex)},[D]),k.jsx("div",{ref:we.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:le?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(bt=te.transformOrigin)==null?void 0:bt.x,(Yt=te.transformOrigin)==null?void 0:Yt.y].join(" "),...((Tn=te.hide)==null?void 0:Tn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:k.jsx(oH,{scope:t,placedSide:de,onArrowChange:Q,arrowX:pe,arrowY:oe,shouldHideArrow:_e,children:k.jsx(Bn.div,{"data-side":de,"data-align":V,...R,ref:j,style:{...R.style,animation:le?void 0:"none"}})})})});fk.displayName=Xb;var hk="PopperArrow",uH={top:"bottom",right:"left",bottom:"top",left:"right"},pk=x.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,o=lH(hk,r),u=uH[o.placedSide];return k.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:k.jsx(iH,{...s,ref:t,style:{...s.style,display:"block"}})})});pk.displayName=hk;function cH(n){return n!==null}var dH=n=>({name:"transformOrigin",options:n,fn(e){var C,D,B;const{placement:t,rects:r,middlewareData:s}=e,u=((C=s.arrow)==null?void 0:C.centerOffset)!==0,d=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[h,g]=mk(t),v={start:"0%",center:"50%",end:"100%"}[g],_=(((D=s.arrow)==null?void 0:D.x)??0)+d/2,w=(((B=s.arrow)==null?void 0:B.y)??0)+f/2;let S="",R="";return h==="bottom"?(S=u?v:`${_}px`,R=`${-f}px`):h==="top"?(S=u?v:`${_}px`,R=`${r.floating.height+f}px`):h==="right"?(S=`${-f}px`,R=u?v:`${w}px`):h==="left"&&(S=`${r.floating.width+f}px`,R=u?v:`${w}px`),{data:{x:S,y:R}}}});function mk(n){const[e,t="center"]=n.split("-");return[e,t]}var gk=uk,yk=dk,vk=fk,_k=pk,fH="Portal",Jb=x.forwardRef((n,e)=>{var d;const{container:t,...r}=n,[s,o]=x.useState(!1);vo(()=>o(!0),[]);const u=t||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?f2.createPortal(k.jsx(Bn.div,{...r,ref:e}),u):null});Jb.displayName=fH;function hH(n,e){return x.useReducer((t,r)=>e[t][r]??t,n)}var Ml=n=>{const{present:e,children:t}=n,r=pH(e),s=typeof t=="function"?t({present:r.isPresent}):x.Children.only(t),o=tr(r.ref,mH(s));return typeof t=="function"||r.isPresent?x.cloneElement(s,{ref:o}):null};Ml.displayName="Presence";function pH(n){const[e,t]=x.useState(),r=x.useRef(null),s=x.useRef(n),o=x.useRef("none"),u=n?"mounted":"unmounted",[d,f]=hH(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=Up(r.current);o.current=d==="mounted"?h:"none"},[d]),vo(()=>{const h=r.current,g=s.current;if(g!==n){const _=o.current,w=Up(h);n?f("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(g&&_!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,f]),vo(()=>{if(e){let h;const g=e.ownerDocument.defaultView??window,v=w=>{const R=Up(r.current).includes(w.animationName);if(w.target===e&&R&&(f("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},_=w=>{w.target===e&&(o.current=Up(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(h),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function Up(n){return(n==null?void 0:n.animationName)||"none"}function mH(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var h_="rovingFocusGroup.onEntryFocus",gH={bubbles:!1,cancelable:!0},sh="RovingFocusGroup",[R0,bk,yH]=qO(sh),[vH,wk]=Rc(sh,[yH]),[_H,bH]=vH(sh),Ek=x.forwardRef((n,e)=>k.jsx(R0.Provider,{scope:n.__scopeRovingFocusGroup,children:k.jsx(R0.Slot,{scope:n.__scopeRovingFocusGroup,children:k.jsx(wH,{...n,ref:e})})}));Ek.displayName=sh;var wH=x.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:o,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...v}=n,_=x.useRef(null),w=tr(e,_),S=$O(o),[R,C]=Bb({prop:u,defaultProp:d??null,onChange:f,caller:sh}),[D,B]=x.useState(!1),j=ea(h),$=bk(t),Q=x.useRef(!1),[U,P]=x.useState(0);return x.useEffect(()=>{const A=_.current;if(A)return A.addEventListener(h_,j),()=>A.removeEventListener(h_,j)},[j]),k.jsx(_H,{scope:t,orientation:r,dir:S,loop:s,currentTabStopId:R,onItemFocus:x.useCallback(A=>C(A),[C]),onItemShiftTab:x.useCallback(()=>B(!0),[]),onFocusableItemAdd:x.useCallback(()=>P(A=>A+1),[]),onFocusableItemRemove:x.useCallback(()=>P(A=>A-1),[]),children:k.jsx(Bn.div,{tabIndex:D||U===0?-1:0,"data-orientation":r,...v,ref:w,style:{outline:"none",...n.style},onMouseDown:st(n.onMouseDown,()=>{Q.current=!0}),onFocus:st(n.onFocus,A=>{const O=!Q.current;if(A.target===A.currentTarget&&O&&!D){const M=new CustomEvent(h_,gH);if(A.currentTarget.dispatchEvent(M),!M.defaultPrevented){const z=$().filter(K=>K.focusable),H=z.find(K=>K.active),L=z.find(K=>K.id===R),Ee=[H,L,...z].filter(Boolean).map(K=>K.ref.current);xk(Ee,g)}}Q.current=!1}),onBlur:st(n.onBlur,()=>B(!1))})})}),Tk="RovingFocusGroupItem",Sk=x.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:o,children:u,...d}=n,f=jm(),h=o||f,g=bH(Tk,t),v=g.currentTabStopId===h,_=bk(t),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:R}=g;return x.useEffect(()=>{if(r)return w(),()=>S()},[r,w,S]),k.jsx(R0.ItemSlot,{scope:t,id:h,focusable:r,active:s,children:k.jsx(Bn.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...d,ref:e,onMouseDown:st(n.onMouseDown,C=>{r?g.onItemFocus(h):C.preventDefault()}),onFocus:st(n.onFocus,()=>g.onItemFocus(h)),onKeyDown:st(n.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){g.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const D=SH(C,g.orientation,g.dir);if(D!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let j=_().filter($=>$.focusable).map($=>$.ref.current);if(D==="last")j.reverse();else if(D==="prev"||D==="next"){D==="prev"&&j.reverse();const $=j.indexOf(C.currentTarget);j=g.loop?xH(j,$+1):j.slice($+1)}setTimeout(()=>xk(j))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:R!=null}):u})})});Sk.displayName=Tk;var EH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TH(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function SH(n,e,t){const r=TH(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return EH[r]}function xk(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function xH(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var RH=Ek,AH=Sk,CH=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Au=new WeakMap,jp=new WeakMap,zp={},p_=0,Rk=function(n){return n&&(n.host||Rk(n.parentNode))},IH=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=Rk(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},OH=function(n,e,t,r){var s=IH(e,Array.isArray(n)?n:[n]);zp[t]||(zp[t]=new WeakMap);var o=zp[t],u=[],d=new Set,f=new Set(s),h=function(v){!v||d.has(v)||(d.add(v),h(v.parentNode))};s.forEach(h);var g=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(_){if(d.has(_))g(_);else try{var w=_.getAttribute(r),S=w!==null&&w!=="false",R=(Au.get(_)||0)+1,C=(o.get(_)||0)+1;Au.set(_,R),o.set(_,C),u.push(_),R===1&&S&&jp.set(_,!0),C===1&&_.setAttribute(t,"true"),S||_.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",_,D)}})};return g(e),d.clear(),p_++,function(){u.forEach(function(v){var _=Au.get(v)-1,w=o.get(v)-1;Au.set(v,_),o.set(v,w),_||(jp.has(v)||v.removeAttribute(r),jp.delete(v)),w||v.removeAttribute(t)}),p_--,p_||(Au=new WeakMap,Au=new WeakMap,jp=new WeakMap,zp={})}},kH=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=CH(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),OH(r,s,t,"aria-hidden")):function(){return null}},nm="right-scroll-bar-position",rm="width-before-scroll-bar",NH="with-scroll-bars-hidden",DH="--removed-body-scroll-bar-size";function m_(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function PH(n,e){var t=x.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var MH=typeof window<"u"?x.useLayoutEffect:x.useEffect,PA=new WeakMap;function LH(n,e){var t=PH(null,function(r){return n.forEach(function(s){return m_(s,r)})});return MH(function(){var r=PA.get(t);if(r){var s=new Set(r),o=new Set(n),u=t.current;s.forEach(function(d){o.has(d)||m_(d,null)}),o.forEach(function(d){s.has(d)||m_(d,u)})}PA.set(t,n)},[n]),t}function VH(n){return n}function UH(n,e){e===void 0&&(e=VH);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var u=e(o,r);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(o){for(r=!0;t.length;){var u=t;t=[],u.forEach(o)}t={push:function(d){return o(d)},filter:function(){return t}}},assignMedium:function(o){r=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(o),u=t}var f=function(){var g=u;u=[],g.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),t={push:function(g){u.push(g),h()},filter:function(g){return u=u.filter(g),t}}}};return s}function jH(n){n===void 0&&(n={});var e=UH(null);return e.options=Wi({async:!0,ssr:!1},n),e}var Ak=function(n){var e=n.sideCar,t=Kf(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Wi({},t))};Ak.isSideCarExport=!0;function zH(n,e){return n.useMedium(e),Ak}var Ck=jH(),g_=function(){},Rg=x.forwardRef(function(n,e){var t=x.useRef(null),r=x.useState({onScrollCapture:g_,onWheelCapture:g_,onTouchMoveCapture:g_}),s=r[0],o=r[1],u=n.forwardProps,d=n.children,f=n.className,h=n.removeScrollBar,g=n.enabled,v=n.shards,_=n.sideCar,w=n.noRelative,S=n.noIsolation,R=n.inert,C=n.allowPinchZoom,D=n.as,B=D===void 0?"div":D,j=n.gapMode,$=Kf(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Q=_,U=LH([t,e]),P=Wi(Wi({},$),s);return x.createElement(x.Fragment,null,g&&x.createElement(Q,{sideCar:Ck,removeScrollBar:h,shards:v,noRelative:w,noIsolation:S,inert:R,setCallbacks:o,allowPinchZoom:!!C,lockRef:t,gapMode:j}),u?x.cloneElement(x.Children.only(d),Wi(Wi({},P),{ref:U})):x.createElement(B,Wi({},P,{className:f,ref:U}),d))});Rg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rg.classNames={fullWidth:rm,zeroRight:nm};var FH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BH(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=FH();return e&&n.setAttribute("nonce",e),n}function HH(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function qH(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var $H=function(){var n=0,e=null;return{add:function(t){n==0&&(e=BH())&&(HH(e,t),qH(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},GH=function(){var n=$H();return function(e,t){x.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Ik=function(){var n=GH(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},KH={left:0,top:0,right:0,gap:0},y_=function(n){return parseInt(n||"",10)||0},QH=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[y_(t),y_(r),y_(s)]},YH=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return KH;var e=QH(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},WH=Ik(),qu="data-scroll-locked",ZH=function(n,e,t,r){var s=n.left,o=n.top,u=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(NH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(qu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nm,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(rm,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(nm," .").concat(nm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rm," .").concat(rm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qu,`] {
    `).concat(DH,": ").concat(d,`px;
  }
`)},MA=function(){var n=parseInt(document.body.getAttribute(qu)||"0",10);return isFinite(n)?n:0},XH=function(){x.useEffect(function(){return document.body.setAttribute(qu,(MA()+1).toString()),function(){var n=MA()-1;n<=0?document.body.removeAttribute(qu):document.body.setAttribute(qu,n.toString())}},[])},JH=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;XH();var o=x.useMemo(function(){return YH(s)},[s]);return x.createElement(WH,{styles:ZH(o,!e,s,t?"":"!important")})},A0=!1;if(typeof window<"u")try{var Fp=Object.defineProperty({},"passive",{get:function(){return A0=!0,!0}});window.addEventListener("test",Fp,Fp),window.removeEventListener("test",Fp,Fp)}catch{A0=!1}var Cu=A0?{passive:!1}:!1,e8=function(n){return n.tagName==="TEXTAREA"},Ok=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!e8(n)&&t[e]==="visible")},t8=function(n){return Ok(n,"overflowY")},n8=function(n){return Ok(n,"overflowX")},LA=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=kk(n,r);if(s){var o=Nk(n,r),u=o[1],d=o[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},r8=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},i8=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},kk=function(n,e){return n==="v"?t8(e):n8(e)},Nk=function(n,e){return n==="v"?r8(e):i8(e)},s8=function(n,e){return n==="h"&&e==="rtl"?-1:1},a8=function(n,e,t,r,s){var o=s8(n,window.getComputedStyle(e).direction),u=o*r,d=t.target,f=e.contains(d),h=!1,g=u>0,v=0,_=0;do{if(!d)break;var w=Nk(n,d),S=w[0],R=w[1],C=w[2],D=R-C-o*S;(S||D)&&kk(n,d)&&(v+=D,_+=S);var B=d.parentNode;d=B&&B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?B.host:B}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(g&&Math.abs(v)<1||!g&&Math.abs(_)<1)&&(h=!0),h},Bp=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},VA=function(n){return[n.deltaX,n.deltaY]},UA=function(n){return n&&"current"in n?n.current:n},o8=function(n,e){return n[0]===e[0]&&n[1]===e[1]},l8=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},u8=0,Iu=[];function c8(n){var e=x.useRef([]),t=x.useRef([0,0]),r=x.useRef(),s=x.useState(u8++)[0],o=x.useState(Ik)[0],u=x.useRef(n);x.useEffect(function(){u.current=n},[n]),x.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var R=KU([n.lockRef.current],(n.shards||[]).map(UA),!0).filter(Boolean);return R.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),R.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var d=x.useCallback(function(R,C){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var D=Bp(R),B=t.current,j="deltaX"in R?R.deltaX:B[0]-D[0],$="deltaY"in R?R.deltaY:B[1]-D[1],Q,U=R.target,P=Math.abs(j)>Math.abs($)?"h":"v";if("touches"in R&&P==="h"&&U.type==="range")return!1;var A=LA(P,U);if(!A)return!0;if(A?Q=P:(Q=P==="v"?"h":"v",A=LA(P,U)),!A)return!1;if(!r.current&&"changedTouches"in R&&(j||$)&&(r.current=Q),!Q)return!0;var O=r.current||Q;return a8(O,C,R,O==="h"?j:$)},[]),f=x.useCallback(function(R){var C=R;if(!(!Iu.length||Iu[Iu.length-1]!==o)){var D="deltaY"in C?VA(C):Bp(C),B=e.current.filter(function(Q){return Q.name===C.type&&(Q.target===C.target||C.target===Q.shadowParent)&&o8(Q.delta,D)})[0];if(B&&B.should){C.cancelable&&C.preventDefault();return}if(!B){var j=(u.current.shards||[]).map(UA).filter(Boolean).filter(function(Q){return Q.contains(C.target)}),$=j.length>0?d(C,j[0]):!u.current.noIsolation;$&&C.cancelable&&C.preventDefault()}}},[]),h=x.useCallback(function(R,C,D,B){var j={name:R,delta:C,target:D,should:B,shadowParent:d8(D)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function($){return $!==j})},1)},[]),g=x.useCallback(function(R){t.current=Bp(R),r.current=void 0},[]),v=x.useCallback(function(R){h(R.type,VA(R),R.target,d(R,n.lockRef.current))},[]),_=x.useCallback(function(R){h(R.type,Bp(R),R.target,d(R,n.lockRef.current))},[]);x.useEffect(function(){return Iu.push(o),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:_}),document.addEventListener("wheel",f,Cu),document.addEventListener("touchmove",f,Cu),document.addEventListener("touchstart",g,Cu),function(){Iu=Iu.filter(function(R){return R!==o}),document.removeEventListener("wheel",f,Cu),document.removeEventListener("touchmove",f,Cu),document.removeEventListener("touchstart",g,Cu)}},[]);var w=n.removeScrollBar,S=n.inert;return x.createElement(x.Fragment,null,S?x.createElement(o,{styles:l8(s)}):null,w?x.createElement(JH,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function d8(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const f8=zH(Ck,c8);var Dk=x.forwardRef(function(n,e){return x.createElement(Rg,Wi({},n,{ref:e,sideCar:f8}))});Dk.classNames=Rg.classNames;var C0=["Enter"," "],h8=["ArrowDown","PageUp","Home"],Pk=["ArrowUp","PageDown","End"],p8=[...h8,...Pk],m8={ltr:[...C0,"ArrowRight"],rtl:[...C0,"ArrowLeft"]},g8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ah="Menu",[Pf,y8,v8]=qO(ah),[Ll,Mk]=Rc(ah,[v8,xg,wk]),Ag=xg(),Lk=wk(),[_8,Vl]=Ll(ah),[b8,oh]=Ll(ah),Vk=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:o,modal:u=!0}=n,d=Ag(e),[f,h]=x.useState(null),g=x.useRef(!1),v=ea(o),_=$O(s);return x.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),k.jsx(gk,{...d,children:k.jsx(_8,{scope:e,open:t,onOpenChange:v,content:f,onContentChange:h,children:k.jsx(b8,{scope:e,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:_,modal:u,children:r})})})};Vk.displayName=ah;var w8="MenuAnchor",ew=x.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Ag(t);return k.jsx(yk,{...s,...r,ref:e})});ew.displayName=w8;var tw="MenuPortal",[E8,Uk]=Ll(tw,{forceMount:void 0}),jk=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,o=Vl(tw,e);return k.jsx(E8,{scope:e,forceMount:t,children:k.jsx(Ml,{present:t||o.open,children:k.jsx(Jb,{asChild:!0,container:s,children:r})})})};jk.displayName=tw;var oi="MenuContent",[T8,nw]=Ll(oi),zk=x.forwardRef((n,e)=>{const t=Uk(oi,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,o=Vl(oi,n.__scopeMenu),u=oh(oi,n.__scopeMenu);return k.jsx(Pf.Provider,{scope:n.__scopeMenu,children:k.jsx(Ml,{present:r||o.open,children:k.jsx(Pf.Slot,{scope:n.__scopeMenu,children:u.modal?k.jsx(S8,{...s,ref:e}):k.jsx(x8,{...s,ref:e})})})})}),S8=x.forwardRef((n,e)=>{const t=Vl(oi,n.__scopeMenu),r=x.useRef(null),s=tr(e,r);return x.useEffect(()=>{const o=r.current;if(o)return kH(o)},[]),k.jsx(rw,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:st(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),x8=x.forwardRef((n,e)=>{const t=Vl(oi,n.__scopeMenu);return k.jsx(rw,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),R8=kf("MenuContent.ScrollLock"),rw=x.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:_,onDismiss:w,disableOutsideScroll:S,...R}=n,C=Vl(oi,t),D=oh(oi,t),B=Ag(t),j=Lk(t),$=y8(t),[Q,U]=x.useState(null),P=x.useRef(null),A=tr(e,P,C.onContentChange),O=x.useRef(0),M=x.useRef(""),z=x.useRef(0),H=x.useRef(null),L=x.useRef("right"),we=x.useRef(0),Ee=S?Dk:x.Fragment,K=S?{as:R8,allowPinchZoom:!0}:void 0,le=de=>{var Ge,ht;const V=M.current+de,ie=$().filter(Dt=>!Dt.disabled),pe=document.activeElement,oe=(Ge=ie.find(Dt=>Dt.ref.current===pe))==null?void 0:Ge.textValue,_e=ie.map(Dt=>Dt.textValue),Ue=U8(_e,V,oe),Ce=(ht=ie.find(Dt=>Dt.textValue===Ue))==null?void 0:ht.ref.current;(function Dt(bt){M.current=bt,window.clearTimeout(O.current),bt!==""&&(O.current=window.setTimeout(()=>Dt(""),1e3))})(V),Ce&&setTimeout(()=>Ce.focus())};x.useEffect(()=>()=>window.clearTimeout(O.current),[]),W5();const te=x.useCallback(de=>{var ie,pe;return L.current===((ie=H.current)==null?void 0:ie.side)&&z8(de,(pe=H.current)==null?void 0:pe.area)},[]);return k.jsx(T8,{scope:t,searchRef:M,onItemEnter:x.useCallback(de=>{te(de)&&de.preventDefault()},[te]),onItemLeave:x.useCallback(de=>{var V;te(de)||((V=P.current)==null||V.focus(),U(null))},[te]),onTriggerLeave:x.useCallback(de=>{te(de)&&de.preventDefault()},[te]),pointerGraceTimerRef:z,onPointerGraceIntentChange:x.useCallback(de=>{H.current=de},[]),children:k.jsx(Ee,{...K,children:k.jsx(QO,{asChild:!0,trapped:s,onMountAutoFocus:st(o,de=>{var V;de.preventDefault(),(V=P.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:k.jsx(Hb,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:_,onDismiss:w,children:k.jsx(RH,{asChild:!0,...j,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:Q,onCurrentTabStopIdChange:U,onEntryFocus:st(f,de=>{D.isUsingKeyboardRef.current||de.preventDefault()}),preventScrollOnEntryFocus:!0,children:k.jsx(vk,{role:"menu","aria-orientation":"vertical","data-state":nN(C.open),"data-radix-menu-content":"",dir:D.dir,...B,...R,ref:A,style:{outline:"none",...R.style},onKeyDown:st(R.onKeyDown,de=>{const ie=de.target.closest("[data-radix-menu-content]")===de.currentTarget,pe=de.ctrlKey||de.altKey||de.metaKey,oe=de.key.length===1;ie&&(de.key==="Tab"&&de.preventDefault(),!pe&&oe&&le(de.key));const _e=P.current;if(de.target!==_e||!p8.includes(de.key))return;de.preventDefault();const Ce=$().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);Pk.includes(de.key)&&Ce.reverse(),L8(Ce)}),onBlur:st(n.onBlur,de=>{de.currentTarget.contains(de.target)||(window.clearTimeout(O.current),M.current="")}),onPointerMove:st(n.onPointerMove,Mf(de=>{const V=de.target,ie=we.current!==de.clientX;if(de.currentTarget.contains(V)&&ie){const pe=de.clientX>we.current?"right":"left";L.current=pe,we.current=de.clientX}}))})})})})})})});zk.displayName=oi;var A8="MenuGroup",iw=x.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return k.jsx(Bn.div,{role:"group",...r,ref:e})});iw.displayName=A8;var C8="MenuLabel",Fk=x.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return k.jsx(Bn.div,{...r,ref:e})});Fk.displayName=C8;var qm="MenuItem",jA="menu.itemSelect",Cg=x.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,o=x.useRef(null),u=oh(qm,n.__scopeMenu),d=nw(qm,n.__scopeMenu),f=tr(e,o),h=x.useRef(!1),g=()=>{const v=o.current;if(!t&&v){const _=new CustomEvent(jA,{bubbles:!0,cancelable:!0});v.addEventListener(jA,w=>r==null?void 0:r(w),{once:!0}),HO(v,_),_.defaultPrevented?h.current=!1:u.onClose()}};return k.jsx(Bk,{...s,ref:f,disabled:t,onClick:st(n.onClick,g),onPointerDown:v=>{var _;(_=n.onPointerDown)==null||_.call(n,v),h.current=!0},onPointerUp:st(n.onPointerUp,v=>{var _;h.current||(_=v.currentTarget)==null||_.click()}),onKeyDown:st(n.onKeyDown,v=>{const _=d.searchRef.current!=="";t||_&&v.key===" "||C0.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Cg.displayName=qm;var Bk=x.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...o}=n,u=nw(qm,t),d=Lk(t),f=x.useRef(null),h=tr(e,f),[g,v]=x.useState(!1),[_,w]=x.useState("");return x.useEffect(()=>{const S=f.current;S&&w((S.textContent??"").trim())},[o.children]),k.jsx(Pf.ItemSlot,{scope:t,disabled:r,textValue:s??_,children:k.jsx(AH,{asChild:!0,...d,focusable:!r,children:k.jsx(Bn.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:h,onPointerMove:st(n.onPointerMove,Mf(S=>{r?u.onItemLeave(S):(u.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:st(n.onPointerLeave,Mf(S=>u.onItemLeave(S))),onFocus:st(n.onFocus,()=>v(!0)),onBlur:st(n.onBlur,()=>v(!1))})})})}),I8="MenuCheckboxItem",Hk=x.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return k.jsx(Qk,{scope:n.__scopeMenu,checked:t,children:k.jsx(Cg,{role:"menuitemcheckbox","aria-checked":$m(t)?"mixed":t,...s,ref:e,"data-state":aw(t),onSelect:st(s.onSelect,()=>r==null?void 0:r($m(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Hk.displayName=I8;var qk="MenuRadioGroup",[O8,k8]=Ll(qk,{value:void 0,onValueChange:()=>{}}),$k=x.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,o=ea(r);return k.jsx(O8,{scope:n.__scopeMenu,value:t,onValueChange:o,children:k.jsx(iw,{...s,ref:e})})});$k.displayName=qk;var Gk="MenuRadioItem",Kk=x.forwardRef((n,e)=>{const{value:t,...r}=n,s=k8(Gk,n.__scopeMenu),o=t===s.value;return k.jsx(Qk,{scope:n.__scopeMenu,checked:o,children:k.jsx(Cg,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":aw(o),onSelect:st(r.onSelect,()=>{var u;return(u=s.onValueChange)==null?void 0:u.call(s,t)},{checkForDefaultPrevented:!1})})})});Kk.displayName=Gk;var sw="MenuItemIndicator",[Qk,N8]=Ll(sw,{checked:!1}),Yk=x.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,o=N8(sw,t);return k.jsx(Ml,{present:r||$m(o.checked)||o.checked===!0,children:k.jsx(Bn.span,{...s,ref:e,"data-state":aw(o.checked)})})});Yk.displayName=sw;var D8="MenuSeparator",Wk=x.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return k.jsx(Bn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Wk.displayName=D8;var P8="MenuArrow",Zk=x.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Ag(t);return k.jsx(_k,{...s,...r,ref:e})});Zk.displayName=P8;var M8="MenuSub",[F7,Xk]=Ll(M8),$d="MenuSubTrigger",Jk=x.forwardRef((n,e)=>{const t=Vl($d,n.__scopeMenu),r=oh($d,n.__scopeMenu),s=Xk($d,n.__scopeMenu),o=nw($d,n.__scopeMenu),u=x.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=o,h={__scopeMenu:n.__scopeMenu},g=x.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return x.useEffect(()=>g,[g]),x.useEffect(()=>{const v=d.current;return()=>{window.clearTimeout(v),f(null)}},[d,f]),k.jsx(ew,{asChild:!0,...h,children:k.jsx(Bk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":nN(t.open),...n,ref:wg(e,s.onTriggerChange),onClick:v=>{var _;(_=n.onClick)==null||_.call(n,v),!(n.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:st(n.onPointerMove,Mf(v=>{o.onItemEnter(v),!v.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(o.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:st(n.onPointerLeave,Mf(v=>{var w,S;g();const _=(w=t.content)==null?void 0:w.getBoundingClientRect();if(_){const R=(S=t.content)==null?void 0:S.dataset.side,C=R==="right",D=C?-5:5,B=_[C?"left":"right"],j=_[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+D,y:v.clientY},{x:B,y:_.top},{x:j,y:_.top},{x:j,y:_.bottom},{x:B,y:_.bottom}],side:R}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:st(n.onKeyDown,v=>{var w;const _=o.searchRef.current!=="";n.disabled||_&&v.key===" "||m8[r.dir].includes(v.key)&&(t.onOpenChange(!0),(w=t.content)==null||w.focus(),v.preventDefault())})})})});Jk.displayName=$d;var eN="MenuSubContent",tN=x.forwardRef((n,e)=>{const t=Uk(oi,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,o=Vl(oi,n.__scopeMenu),u=oh(oi,n.__scopeMenu),d=Xk(eN,n.__scopeMenu),f=x.useRef(null),h=tr(e,f);return k.jsx(Pf.Provider,{scope:n.__scopeMenu,children:k.jsx(Ml,{present:r||o.open,children:k.jsx(Pf.Slot,{scope:n.__scopeMenu,children:k.jsx(rw,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:h,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var v;u.isUsingKeyboardRef.current&&((v=f.current)==null||v.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:st(n.onFocusOutside,g=>{g.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:st(n.onEscapeKeyDown,g=>{u.onClose(),g.preventDefault()}),onKeyDown:st(n.onKeyDown,g=>{var w;const v=g.currentTarget.contains(g.target),_=g8[u.dir].includes(g.key);v&&_&&(o.onOpenChange(!1),(w=d.trigger)==null||w.focus(),g.preventDefault())})})})})})});tN.displayName=eN;function nN(n){return n?"open":"closed"}function $m(n){return n==="indeterminate"}function aw(n){return $m(n)?"indeterminate":n?"checked":"unchecked"}function L8(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function V8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function U8(n,e,t){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let u=V8(n,Math.max(o,0));s.length===1&&(u=u.filter(h=>h!==t));const f=u.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return f!==t?f:void 0}function j8(n,e){const{x:t,y:r}=n;let s=!1;for(let o=0,u=e.length-1;o<e.length;u=o++){const d=e[o],f=e[u],h=d.x,g=d.y,v=f.x,_=f.y;g>r!=_>r&&t<(v-h)*(r-g)/(_-g)+h&&(s=!s)}return s}function z8(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return j8(t,e)}function Mf(n){return e=>e.pointerType==="mouse"?n(e):void 0}var F8=Vk,B8=ew,H8=jk,q8=zk,$8=iw,G8=Fk,K8=Cg,Q8=Hk,Y8=$k,W8=Kk,Z8=Yk,X8=Wk,J8=Zk,eq=Jk,tq=tN,Ig="DropdownMenu",[nq,B7]=Rc(Ig,[Mk]),fr=Mk(),[rq,rN]=nq(Ig),iN=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:o,onOpenChange:u,modal:d=!0}=n,f=fr(e),h=x.useRef(null),[g,v]=Bb({prop:s,defaultProp:o??!1,onChange:u,caller:Ig});return k.jsx(rq,{scope:e,triggerId:jm(),triggerRef:h,contentId:jm(),open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(_=>!_),[v]),modal:d,children:k.jsx(F8,{...f,open:g,onOpenChange:v,dir:r,modal:d,children:t})})};iN.displayName=Ig;var sN="DropdownMenuTrigger",aN=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,o=rN(sN,t),u=fr(t);return k.jsx(B8,{asChild:!0,...u,children:k.jsx(Bn.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:wg(e,o.triggerRef),onPointerDown:st(n.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:st(n.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});aN.displayName=sN;var iq="DropdownMenuPortal",oN=n=>{const{__scopeDropdownMenu:e,...t}=n,r=fr(e);return k.jsx(H8,{...r,...t})};oN.displayName=iq;var lN="DropdownMenuContent",uN=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=rN(lN,t),o=fr(t),u=x.useRef(!1);return k.jsx(q8,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:st(n.onCloseAutoFocus,d=>{var f;u.current||(f=s.triggerRef.current)==null||f.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:st(n.onInteractOutside,d=>{const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,g=f.button===2||h;(!s.modal||g)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uN.displayName=lN;var sq="DropdownMenuGroup",aq=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx($8,{...s,...r,ref:e})});aq.displayName=sq;var oq="DropdownMenuLabel",lq=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx(G8,{...s,...r,ref:e})});lq.displayName=oq;var uq="DropdownMenuItem",cN=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx(K8,{...s,...r,ref:e})});cN.displayName=uq;var cq="DropdownMenuCheckboxItem",dq=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx(Q8,{...s,...r,ref:e})});dq.displayName=cq;var fq="DropdownMenuRadioGroup",hq=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx(Y8,{...s,...r,ref:e})});hq.displayName=fq;var pq="DropdownMenuRadioItem",mq=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx(W8,{...s,...r,ref:e})});mq.displayName=pq;var gq="DropdownMenuItemIndicator",yq=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx(Z8,{...s,...r,ref:e})});yq.displayName=gq;var vq="DropdownMenuSeparator",_q=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx(X8,{...s,...r,ref:e})});_q.displayName=vq;var bq="DropdownMenuArrow",wq=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx(J8,{...s,...r,ref:e})});wq.displayName=bq;var Eq="DropdownMenuSubTrigger",Tq=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx(eq,{...s,...r,ref:e})});Tq.displayName=Eq;var Sq="DropdownMenuSubContent",xq=x.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fr(t);return k.jsx(tq,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xq.displayName=Sq;var Rq=iN,Aq=aN,Cq=oN,Iq=uN,Oq=cN;/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nq=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),zA=n=>{const e=Nq(n);return e.charAt(0).toUpperCase()+e.slice(1)},dN=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Dq=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=x.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:u,...d},f)=>x.createElement("svg",{ref:f,...Pq,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:dN("lucide",s),...!o&&!Dq(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,g])=>x.createElement(h,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=(n,e)=>{const t=x.forwardRef(({className:r,...s},o)=>x.createElement(Mq,{ref:o,iconNode:e,className:dN(`lucide-${kq(zA(n))}`,`lucide-${n}`,r),...s}));return t.displayName=zA(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Uq=Lq("globe",Vq);function jq({...n}){return k.jsx(Rq,{"data-slot":"dropdown-menu",...n})}function zq({...n}){return k.jsx(Aq,{"data-slot":"dropdown-menu-trigger",...n})}function Fq({className:n,sideOffset:e=4,...t}){return k.jsx(Cq,{children:k.jsx(Iq,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Pl("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function Bq({className:n,inset:e,variant:t="default",...r}){return k.jsx(Oq,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Pl("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function Hq(){const{i18n:n}=Zm(),e=[{code:"zh-TW",name:"繁體中文"},{code:"en",name:"English"},{code:"ja",name:"日本語"}],t=r=>{n.changeLanguage(r)};return k.jsxs(jq,{children:[k.jsx(zq,{asChild:!0,children:k.jsx(ai,{variant:"ghost",size:"icon",children:k.jsx(Uq,{className:"h-5 w-5"})})}),k.jsx(Fq,{align:"end",children:e.map(r=>k.jsx(Bq,{onClick:()=>t(r.code),className:n.language===r.code?"bg-accent":"",children:r.name},r.code))})]})}function ow(){const{t:n}=Zm(),e=Eo(),{user:t,logout:r}=nh(),s=e.pathname==="/"||e.pathname==="/auth";return k.jsxs("header",{className:"flex justify-between items-center p-6",children:[k.jsxs("div",{className:"flex items-center space-x-4",children:[!s&&k.jsx(Ji,{to:"/",className:"text-2xl hover:scale-110 transition-transform",children:"←"}),k.jsx("div",{className:"text-4xl",children:"⚔️"}),k.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-red-600 bg-clip-text text-transparent",children:n("app.title")})]}),k.jsxs("div",{className:"flex items-center space-x-2",children:[t&&e.pathname==="/"&&k.jsx(ai,{variant:"outline",size:"sm",onClick:()=>r(),className:"text-sm mr-2",children:n("auth.logout")}),k.jsx(Hq,{}),k.jsx(M5,{})]})]})}function qq(){return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 transition-all duration-300",children:[k.jsx(ow,{}),k.jsx("main",{className:"container mx-auto px-6 py-8",children:k.jsx(IM,{})})]})}const $q=NO("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function fN({className:n,variant:e,asChild:t=!1,...r}){const s=t?CO:"span";return k.jsx(s,{"data-slot":"badge",className:Pl($q({variant:e}),n),...r})}const Gm={Normal:"bg-gray-400 text-white dark:bg-gray-500",Fire:"bg-red-500 text-white dark:bg-red-600",Water:"bg-blue-500 text-white dark:bg-blue-600",Electric:"bg-yellow-400 text-black dark:bg-yellow-500 dark:text-black",Grass:"bg-green-500 text-white dark:bg-green-600",Ice:"bg-cyan-300 text-black dark:bg-cyan-400 dark:text-black",Fighting:"bg-red-700 text-white dark:bg-red-800",Poison:"bg-purple-500 text-white dark:bg-purple-600",Ground:"bg-yellow-600 text-white dark:bg-yellow-700",Flying:"bg-indigo-400 text-white dark:bg-indigo-500",Psychic:"bg-pink-500 text-white dark:bg-pink-600",Bug:"bg-lime-500 text-white dark:bg-lime-600",Rock:"bg-yellow-800 text-white dark:bg-yellow-900",Ghost:"bg-purple-700 text-white dark:bg-purple-800",Dragon:"bg-indigo-700 text-white dark:bg-indigo-800",Dark:"bg-gray-800 text-white dark:bg-gray-900",Steel:"bg-gray-500 text-white dark:bg-gray-600",Fairy:"bg-pink-300 text-black dark:bg-pink-400 dark:text-black"};function Gq({type:n,size:e="md",className:t}){const r=n.charAt(0).toUpperCase()+n.slice(1).toLowerCase(),s=Gm[r]||Gm.Normal,o={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-xs",lg:"px-4 py-1.5 text-sm"};return k.jsx(fN,{variant:"outline",className:Pl("rounded-full transition-all duration-200 hover:scale-105",s,o[e],t),children:r})}var Kq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Qq="VisuallyHidden",hN=x.forwardRef((n,e)=>k.jsx(Bn.span,{...n,ref:e,style:{...Kq,...n.style}}));hN.displayName=Qq;var Yq=hN,[Og,H7]=Rc("Tooltip",[xg]),kg=xg(),pN="TooltipProvider",Wq=700,I0="tooltip.open",[Zq,lw]=Og(pN),mN=n=>{const{__scopeTooltip:e,delayDuration:t=Wq,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=n,u=x.useRef(!0),d=x.useRef(!1),f=x.useRef(0);return x.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),k.jsx(Zq,{scope:e,isOpenDelayedRef:u,delayDuration:t,onOpen:x.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:x.useCallback(h=>{d.current=h},[]),disableHoverableContent:s,children:o})};mN.displayName=pN;var Lf="Tooltip",[Xq,lh]=Og(Lf),gN=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:u,delayDuration:d}=n,f=lw(Lf,n.__scopeTooltip),h=kg(e),[g,v]=x.useState(null),_=jm(),w=x.useRef(0),S=u??f.disableHoverableContent,R=d??f.delayDuration,C=x.useRef(!1),[D,B]=Bb({prop:r,defaultProp:s??!1,onChange:P=>{P?(f.onOpen(),document.dispatchEvent(new CustomEvent(I0))):f.onClose(),o==null||o(P)},caller:Lf}),j=x.useMemo(()=>D?C.current?"delayed-open":"instant-open":"closed",[D]),$=x.useCallback(()=>{window.clearTimeout(w.current),w.current=0,C.current=!1,B(!0)},[B]),Q=x.useCallback(()=>{window.clearTimeout(w.current),w.current=0,B(!1)},[B]),U=x.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{C.current=!0,B(!0),w.current=0},R)},[R,B]);return x.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),k.jsx(gk,{...h,children:k.jsx(Xq,{scope:e,contentId:_,open:D,stateAttribute:j,trigger:g,onTriggerChange:v,onTriggerEnter:x.useCallback(()=>{f.isOpenDelayedRef.current?U():$()},[f.isOpenDelayedRef,U,$]),onTriggerLeave:x.useCallback(()=>{S?Q():(window.clearTimeout(w.current),w.current=0)},[Q,S]),onOpen:$,onClose:Q,disableHoverableContent:S,children:t})})};gN.displayName=Lf;var O0="TooltipTrigger",yN=x.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=lh(O0,t),o=lw(O0,t),u=kg(t),d=x.useRef(null),f=tr(e,d,s.onTriggerChange),h=x.useRef(!1),g=x.useRef(!1),v=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),k.jsx(yk,{asChild:!0,...u,children:k.jsx(Bn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:f,onPointerMove:st(n.onPointerMove,_=>{_.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:st(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:st(n.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:st(n.onFocus,()=>{h.current||s.onOpen()}),onBlur:st(n.onBlur,s.onClose),onClick:st(n.onClick,s.onClose)})})});yN.displayName=O0;var uw="TooltipPortal",[Jq,e7]=Og(uw,{forceMount:void 0}),vN=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:s}=n,o=lh(uw,e);return k.jsx(Jq,{scope:e,forceMount:t,children:k.jsx(Ml,{present:t||o.open,children:k.jsx(Jb,{asChild:!0,container:s,children:r})})})};vN.displayName=uw;var yc="TooltipContent",_N=x.forwardRef((n,e)=>{const t=e7(yc,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...o}=n,u=lh(yc,n.__scopeTooltip);return k.jsx(Ml,{present:r||u.open,children:u.disableHoverableContent?k.jsx(bN,{side:s,...o,ref:e}):k.jsx(t7,{side:s,...o,ref:e})})}),t7=x.forwardRef((n,e)=>{const t=lh(yc,n.__scopeTooltip),r=lw(yc,n.__scopeTooltip),s=x.useRef(null),o=tr(e,s),[u,d]=x.useState(null),{trigger:f,onClose:h}=t,g=s.current,{onPointerInTransitChange:v}=r,_=x.useCallback(()=>{d(null),v(!1)},[v]),w=x.useCallback((S,R)=>{const C=S.currentTarget,D={x:S.clientX,y:S.clientY},B=s7(D,C.getBoundingClientRect()),j=a7(D,B),$=o7(R.getBoundingClientRect()),Q=u7([...j,...$]);d(Q),v(!0)},[v]);return x.useEffect(()=>()=>_(),[_]),x.useEffect(()=>{if(f&&g){const S=C=>w(C,g),R=C=>w(C,f);return f.addEventListener("pointerleave",S),g.addEventListener("pointerleave",R),()=>{f.removeEventListener("pointerleave",S),g.removeEventListener("pointerleave",R)}}},[f,g,w,_]),x.useEffect(()=>{if(u){const S=R=>{const C=R.target,D={x:R.clientX,y:R.clientY},B=(f==null?void 0:f.contains(C))||(g==null?void 0:g.contains(C)),j=!l7(D,u);B?_():j&&(_(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,g,u,h,_]),k.jsx(bN,{...n,ref:o})}),[n7,r7]=Og(Lf,{isInside:!1}),i7=WF("TooltipContent"),bN=x.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:u,...d}=n,f=lh(yc,t),h=kg(t),{onClose:g}=f;return x.useEffect(()=>(document.addEventListener(I0,g),()=>document.removeEventListener(I0,g)),[g]),x.useEffect(()=>{if(f.trigger){const v=_=>{const w=_.target;w!=null&&w.contains(f.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,g]),k.jsx(Hb,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:k.jsxs(vk,{"data-state":f.stateAttribute,...h,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[k.jsx(i7,{children:r}),k.jsx(n7,{scope:t,isInside:!0,children:k.jsx(Yq,{id:f.contentId,role:"tooltip",children:s||r})})]})})});_N.displayName=yc;var wN="TooltipArrow",EN=x.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=kg(t);return r7(wN,t).isInside?null:k.jsx(_k,{...s,...r,ref:e})});EN.displayName=wN;function s7(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,r,s,o)){case o:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function a7(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function o7(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function l7(n,e){const{x:t,y:r}=n;let s=!1;for(let o=0,u=e.length-1;o<e.length;u=o++){const d=e[o],f=e[u],h=d.x,g=d.y,v=f.x,_=f.y;g>r!=_>r&&t<(v-h)*(r-g)/(_-g)+h&&(s=!s)}return s}function u7(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),c7(e)}function c7(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const o=e[e.length-1],u=e[e.length-2];if((o.x-u.x)*(s.y-u.y)>=(o.y-u.y)*(s.x-u.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const o=t[t.length-1],u=t[t.length-2];if((o.x-u.x)*(s.y-u.y)>=(o.y-u.y)*(s.x-u.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var d7=mN,f7=gN,h7=yN,p7=vN,m7=_N,g7=EN;function y7({delayDuration:n=0,...e}){return k.jsx(d7,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function v7({...n}){return k.jsx(y7,{children:k.jsx(f7,{"data-slot":"tooltip",...n})})}function _7({...n}){return k.jsx(h7,{"data-slot":"tooltip-trigger",...n})}function b7({className:n,sideOffset:e=0,children:t,...r}){return k.jsx(p7,{children:k.jsxs(m7,{"data-slot":"tooltip-content",sideOffset:e,className:Pl("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...r,children:[t,k.jsx(g7,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const w7="/pokemon_battle_arena/";let im={};async function E7(){try{const n=await fetch(`${w7}moves.json`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);im=await n.json(),console.log("Move data loaded successfully")}catch(n){console.error("Failed to load move data:",n)}}function T7(n){const e=n.toLowerCase().replace(/-/g,"").replace(/\s+/g,"");if(im[e])return im[e];const t=Object.entries(im).find(([,r])=>r.name===e);return t?t[1]:void 0}function S7({move:n,size:e,className:t}){const{t:r}=Zm(),s=T7(n);if(!s)return null;const o=Gm[s.type]||Gm.Normal,u={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-xs",lg:"px-4 py-1.5 text-sm"};return k.jsxs(v7,{children:[k.jsx(_7,{asChild:!0,children:k.jsx(fN,{variant:"outline",className:Pl("rounded-full transition-all duration-200 hover:scale-105",o,u[e],t),children:r(`move.${n}`)})}),k.jsxs(b7,{className:"text-sm",children:[k.jsx("p",{children:k.jsxs("span",{className:"flex gap-2",children:[k.jsxs("span",{className:"bg-red-100 dark:bg-red-900/30 px-2 py-0.5 rounded",children:["Power: ",s.basePower||"N/A"]}),k.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:["Accruacy: ",s.accuracy===!0?"--":s.accuracy]}),k.jsxs("span",{className:"bg-purple-100 dark:bg-purple-900/30 px-2 py-0.5 rounded",children:["Category: ",s.category]}),k.jsxs("span",{className:"bg-green-100 dark:bg-green-900/30 px-2 py-0.5 rounded",children:["PP: ",s.pp]})]})}),k.jsx("p",{className:"font-bold mt-1",children:s.shortDesc})]})]})}function x7(){const{t:n}=Zm(),{playerName:e,playerTeam:t,winStreak:r,biggestWinStreak:s,totalWins:o}=v0();return k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 transition-all duration-300",children:k.jsxs("main",{className:"container mx-auto px-6 py-8",children:[k.jsxs("div",{className:"text-center mb-12",children:[k.jsxs("h2",{className:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:["歡迎回來, ",e,"! ◉"]}),k.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"準備好進入激烈的寶可夢對戰了嗎？選擇你的戰略，訓練你的隊伍，成為最強的訓練師！"})]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[k.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"總勝場"}),k.jsx("p",{className:"text-3xl font-bold text-green-600",children:o})]}),k.jsx("div",{className:"text-4xl",children:"🏆"})]})}),k.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"連勝紀錄"}),k.jsx("p",{className:"text-3xl font-bold text-orange-600",children:s})]}),k.jsx("div",{className:"text-4xl",children:"🔥"})]})}),k.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"目前勝場"}),k.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r})]}),k.jsx("div",{className:"text-4xl",children:"⭐"})]})})]}),k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg border border-gray-200 dark:border-gray-700 mb-12",children:[k.jsxs("h3",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200 flex items-center",children:[k.jsx("span",{className:"mr-3",children:"◆"}),"你的隊伍"]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((u,d)=>k.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-lg p-6 text-center hover:shadow-md transition-all duration-200",children:[k.jsx("img",{src:u.sprite,alt:u.name,className:"w-24 h-24 mx-auto mb-2 hover:scale-110 transition-transform duration-200"}),k.jsx("h4",{className:"text-lg font-semibold capitalize text-gray-800 dark:text-gray-200 mb-2",children:n(`pokemon.${u.name??""}`)}),k.jsx("div",{className:"flex justify-center space-x-2 mb-2",children:u.types.map((f,h)=>k.jsx(Gq,{type:f,size:"md"},h))}),k.jsx("div",{className:"flex flex-wrap justify-between",children:u.moves.map((f,h)=>k.jsx(S7,{move:f,size:"md",className:"basis-[48%] mt-2"},h))})]},d))})]}),k.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[k.jsx(Ji,{to:"/battle",children:k.jsx(ai,{size:"lg",className:"w-full sm:w-auto bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold px-8 py-3 text-lg shadow-lg",children:"▶ 開始戰鬥"})}),k.jsx(Ji,{to:"/team-editor",children:k.jsx(ai,{variant:"outline",size:"lg",className:"w-full sm:w-auto font-semibold px-8 py-3 text-lg",children:"◉ 編輯隊伍"})}),k.jsx(Ji,{to:"/stats",children:k.jsx(ai,{variant:"outline",size:"lg",className:"w-full sm:w-auto font-semibold px-8 py-3 text-lg",children:"■ 查看戰績"})})]}),k.jsxs("div",{className:"mt-16 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-8 border border-blue-200 dark:border-gray-600",children:[k.jsxs("h3",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-gray-200 flex items-center",children:[k.jsx("span",{className:"mr-3",children:"◇"}),"訓練師小貼士"]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700 dark:text-gray-300",children:[k.jsxs("div",{className:"flex items-start space-x-3",children:[k.jsx("span",{className:"text-green-500",children:"✓"}),k.jsx("span",{children:"合理搭配寶可夢屬性，克制對手弱點"})]}),k.jsxs("div",{className:"flex items-start space-x-3",children:[k.jsx("span",{className:"text-green-500",children:"✓"}),k.jsx("span",{children:"觀察對手行動模式，預判下一步"})]}),k.jsxs("div",{className:"flex items-start space-x-3",children:[k.jsx("span",{className:"text-green-500",children:"✓"}),k.jsx("span",{children:"善用狀態技能和場地效果"})]}),k.jsxs("div",{className:"flex items-start space-x-3",children:[k.jsx("span",{className:"text-green-500",children:"✓"}),k.jsx("span",{children:"適時切換寶可夢保存實力"})]})]})]})]})})}function R7(){return k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 dark:from-gray-900 dark:to-gray-800 transition-all duration-300",children:k.jsx("main",{className:"container mx-auto px-6 py-8",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200",children:"戰鬥頁面"}),k.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-12",children:"這裡將會是激烈的寶可夢對戰場地！"}),k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 shadow-lg border border-gray-200 dark:border-gray-700",children:[k.jsx("div",{className:"text-6xl mb-6",children:"⚔️"}),k.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"戰鬥系統開發中..."}),k.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"即將推出完整的寶可夢對戰體驗"}),k.jsx(Ji,{to:"/",children:k.jsx(ai,{variant:"outline",size:"lg",children:"返回首頁"})})]})]})})})}function A7(){return k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 transition-all duration-300",children:k.jsx("main",{className:"container mx-auto px-6 py-8",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200",children:"隊伍編輯器"}),k.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-12",children:"在這裡管理你的寶可夢隊伍配置！"}),k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 shadow-lg border border-gray-200 dark:border-gray-700",children:[k.jsx("div",{className:"text-6xl mb-6",children:"◉"}),k.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"隊伍管理系統開發中..."}),k.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"即將推出完整的隊伍編輯功能"}),k.jsx(Ji,{to:"/",children:k.jsx(ai,{variant:"outline",size:"lg",children:"返回首頁"})})]})]})})})}function C7(){return k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 dark:from-gray-900 dark:to-gray-800 transition-all duration-300",children:k.jsx("main",{className:"container mx-auto px-6 py-8",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200",children:"戰績統計"}),k.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-12",children:"查看你的詳細戰鬥記錄和統計數據！"}),k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 shadow-lg border border-gray-200 dark:border-gray-700",children:[k.jsx("div",{className:"text-6xl mb-6",children:"■"}),k.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"統計系統開發中..."}),k.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"即將推出詳細的戰績分析功能"}),k.jsx(Ji,{to:"/",children:k.jsx(ai,{variant:"outline",size:"lg",children:"返回首頁"})})]})]})})})}function I7(){const[n,e]=x.useState(!0),[t,r]=x.useState(""),[s,o]=x.useState(""),[u,d]=x.useState(""),{signIn:f,signUp:h,signInWithGoogle:g,loading:v,error:_,clearError:w,user:S}=nh(),R=U0();x.useEffect(()=>{S&&R("/")},[S,R]);const C=async B=>{if(B.preventDefault(),w(),!n&&s!==u){alert("密碼確認不符！");return}try{n?await f(t,s):await h(t,s)}catch(j){console.error(j)}},D=async()=>{w();try{await g()}catch(B){console.error(B)}};return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-cyan-50 dark:from-gray-900 dark:to-gray-800 transition-all duration-300",children:[k.jsx(ow,{}),k.jsx("main",{className:"container mx-auto px-6 py-8 flex items-center justify-center",children:k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg border border-gray-200 dark:border-gray-700 w-full max-w-md",children:[k.jsxs("div",{className:"text-center mb-8",children:[k.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),k.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:n?"歡迎回來！":"加入戰鬥！"}),k.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n?"登入你的訓練師帳號":"創建新的訓練師帳號"})]}),k.jsxs("form",{onSubmit:C,className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"電子郵件"}),k.jsx("input",{type:"email",value:t,onChange:B=>r(B.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"your@email.com",required:!0})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"密碼"}),k.jsx("input",{type:"password",value:s,onChange:B=>o(B.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"••••••••",required:!0,minLength:6})]}),!n&&k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"確認密碼"}),k.jsx("input",{type:"password",value:u,onChange:B=>d(B.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"••••••••",required:!0,minLength:6})]}),_&&k.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:k.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:_})}),k.jsx(ai,{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-indigo-500 to-cyan-500 hover:from-indigo-600 hover:to-cyan-600 text-white font-semibold py-2 px-4 rounded-md transition-all duration-200",children:v?"處理中...":n?"登入":"註冊"})]}),k.jsxs("div",{className:"mt-4 relative",children:[k.jsx("div",{className:"absolute inset-0 flex items-center",children:k.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),k.jsx("div",{className:"relative flex justify-center text-sm",children:k.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"或"})})]}),k.jsxs(ai,{type:"button",onClick:D,disabled:v,className:"mt-4 w-full flex items-center justify-center space-x-2 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 font-medium py-2 px-4 rounded-md transition-all duration-200",children:[k.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[k.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),k.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),k.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),k.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),k.jsxs("span",{children:["使用 Google 帳號",n?"登入":"註冊"]})]}),k.jsx("div",{className:"mt-6 text-center",children:k.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n?"還沒有帳號？":"已經有帳號了？",k.jsx("button",{type:"button",onClick:()=>{e(!n),w(),r(""),o(""),d("")},className:"ml-1 text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 font-medium",children:n?"立即註冊":"立即登入"})]})}),k.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:k.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"登入即表示你同意我們的服務條款和隱私政策"})})]})})]})}function O7(){return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-red-50 dark:from-gray-900 dark:to-gray-800 transition-all duration-300",children:[k.jsx(ow,{}),k.jsx("main",{className:"container mx-auto px-6 py-8 flex items-center justify-center",children:k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 shadow-lg border border-gray-200 dark:border-gray-700 text-center max-w-md",children:[k.jsx("div",{className:"text-8xl mb-6",children:"😵"}),k.jsx("h2",{className:"text-4xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:"404"}),k.jsx("h3",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-300 mb-6",children:"頁面走失了！"}),k.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"看來這隻寶可夢跑到野外去了，我們找不到您要訪問的頁面。"}),k.jsx(Ji,{to:"/",children:k.jsx(ai,{size:"lg",className:"bg-gradient-to-r from-yellow-500 to-red-500 hover:from-yellow-600 hover:to-red-600 text-white",children:"返回首頁"})})]})})]})}const k7="/pokemon_battle_arena/",N7=e2([{path:"/",element:k.jsx(Hv,{children:k.jsx(QF,{children:k.jsx(qq,{})})}),children:[{index:!0,element:k.jsx(x7,{})},{path:"battle",element:k.jsx(R7,{})},{path:"team-editor",element:k.jsx(A7,{})},{path:"stats",element:k.jsx(C7,{})}]},{path:"/auth",element:k.jsx(Hv,{children:k.jsx(I7,{})})},{path:"*",element:k.jsx(Hv,{children:k.jsx(O7,{})})}],{basename:k7}),D7=new k2({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30}}});E7().catch(console.error);iP.createRoot(document.getElementById("root")).render(k.jsx(x.StrictMode,{children:k.jsx(L2,{client:D7,children:k.jsx(h2,{router:N7})})}));export{M7 as c,WA as g};
